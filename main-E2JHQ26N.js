var Up=Object.defineProperty,Gp=Object.defineProperties;var $p=Object.getOwnPropertyDescriptors;var ur=Object.getOwnPropertySymbols;var P1=Object.prototype.hasOwnProperty,R1=Object.prototype.propertyIsEnumerable;var A1=(t,e,n)=>e in t?Up(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,H=(t,e)=>{for(var n in e||={})P1.call(e,n)&&A1(t,n,e[n]);if(ur)for(var n of ur(e))R1.call(e,n)&&A1(t,n,e[n]);return t},ae=(t,e)=>Gp(t,$p(e));var $s=(t,e)=>{var n={};for(var i in t)P1.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&ur)for(var i of ur(t))e.indexOf(i)<0&&R1.call(t,i)&&(n[i]=t[i]);return n};var qt=(t,e,n)=>new Promise((i,a)=>{var r=c=>{try{s(n.next(c))}catch(l){a(l)}},o=c=>{try{s(n.throw(c))}catch(l){a(l)}},s=c=>c.done?i(c.value):Promise.resolve(c.value).then(r,o);s((n=n.apply(t,e)).next())});var Ks;function hr(){return Ks}function ht(t){let e=Ks;return Ks=t,e}var F1=Symbol("NotFound");function ni(t){return t===F1||t?.name==="\u0275NotFound"}var Le=null,pr=!1,Zs=1,Kp=null,He=Symbol("SIGNAL");function z(t){let e=Le;return Le=t,e}function gr(){return Le}var ii={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function kr(t){if(pr)throw new Error("");if(Le===null)return;Le.consumerOnSignalRead(t);let e=Le.producersTail;if(e!==void 0&&e.producer===t)return;let n,i=Le.recomputing;if(i&&(n=e!==void 0?e.nextProducer:Le.producers,n!==void 0&&n.producer===t)){Le.producersTail=n,n.lastReadVersion=t.version;return}let a=t.consumersTail;if(a!==void 0&&a.consumer===Le&&(!i||Xp(a,Le)))return;let r=ai(Le),o={producer:t,consumer:Le,nextProducer:n,prevConsumer:a,lastReadVersion:t.version,nextConsumer:void 0};Le.producersTail=o,e!==void 0?e.nextProducer=o:Le.producers=o,r&&H1(t,o)}function N1(){Zs++}function vr(t){if(!(ai(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Zs)){if(!t.producerMustRecompute(t)&&!Cr(t)){mr(t);return}t.producerRecomputeValue(t),mr(t)}}function Xs(t){if(t.consumers===void 0)return;let e=pr;pr=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let i=n.consumer;i.dirty||Zp(i)}}finally{pr=e}}function Ys(){return Le?.consumerAllowSignalWrites!==!1}function Zp(t){t.dirty=!0,Xs(t),t.consumerMarkedDirty?.(t)}function mr(t){t.dirty=!1,t.lastCleanEpoch=Zs}function Xi(t){return t&&O1(t),z(t)}function O1(t){t.producersTail=void 0,t.recomputing=!0}function Mr(t,e){z(e),t&&V1(t)}function V1(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(ai(t))do n=Qs(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Cr(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,i=e.lastReadVersion;if(i!==n.version||(vr(n),i!==n.version))return!0}return!1}function xr(t){if(ai(t)){let e=t.producers;for(;e!==void 0;)e=Qs(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function H1(t,e){let n=t.consumersTail,i=ai(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!i)for(let a=t.producers;a!==void 0;a=a.nextProducer)H1(a.producer,a)}function Qs(t){let e=t.producer,n=t.nextProducer,i=t.nextConsumer,a=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,i!==void 0?i.prevConsumer=a:e.consumersTail=a,a!==void 0)a.nextConsumer=i;else if(e.consumers=i,!ai(e)){let r=e.producers;for(;r!==void 0;)r=Qs(r)}return n}function ai(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function wr(t){Kp?.(t)}function Xp(t,e){let n=e.producersTail;if(n!==void 0){let i=e.producers;do{if(i===t)return!0;if(i===n)break;i=i.nextProducer}while(i!==void 0)}return!1}function br(t,e){return Object.is(t,e)}function Ir(t,e){let n=Object.create(Yp);n.computation=t,e!==void 0&&(n.equal=e);let i=()=>{if(vr(n),kr(n),n.value===Zi)throw n.error;return n.value};return i[He]=n,wr(n),i}var fr=Symbol("UNSET"),yr=Symbol("COMPUTING"),Zi=Symbol("ERRORED"),Yp=ae(H({},ii),{value:fr,dirty:!0,error:null,equal:br,kind:"computed",producerMustRecompute(t){return t.value===fr||t.value===yr},producerRecomputeValue(t){if(t.value===yr)throw new Error("");let e=t.value;t.value=yr;let n=Xi(t),i,a=!1;try{i=t.computation(),z(null),a=e!==fr&&e!==Zi&&i!==Zi&&t.equal(e,i)}catch(r){i=Zi,t.error=r}finally{Mr(t,n)}if(a){t.value=e;return}t.value=i,t.version++}});function Qp(){throw new Error}var j1=Qp;function B1(t){j1(t)}function Js(t){j1=t}var Jp=null;function ec(t,e){let n=Object.create(q1);n.value=t,e!==void 0&&(n.equal=e);let i=()=>z1(n);return i[He]=n,wr(n),[i,o=>Dr(n,o),o=>tc(n,o)]}function z1(t){return kr(t),t.value}function Dr(t,e){Ys()||B1(t),t.equal(t.value,e)||(t.value=e,ef(t))}function tc(t,e){Ys()||B1(t),Dr(t,e(t.value))}var q1=ae(H({},ii),{equal:br,value:void 0,kind:"signal"});function ef(t){t.version++,N1(),Xs(t),Jp?.(t)}function $(t){return typeof t=="function"}function Sr(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var _r=Sr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,a)=>`${a+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Yi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let r of n)r.remove(this);else n.remove(this);let{initialTeardown:i}=this;if($(i))try{i()}catch(r){e=r instanceof _r?r.errors:[r]}let{_finalizers:a}=this;if(a){this._finalizers=null;for(let r of a)try{W1(r)}catch(o){e=e??[],o instanceof _r?e=[...e,...o.errors]:e.push(o)}}if(e)throw new _r(e)}}add(e){var n;if(e&&e!==this)if(this.closed)W1(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Yi(n,e)}remove(e){let{_finalizers:n}=this;n&&Yi(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var nc=Pe.EMPTY;function Lr(t){return t instanceof Pe||t&&"closed"in t&&$(t.remove)&&$(t.add)&&$(t.unsubscribe)}function W1(t){$(t)?t():t.unsubscribe()}var nt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ri={setTimeout(t,e,...n){let{delegate:i}=ri;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ri;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Er(t){ri.setTimeout(()=>{let{onUnhandledError:e}=nt;if(e)e(t);else throw t})}function ic(){}var U1=ac("C",void 0,void 0);function G1(t){return ac("E",void 0,t)}function $1(t){return ac("N",t,void 0)}function ac(t,e,n){return{kind:t,value:e,error:n}}var vn=null;function oi(t){if(nt.useDeprecatedSynchronousErrorHandling){let e=!vn;if(e&&(vn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=vn;if(vn=null,n)throw i}}else t()}function K1(t){nt.useDeprecatedSynchronousErrorHandling&&vn&&(vn.errorThrown=!0,vn.error=t)}var Mn=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Lr(e)&&e.add(this)):this.destination=af}static create(e,n,i){return new St(e,n,i)}next(e){this.isStopped?oc($1(e),this):this._next(e)}error(e){this.isStopped?oc(G1(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?oc(U1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tf=Function.prototype.bind;function rc(t,e){return tf.call(t,e)}var sc=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Tr(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Tr(i)}else Tr(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Tr(n)}}},St=class extends Mn{constructor(e,n,i){super();let a;if($(e)||!e)a={next:e??void 0,error:n??void 0,complete:i??void 0};else{let r;this&&nt.useDeprecatedNextContext?(r=Object.create(e),r.unsubscribe=()=>this.unsubscribe(),a={next:e.next&&rc(e.next,r),error:e.error&&rc(e.error,r),complete:e.complete&&rc(e.complete,r)}):a=e}this.destination=new sc(a)}};function Tr(t){nt.useDeprecatedSynchronousErrorHandling?K1(t):Er(t)}function nf(t){throw t}function oc(t,e){let{onStoppedNotification:n}=nt;n&&ri.setTimeout(()=>n(t,e))}var af={closed:!0,next:ic,error:nf,complete:ic};var si=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ar(t){return t}function Z1(t){return t.length===0?Ar:t.length===1?t[0]:function(n){return t.reduce((i,a)=>a(i),n)}}var ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,a){let r=of(n)?n:new St(n,i,a);return oi(()=>{let{operator:o,source:s}=this;r.add(o?o.call(r,s):s?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=X1(i),new i((a,r)=>{let o=new St({next:s=>{try{n(s)}catch(c){r(c),o.unsubscribe()}},error:r,complete:a});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[si](){return this}pipe(...n){return Z1(n)(this)}toPromise(n){return n=X1(n),new n((i,a)=>{let r;this.subscribe(o=>r=o,o=>a(o),()=>i(r))})}}return t.create=e=>new t(e),t})();function X1(t){var e;return(e=t??nt.Promise)!==null&&e!==void 0?e:Promise}function rf(t){return t&&$(t.next)&&$(t.error)&&$(t.complete)}function of(t){return t&&t instanceof Mn||rf(t)&&Lr(t)}function sf(t){return $(t?.lift)}function xe(t){return e=>{if(sf(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ee(t,e,n,i,a){return new cc(t,e,n,i,a)}var cc=class extends Mn{constructor(e,n,i,a,r,o){super(e),this.onFinalize=r,this.shouldUnsubscribe=o,this._next=n?function(s){try{n(s)}catch(c){e.error(c)}}:super._next,this._error=a?function(s){try{a(s)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Y1=Sr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Pr(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Y1}next(n){oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:a,observers:r}=this;return i||a?nc:(this.currentObservers=null,r.push(n),new Pe(()=>{this.currentObservers=null,Yi(r,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:a,isStopped:r}=this;i?n.error(a):r&&n.complete()}asObservable(){let n=new ee;return n.source=this,n}}return t.create=(e,n)=>new Pr(e,n),t})(),Pr=class extends we{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:nc}};var Qi=class extends we{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var lc={now(){return(lc.delegate||Date).now()},delegate:void 0};var Rr=class extends we{constructor(e=1/0,n=1/0,i=lc){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:r,_windowTime:o}=this;n||(i.push(e),!a&&i.push(r.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:a}=this,r=a.slice();for(let o=0;o<r.length&&!e.closed;o+=i?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:a}=this,r=(a?1:2)*e;if(e<1/0&&r<i.length&&i.splice(0,i.length-r),!a){let o=n.now(),s=0;for(let c=1;c<i.length&&i[c]<=o;c+=2)s=c;s&&i.splice(0,s+1)}}};var Q1=new ee(t=>t.complete());function J1(t){return t&&$(t.schedule)}function eu(t){return t[t.length-1]}function tu(t){return $(eu(t))?t.pop():void 0}function Fr(t){return J1(eu(t))?t.pop():void 0}function iu(t,e,n,i){function a(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function s(u){try{l(i.next(u))}catch(f){o(f)}}function c(u){try{l(i.throw(u))}catch(f){o(f)}}function l(u){u.done?r(u.value):a(u.value).then(s,c)}l((i=i.apply(t,e||[])).next())})}function nu(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cn(t){return this instanceof Cn?(this.v=t,this):new Cn(t)}function au(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),a,r=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(m){return function(D){return Promise.resolve(D).then(m,f)}}function s(m,D){i[m]&&(a[m]=function(F){return new Promise(function(P,E){r.push([m,F,P,E])>1||c(m,F)})},D&&(a[m]=D(a[m])))}function c(m,D){try{l(i[m](D))}catch(F){M(r[0][3],F)}}function l(m){m.value instanceof Cn?Promise.resolve(m.value.v).then(u,f):M(r[0][2],m)}function u(m){c("next",m)}function f(m){c("throw",m)}function M(m,D){m(D),r.shift(),r.length&&c(r[0][0],r[0][1])}}function ru(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nu=="function"?nu(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(r){n[r]=t[r]&&function(o){return new Promise(function(s,c){o=t[r](o),a(s,c,o.done,o.value)})}}function a(r,o,s,c){Promise.resolve(c).then(function(l){r({value:l,done:s})},o)}}var Nr=t=>t&&typeof t.length=="number"&&typeof t!="function";function Or(t){return $(t?.then)}function Vr(t){return $(t[si])}function Hr(t){return Symbol.asyncIterator&&$(t?.[Symbol.asyncIterator])}function jr(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cf(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Br=cf();function zr(t){return $(t?.[Br])}function qr(t){return au(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:a}=yield Cn(n.read());if(a)return yield Cn(void 0);yield yield Cn(i)}}finally{n.releaseLock()}})}function Wr(t){return $(t?.getReader)}function ve(t){if(t instanceof ee)return t;if(t!=null){if(Vr(t))return lf(t);if(Nr(t))return df(t);if(Or(t))return uf(t);if(Hr(t))return ou(t);if(zr(t))return hf(t);if(Wr(t))return pf(t)}throw jr(t)}function lf(t){return new ee(e=>{let n=t[si]();if($(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function df(t){return new ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function uf(t){return new ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Er)})}function hf(t){return new ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function ou(t){return new ee(e=>{ff(t,e).catch(n=>e.error(n))})}function pf(t){return ou(qr(t))}function ff(t,e){var n,i,a,r;return iu(this,void 0,void 0,function*(){try{for(n=ru(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&(yield r.call(n))}finally{if(a)throw a.error}}e.complete()})}function Ke(t,e,n,i=0,a=!1){let r=e.schedule(function(){n(),a?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(r),!a)return r}function Ur(t,e=0){return xe((n,i)=>{n.subscribe(Ee(i,a=>Ke(i,t,()=>i.next(a),e),()=>Ke(i,t,()=>i.complete(),e),a=>Ke(i,t,()=>i.error(a),e)))})}function Gr(t,e=0){return xe((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function su(t,e){return ve(t).pipe(Gr(e),Ur(e))}function cu(t,e){return ve(t).pipe(Gr(e),Ur(e))}function lu(t,e){return new ee(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function du(t,e){return new ee(n=>{let i;return Ke(n,e,()=>{i=t[Br](),Ke(n,e,()=>{let a,r;try{({value:a,done:r}=i.next())}catch(o){n.error(o);return}r?n.complete():n.next(a)},0,!0)}),()=>$(i?.return)&&i.return()})}function $r(t,e){if(!t)throw new Error("Iterable cannot be null");return new ee(n=>{Ke(n,e,()=>{let i=t[Symbol.asyncIterator]();Ke(n,e,()=>{i.next().then(a=>{a.done?n.complete():n.next(a.value)})},0,!0)})})}function uu(t,e){return $r(qr(t),e)}function hu(t,e){if(t!=null){if(Vr(t))return su(t,e);if(Nr(t))return lu(t,e);if(Or(t))return cu(t,e);if(Hr(t))return $r(t,e);if(zr(t))return du(t,e);if(Wr(t))return uu(t,e)}throw jr(t)}function xn(t,e){return e?hu(t,e):ve(t)}function _t(...t){let e=Fr(t);return xn(t,e)}function Wt(t){return!!t&&(t instanceof ee||$(t.lift)&&$(t.subscribe))}function De(t,e){return xe((n,i)=>{let a=0;n.subscribe(Ee(i,r=>{i.next(t.call(e,r,a++))}))})}var{isArray:yf}=Array;function mf(t,e){return yf(e)?t(...e):t(e)}function pu(t){return De(e=>mf(t,e))}var{isArray:gf}=Array,{getPrototypeOf:kf,prototype:vf,keys:Mf}=Object;function fu(t){if(t.length===1){let e=t[0];if(gf(e))return{args:e,keys:null};if(Cf(e)){let n=Mf(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function Cf(t){return t&&typeof t=="object"&&kf(t)===vf}function yu(t,e){return t.reduce((n,i,a)=>(n[i]=e[a],n),{})}function mu(t,e,n,i,a,r,o,s){let c=[],l=0,u=0,f=!1,M=()=>{f&&!c.length&&!l&&e.complete()},m=F=>l<i?D(F):c.push(F),D=F=>{r&&e.next(F),l++;let P=!1;ve(n(F,u++)).subscribe(Ee(e,E=>{a?.(E),r?m(E):e.next(E)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;c.length&&l<i;){let E=c.shift();o?Ke(e,o,()=>D(E)):D(E)}M()}catch(E){e.error(E)}}))};return t.subscribe(Ee(e,m,()=>{f=!0,M()})),()=>{s?.()}}function ci(t,e,n=1/0){return $(e)?ci((i,a)=>De((r,o)=>e(i,r,a,o))(ve(t(i,a))),n):(typeof e=="number"&&(n=e),xe((i,a)=>mu(i,a,t,n)))}function gu(t=1/0){return ci(Ar,t)}function ku(){return gu(1)}function Kr(...t){return ku()(xn(t,Fr(t)))}function Zr(t){return new ee(e=>{ve(t()).subscribe(e)})}function Ji(...t){let e=tu(t),{args:n,keys:i}=fu(t),a=new ee(r=>{let{length:o}=n;if(!o){r.complete();return}let s=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let f=!1;ve(n[u]).subscribe(Ee(r,M=>{f||(f=!0,l--),s[u]=M},()=>c--,void 0,()=>{(!c||!f)&&(l||r.next(i?yu(i,s):s),r.complete())}))}});return e?a.pipe(pu(e)):a}function dc(t,e){return xe((n,i)=>{let a=0;n.subscribe(Ee(i,r=>t.call(e,r,a++)&&i.next(r)))})}function ea(t,e){return $(e)?ci(t,e,1):ci(t,1)}function li(t){return t<=0?()=>Q1:xe((e,n)=>{let i=0;e.subscribe(Ee(n,a=>{++i<=t&&(n.next(a),t<=i&&n.complete())}))})}function uc(t){return xe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function vu(t={}){let{connector:e=()=>new we,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:a=!0}=t;return r=>{let o,s,c,l=0,u=!1,f=!1,M=()=>{s?.unsubscribe(),s=void 0},m=()=>{M(),o=c=void 0,u=f=!1},D=()=>{let F=o;m(),F?.unsubscribe()};return xe((F,P)=>{l++,!f&&!u&&M();let E=c=c??e();P.add(()=>{l--,l===0&&!f&&!u&&(s=hc(D,a))}),E.subscribe(P),!o&&l>0&&(o=new St({next:Y=>E.next(Y),error:Y=>{f=!0,M(),s=hc(m,n,Y),E.error(Y)},complete:()=>{u=!0,M(),s=hc(m,i),E.complete()}}),ve(F).subscribe(o))})(r)}}function hc(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new St({next:()=>{i.unsubscribe(),t()}});return ve(e(...n)).subscribe(i)}function Xr(t,e,n){let i,a=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:n}=t:i=t??1/0,vu({connector:()=>new Rr(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function di(t,e){return xe((n,i)=>{let a=null,r=0,o=!1,s=()=>o&&!a&&i.complete();n.subscribe(Ee(i,c=>{a?.unsubscribe();let l=0,u=r++;ve(t(c,u)).subscribe(a=Ee(i,f=>i.next(e?e(c,f,u,l++):f),()=>{a=null,s()}))},()=>{o=!0,s()}))})}function Mu(t){let e=z(null);try{return t()}finally{z(e)}}var Ic="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",N=class extends Error{code;constructor(e,n){super(aa(e,n)),this.code=e}};function xf(t){return`NG0${Math.abs(t)}`}function aa(t,e){return`${xf(t)}${e?": "+e:""}`}var Sn=globalThis;function te(t){for(let e in t)if(t[e]===te)return e;throw Error("")}function wu(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Ut).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let i=n.indexOf(`
`);return i>=0?n.slice(0,i):n}function Dc(t,e){return t?e?`${t} ${e}`:t:e||""}var wf=te({__forward_ref__:te});function _n(t){return t.__forward_ref__=_n,t.toString=function(){return Ut(this())},t}function Se(t){return Sc(t)?t():t}function Sc(t){return typeof t=="function"&&t.hasOwnProperty(wf)&&t.__forward_ref__===_n}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qe(t){return{providers:t.providers||[],imports:t.imports||[]}}function eo(t){return bf(t,to)}function bf(t,e){return t.hasOwnProperty(e)&&t[e]||null}function If(t){let e=t?.[to]??null;return e||null}function fc(t){return t&&t.hasOwnProperty(Qr)?t[Qr]:null}var to=te({\u0275prov:te}),Qr=te({\u0275inj:te}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _c(t){return t&&!!t.\u0275providers}var Lc=te({\u0275cmp:te}),Ec=te({\u0275dir:te}),Tc=te({\u0275pipe:te});var na=te({\u0275fac:te}),Ln=te({__NG_ELEMENT_ID__:te}),Cu=te({__NG_ENV_ID__:te});function ft(t){return typeof t=="string"?t:t==null?"":String(t)}function bu(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ft(t)}var Iu=te({ngErrorCode:te}),Df=te({ngErrorMessage:te}),Sf=te({ngTokenPath:te});function Ac(t,e){return Du("",-200,e)}function no(t,e){throw new N(-201,!1)}function Du(t,e,n){let i=new N(e,t);return i[Iu]=e,i[Df]=t,n&&(i[Sf]=n),i}function _f(t){return t[Iu]}var yc;function Su(){return yc}function Re(t){let e=yc;return yc=t,e}function Pc(t,e,n){let i=eo(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&8)return null;if(e!==void 0)return e;no(t,"Injector")}var Lf={},wn=Lf,mc="__NG_DI_FLAG__",gc=class{injector;constructor(e){this.injector=e}retrieve(e,n){let i=bn(n)||0;try{return this.injector.get(e,i&8?null:wn,i)}catch(a){if(ni(a))return a;throw a}}};function Ef(t,e=0){let n=hr();if(n===void 0)throw new N(-203,!1);if(n===null)return Pc(t,void 0,e);{let i=Tf(e),a=n.retrieve(t,i);if(ni(a)){if(i.optional)return null;throw a}return a}}function G(t,e=0){return(Su()||Ef)(Se(t),e)}function R(t,e){return G(t,bn(e))}function bn(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Tf(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function kc(t){let e=[];for(let n=0;n<t.length;n++){let i=Se(t[n]);if(Array.isArray(i)){if(i.length===0)throw new N(900,!1);let a,r=0;for(let o=0;o<i.length;o++){let s=i[o],c=Af(s);typeof c=="number"?c===-1?a=s.token:r|=c:a=s}e.push(G(a,r))}else e.push(G(i))}return e}function _u(t,e){return t[mc]=e,t.prototype[mc]=e,t}function Af(t){return t[mc]}function Gt(t,e){let n=t.hasOwnProperty(na);return n?t[na]:null}function Lu(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let a=t[i],r=e[i];if(n&&(a=n(a),r=n(r)),r!==a)return!1}return!0}function Eu(t){return t.flat(Number.POSITIVE_INFINITY)}function io(t,e){t.forEach(n=>Array.isArray(n)?io(n,e):e(n))}function Rc(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ra(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Tu(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function Au(t,e,n,i){let a=t.length;if(a==e)t.push(n,i);else if(a===1)t.push(i,t[0]),t[0]=n;else{for(a--,t.push(t[a-1],t[a]);a>e;){let r=a-2;t[a]=t[r],a--}t[e]=n,t[e+1]=i}}function Pu(t,e,n){let i=hi(t,e);return i>=0?t[i|1]=n:(i=~i,Au(t,i,e,n)),i}function ao(t,e){let n=hi(t,e);if(n>=0)return t[n|1]}function hi(t,e){return Pf(t,e,1)}function Pf(t,e,n){let i=0,a=t.length>>n;for(;a!==i;){let r=i+(a-i>>1),o=t[r<<n];if(e===o)return r<<n;o>e?a=r:i=r+1}return~(a<<n)}var Xt={},ze=[],En=new V(""),Fc=new V("",-1),Nc=new V(""),ia=class{get(e,n=wn){if(n===wn){let a=Du("",-201);throw a.name="\u0275NotFound",a}return n}};function Tn(t){return t[Lc]||null}function Oc(t){return t[Ec]||null}function Ru(t){return t[Tc]||null}function oa(t){return{\u0275providers:t}}function Fu(...t){return{\u0275providers:Vc(!0,t),\u0275fromNgModule:!0}}function Vc(t,...e){let n=[],i=new Set,a,r=o=>{n.push(o)};return io(e,o=>{let s=o;Jr(s,r,[],i)&&(a||=[],a.push(s))}),a!==void 0&&Nu(a,r),n}function Nu(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:a}=t[n];Hc(a,r=>{e(r,i)})}}function Jr(t,e,n,i){if(t=Se(t),!t)return!1;let a=null,r=fc(t),o=!r&&Tn(t);if(!r&&!o){let c=t.ngModule;if(r=fc(c),r)a=c;else return!1}else{if(o&&!o.standalone)return!1;a=t}let s=i.has(a);if(o){if(s)return!1;if(i.add(a),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)Jr(l,e,n,i)}}else if(r){if(r.imports!=null&&!s){i.add(a);let l;try{io(r.imports,u=>{Jr(u,e,n,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Nu(l,e)}if(!s){let l=Gt(a)||(()=>new a);e({provide:a,useFactory:l,deps:ze},a),e({provide:Nc,useValue:a,multi:!0},a),e({provide:En,useValue:()=>G(a),multi:!0},a)}let c=r.providers;if(c!=null&&!s){let l=t;Hc(c,u=>{e(u,l)})}}else return!1;return a!==t&&t.providers!==void 0}function Hc(t,e){for(let n of t)_c(n)&&(n=n.\u0275providers),Array.isArray(n)?Hc(n,e):e(n)}var Rf=te({provide:String,useValue:te});function Ou(t){return t!==null&&typeof t=="object"&&Rf in t}function Ff(t){return!!(t&&t.useExisting)}function Nf(t){return!!(t&&t.useFactory)}function In(t){return typeof t=="function"}function Vu(t){return!!t.useClass}var sa=new V(""),Yr={},xu={},pc;function ca(){return pc===void 0&&(pc=new ia),pc}var je=class{},Dn=class extends je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,i,a){super(),this.parent=n,this.source=i,this.scopes=a,Mc(e,o=>this.processProvider(o)),this.records.set(Fc,ui(void 0,this)),a.has("environment")&&this.records.set(je,ui(void 0,this));let r=this.records.get(sa);r!=null&&typeof r.value=="string"&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(Nc,ze,{self:!0}))}retrieve(e,n){let i=bn(n)||0;try{return this.get(e,wn,i)}catch(a){if(ni(a))return a;throw a}}destroy(){ta(this),this._destroyed=!0;let e=z(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),z(e)}}onDestroy(e){return ta(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ta(this);let n=ht(this),i=Re(void 0),a;try{return e()}finally{ht(n),Re(i)}}get(e,n=wn,i){if(ta(this),e.hasOwnProperty(Cu))return e[Cu](this);let a=bn(i),r,o=ht(this),s=Re(void 0);try{if(!(a&4)){let l=this.records.get(e);if(l===void 0){let u=Bf(e)&&eo(e);u&&this.injectableDefInScope(u)?l=ui(vc(e),Yr):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,a)}let c=a&2?ca():this.parent;return n=a&8&&n===wn?null:n,c.get(e,n)}catch(c){let l=_f(c);throw l===-200||l===-201?new N(l,null):c}finally{Re(s),ht(o)}}resolveInjectorInitializers(){let e=z(null),n=ht(this),i=Re(void 0),a;try{let r=this.get(En,ze,{self:!0});for(let o of r)o()}finally{ht(n),Re(i),z(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Ut(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Se(e);let n=In(e)?e:Se(e&&e.provide),i=Vf(e);if(!In(e)&&e.multi===!0){let a=this.records.get(n);a||(a=ui(void 0,Yr,!0),a.factory=()=>kc(a.multi),this.records.set(n,a)),n=e,a.multi.push(e)}this.records.set(n,i)}hydrate(e,n,i){let a=z(null);try{if(n.value===xu)throw Ac(Ut(e));return n.value===Yr&&(n.value=xu,n.value=n.factory(void 0,i)),typeof n.value=="object"&&n.value&&jf(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{z(a)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Se(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function vc(t){let e=eo(t),n=e!==null?e.factory:Gt(t);if(n!==null)return n;if(t instanceof V)throw new N(204,!1);if(t instanceof Function)return Of(t);throw new N(204,!1)}function Of(t){if(t.length>0)throw new N(204,!1);let n=If(t);return n!==null?()=>n.factory(t):()=>new t}function Vf(t){if(Ou(t))return ui(void 0,t.useValue);{let e=jc(t);return ui(e,Yr)}}function jc(t,e,n){let i;if(In(t)){let a=Se(t);return Gt(a)||vc(a)}else if(Ou(t))i=()=>Se(t.useValue);else if(Nf(t))i=()=>t.useFactory(...kc(t.deps||[]));else if(Ff(t))i=(a,r)=>G(Se(t.useExisting),r!==void 0&&r&8?8:void 0);else{let a=Se(t&&(t.useClass||t.provide));if(Hf(t))i=()=>new a(...kc(t.deps));else return Gt(a)||vc(a)}return i}function ta(t){if(t.destroyed)throw new N(205,!1)}function ui(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Hf(t){return!!t.deps}function jf(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Bf(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Mc(t,e){for(let n of t)Array.isArray(n)?Mc(n,e):n&&_c(n)?Mc(n.\u0275providers,e):e(n)}function pi(t,e){let n;t instanceof Dn?(ta(t),n=t):n=new gc(t);let i,a=ht(n),r=Re(void 0);try{return e()}finally{ht(a),Re(r)}}function Hu(){return Su()!==void 0||hr()!=null}var it=0,O=1,q=2,Me=3,Ze=4,Fe=5,An=6,fi=7,ye=8,Et=9,Tt=10,re=11,yi=12,Bc=13,Pn=14,Ne=15,Yt=16,Rn=17,yt=18,la=19,zc=20,Lt=21,ro=22,da=23,We=24,oo=25,Fn=26,ce=27,ju=1,qc=6,Qt=7,ua=8,Nn=9,he=10;function mt(t){return Array.isArray(t)&&typeof t[ju]=="object"}function at(t){return Array.isArray(t)&&t[ju]===!0}function Wc(t){return(t.flags&4)!==0}function Jt(t){return t.componentOffset>-1}function mi(t){return(t.flags&1)===1}function gt(t){return!!t.template}function gi(t){return(t[q]&512)!==0}function On(t){return(t[q]&256)===256}var Uc="svg",Bu="math";function Xe(t){for(;Array.isArray(t);)t=t[it];return t}function Gc(t,e){return Xe(e[t])}function rt(t,e){return Xe(e[t.index])}function ha(t,e){return t.data[e]}function so(t,e){return t[e]}function $c(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function Ye(t,e){let n=e[t];return mt(n)?n:n[it]}function zu(t){return(t[q]&4)===4}function co(t){return(t[q]&128)===128}function qu(t){return at(t[Me])}function Qe(t,e){return e==null?null:t[e]}function Kc(t){t[Rn]=0}function Zc(t){t[q]&1024||(t[q]|=1024,co(t)&&fa(t))}function Wu(t,e){for(;t>0;)e=e[Pn],t--;return e}function pa(t){return!!(t[q]&9216||t[We]?.dirty)}function lo(t){t[Tt].changeDetectionScheduler?.notify(8),t[q]&64&&(t[q]|=1024),pa(t)&&fa(t)}function fa(t){t[Tt].changeDetectionScheduler?.notify(0);let e=$t(t);for(;e!==null&&!(e[q]&8192||(e[q]|=8192,!co(e)));)e=$t(e)}function Xc(t,e){if(On(t))throw new N(911,!1);t[Lt]===null&&(t[Lt]=[]),t[Lt].push(e)}function Uu(t,e){if(t[Lt]===null)return;let n=t[Lt].indexOf(e);n!==-1&&t[Lt].splice(n,1)}function $t(t){let e=t[Me];return at(e)?e[Me]:e}function Yc(t){return t[fi]??=[]}function Qc(t){return t.cleanup??=[]}function Gu(t,e,n,i){let a=Yc(e);a.push(n),t.firstCreatePass&&Qc(t).push(i,a.length-1)}var U={lFrame:ih(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Cc=!1;function $u(){return U.lFrame.elementDepthCount}function Ku(){U.lFrame.elementDepthCount++}function Jc(){U.lFrame.elementDepthCount--}function uo(){return U.bindingsEnabled}function el(){return U.skipHydrationRootTNode!==null}function tl(t){return U.skipHydrationRootTNode===t}function nl(){U.skipHydrationRootTNode=null}function B(){return U.lFrame.lView}function pe(){return U.lFrame.tView}function S(t){return U.lFrame.contextLView=t,t[ye]}function _(t){return U.lFrame.contextLView=null,t}function _e(){let t=il();for(;t!==null&&t.type===64;)t=t.parent;return t}function il(){return U.lFrame.currentTNode}function Zu(){let t=U.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ki(t,e){let n=U.lFrame;n.currentTNode=t,n.isParent=e}function al(){return U.lFrame.isParent}function rl(){U.lFrame.isParent=!1}function Xu(){return U.lFrame.contextLView}function ol(){return Cc}function sl(t){let e=Cc;return Cc=t,e}function ya(){let t=U.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function cl(){return U.lFrame.bindingIndex}function Yu(t){return U.lFrame.bindingIndex=t}function en(){return U.lFrame.bindingIndex++}function ho(t){let e=U.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Qu(){return U.lFrame.inI18n}function Ju(t,e){let n=U.lFrame;n.bindingIndex=n.bindingRootIndex=t,po(e)}function eh(){return U.lFrame.currentDirectiveIndex}function po(t){U.lFrame.currentDirectiveIndex=t}function th(t){let e=U.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ll(){return U.lFrame.currentQueryIndex}function fo(t){U.lFrame.currentQueryIndex=t}function zf(t){let e=t[O];return e.type===2?e.declTNode:e.type===1?t[Fe]:null}function dl(t,e,n){if(n&4){let a=e,r=t;for(;a=a.parent,a===null&&!(n&1);)if(a=zf(r),a===null||(r=r[Pn],a.type&10))break;if(a===null)return!1;e=a,t=r}let i=U.lFrame=nh();return i.currentTNode=e,i.lView=t,!0}function yo(t){let e=nh(),n=t[O];U.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function nh(){let t=U.lFrame,e=t===null?null:t.child;return e===null?ih(t):e}function ih(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ah(){let t=U.lFrame;return U.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ul=ah;function mo(){let t=ah();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rh(t){return(U.lFrame.contextLView=Wu(t,U.lFrame.contextLView))[ye]}function kt(){return U.lFrame.selectedIndex}function tn(t){U.lFrame.selectedIndex=t}function go(){let t=U.lFrame;return ha(t.tView,t.selectedIndex)}function vt(){U.lFrame.currentNamespace=Uc}function ko(){qf()}function qf(){U.lFrame.currentNamespace=null}function oh(){return U.lFrame.currentNamespace}var sh=!0;function vo(){return sh}function ma(t){sh=t}function xc(t,e=null,n=null,i){let a=ch(t,e,n,i);return a.resolveInjectorInitializers(),a}function ch(t,e=null,n=null,i,a=new Set){let r=[n||ze,Fu(t)];return i=i||(typeof t=="object"?void 0:Ut(t)),new Dn(r,e||ca(),i||null,a)}var Kt=class t{static THROW_IF_NOT_FOUND=wn;static NULL=new ia;static create(e,n){if(Array.isArray(e))return xc({name:""},n,e,"");{let i=e.name??"";return xc({name:i},e.parent,e.providers,i)}}static \u0275prov=j({token:t,providedIn:"any",factory:()=>G(Fc)});static __NG_ELEMENT_ID__=-1},Ue=new V(""),vi=(()=>{class t{static __NG_ELEMENT_ID__=Wf;static __NG_ENV_ID__=n=>n}return t})(),wc=class extends vi{_lView;constructor(e){super(),this._lView=e}get destroyed(){return On(this._lView)}onDestroy(e){let n=this._lView;return Xc(n,e),()=>Uu(n,e)}};function Wf(){return new wc(B())}var pt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Mt=new V("",{providedIn:"root",factory:()=>{let t=R(je),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(pt),e.handleError(n))}}}),lh={provide:En,useValue:()=>void R(pt),multi:!0};function hl(t){return typeof t=="function"&&t[He]!==void 0}function ot(t,e){let[n,i,a]=ec(t,e?.equal),r=n,o=r[He];return r.set=i,r.update=a,r.asReadonly=dh.bind(r),r}function dh(){let t=this[He];if(t.readonlyFn===void 0){let e=()=>this();e[He]=t,t.readonlyFn=e}return t.readonlyFn}function pl(t){return hl(t)&&typeof t.set=="function"}var Zt=class{},ga=new V("",{providedIn:"root",factory:()=>!1});var fl=new V(""),yl=new V(""),nn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Qi(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ee(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})(),Mo=(()=>{class t{internalPendingTasks=R(nn);scheduler=R(Zt);errorHandler=R(Mt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let i=this.add();n().catch(this.errorHandler).finally(i)}static \u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})();function ka(...t){}var ml=(()=>{class t{static \u0275prov=j({token:t,providedIn:"root",factory:()=>new bc})}return t})(),bc=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,i=this.queues.get(n);i.has(e)&&(i.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||i.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,i]of this.queues)n===null?e||=this.flushQueue(i):e||=n.run(()=>this.flushQueue(i));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let i of e)i.dirty&&(this.dirtyEffectCount--,n=!0,i.run());return n}};function Di(t){return{toString:t}.toString()}var Co="__parameters__";function Jf(t){return function(...n){if(t){let i=t(...n);for(let a in i)this[a]=i[a]}}}function ey(t,e,n){return Di(()=>{let i=Jf(e);function a(...r){if(this instanceof a)return i.apply(this,r),this;let o=new a(...r);return s.annotation=o,s;function s(c,l,u){let f=c.hasOwnProperty(Co)?c[Co]:Object.defineProperty(c,Co,{value:[]})[Co];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(o),c}}return a.prototype.ngMetadataName=t,a.annotationCls=a,a})}var od=_u(ey("Optional"),8);function ty(t){return typeof t=="function"}var Lo=class{previousValue;currentValue;firstChange;constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function jh(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}var wt=(()=>{let t=()=>Bh;return t.ngInherit=!0,t})();function Bh(t){return t.type.prototype.ngOnChanges&&(t.setInput=iy),ny}function ny(){let t=qh(this),e=t?.current;if(e){let n=t.previous;if(n===Xt)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function iy(t,e,n,i,a){let r=this.declaredInputs[i],o=qh(t)||ay(t,{previous:Xt,current:null}),s=o.current||(o.current={}),c=o.previous,l=c[r];s[r]=new Lo(l&&l.currentValue,n,c===Xt),jh(t,e,a,n)}var zh="__ngSimpleChanges__";function qh(t){return t[zh]||null}function ay(t,e){return t[zh]=e}var uh=[];var ie=function(t,e=null,n){for(let i=0;i<uh.length;i++){let a=uh[i];a(t,e,n)}};function ry(t,e,n){let{ngOnChanges:i,ngOnInit:a,ngDoCheck:r}=e.type.prototype;if(i){let o=Bh(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}a&&(n.preOrderHooks??=[]).push(0-t,a),r&&((n.preOrderHooks??=[]).push(t,r),(n.preOrderCheckHooks??=[]).push(t,r))}function Wh(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let r=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=r;o&&(t.contentHooks??=[]).push(-n,o),s&&((t.contentHooks??=[]).push(n,s),(t.contentCheckHooks??=[]).push(n,s)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function bo(t,e,n){Uh(t,e,3,n)}function Io(t,e,n,i){(t[q]&3)===n&&Uh(t,e,n,i)}function gl(t,e){let n=t[q];(n&3)===e&&(n&=16383,n+=1,t[q]=n)}function Uh(t,e,n,i){let a=i!==void 0?t[Rn]&65535:0,r=i??-1,o=e.length-1,s=0;for(let c=a;c<o;c++)if(typeof e[c+1]=="number"){if(s=e[c],i!=null&&s>=i)break}else e[c]<0&&(t[Rn]+=65536),(s<r||r==-1)&&(oy(t,n,e,c),t[Rn]=(t[Rn]&4294901760)+c+2),c++}function hh(t,e){ie(4,t,e);let n=z(null);try{e.call(t)}finally{z(n),ie(5,t,e)}}function oy(t,e,n,i){let a=n[i]<0,r=n[i+1],o=a?-n[i]:n[i],s=t[o];a?t[q]>>14<t[Rn]>>16&&(t[q]&3)===e&&(t[q]+=16384,hh(s,r)):hh(s,r)}var Ci=-1,Hn=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,i,a){this.factory=e,this.name=a,this.canSeeViewProviders=n,this.injectImpl=i}};function sy(t){return(t.flags&8)!==0}function cy(t){return(t.flags&16)!==0}function ly(t,e,n){let i=0;for(;i<n.length;){let a=n[i];if(typeof a=="number"){if(a!==0)break;i++;let r=n[i++],o=n[i++],s=n[i++];t.setAttribute(e,o,s,r)}else{let r=a,o=n[++i];uy(r)?t.setProperty(e,r,o):t.setAttribute(e,r,o),i++}}return i}function dy(t){return t===3||t===4||t===6}function uy(t){return t.charCodeAt(0)===64}function xi(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let a=e[i];typeof a=="number"?n=a:n===0||(n===-1||n===2?ph(t,n,a,null,e[++i]):ph(t,n,a,null,null))}}return t}function ph(t,e,n,i,a){let r=0,o=t.length;if(e===-1)o=-1;else for(;r<t.length;){let s=t[r++];if(typeof s=="number"){if(s===e){o=-1;break}else if(s>e){o=r-1;break}}}for(;r<t.length;){let s=t[r];if(typeof s=="number")break;if(s===n){a!==null&&(t[r+1]=a);return}r++,a!==null&&r++}o!==-1&&(t.splice(o,0,e),r=o+1),t.splice(r++,0,n),a!==null&&t.splice(r++,0,a)}function Gh(t){return t!==Ci}function Eo(t){return t&32767}function hy(t){return t>>16}function To(t,e){let n=hy(t),i=e;for(;n>0;)i=i[Pn],n--;return i}var _l=!0;function Ao(t){let e=_l;return _l=t,e}var py=256,$h=py-1,Kh=5,fy=0,Ct={};function yy(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Ln)&&(i=n[Ln]),i==null&&(i=n[Ln]=fy++);let a=i&$h,r=1<<a;e.data[t+(a>>Kh)]|=r}function Po(t,e){let n=Zh(t,e);if(n!==-1)return n;let i=e[O];i.firstCreatePass&&(t.injectorIndex=e.length,kl(i.data,t),kl(e,null),kl(i.blueprint,null));let a=sd(t,e),r=t.injectorIndex;if(Gh(a)){let o=Eo(a),s=To(a,e),c=s[O].data;for(let l=0;l<8;l++)e[r+l]=s[o+l]|c[o+l]}return e[r+8]=a,r}function kl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Zh(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function sd(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,a=e;for(;a!==null;){if(i=e0(a),i===null)return Ci;if(n++,a=a[Pn],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Ci}function Ll(t,e,n){yy(t,e,n)}function Xh(t,e,n){if(n&8||t!==void 0)return t;no(e,"NodeInjector")}function Yh(t,e,n,i){if(n&8&&i===void 0&&(i=null),(n&3)===0){let a=t[Et],r=Re(void 0);try{return a?a.get(e,i,n&8):Pc(e,i,n&8)}finally{Re(r)}}return Xh(i,e,n)}function Qh(t,e,n,i=0,a){if(t!==null){if(e[q]&2048&&!(i&2)){let o=vy(t,e,n,i,Ct);if(o!==Ct)return o}let r=Jh(t,e,n,i,Ct);if(r!==Ct)return r}return Yh(e,n,i,a)}function Jh(t,e,n,i,a){let r=gy(n);if(typeof r=="function"){if(!dl(e,t,i))return i&1?Xh(a,n,i):Yh(e,n,i,a);try{let o;if(o=r(i),o==null&&!(i&8))no(n);else return o}finally{ul()}}else if(typeof r=="number"){let o=null,s=Zh(t,e),c=Ci,l=i&1?e[Ne][Fe]:null;for((s===-1||i&4)&&(c=s===-1?sd(t,e):e[s+8],c===Ci||!yh(i,!1)?s=-1:(o=e[O],s=Eo(c),e=To(c,e)));s!==-1;){let u=e[O];if(fh(r,s,u.data)){let f=my(s,e,n,o,i,l);if(f!==Ct)return f}c=e[s+8],c!==Ci&&yh(i,e[O].data[s+8]===l)&&fh(r,s,e)?(o=u,s=Eo(c),e=To(c,e)):s=-1}}return a}function my(t,e,n,i,a,r){let o=e[O],s=o.data[t+8],c=i==null?Jt(s)&&_l:i!=o&&(s.type&3)!==0,l=a&1&&r===s,u=Do(s,o,n,c,l);return u!==null?Ca(e,o,u,s,a):Ct}function Do(t,e,n,i,a){let r=t.providerIndexes,o=e.data,s=r&1048575,c=t.directiveStart,l=t.directiveEnd,u=r>>20,f=i?s:s+u,M=a?s+u:l;for(let m=f;m<M;m++){let D=o[m];if(m<c&&n===D||m>=c&&D.type===n)return m}if(a){let m=o[c];if(m&&gt(m)&&m.type===n)return c}return null}function Ca(t,e,n,i,a){let r=t[n],o=e.data;if(r instanceof Hn){let s=r;if(s.resolving){let m=bu(o[n]);throw Ac(m)}let c=Ao(s.canSeeViewProviders);s.resolving=!0;let l=o[n].type||o[n],u,f=s.injectImpl?Re(s.injectImpl):null,M=dl(t,i,0);try{r=t[n]=s.factory(void 0,a,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&ry(n,o[n],e)}finally{f!==null&&Re(f),Ao(c),s.resolving=!1,ul()}}return r}function gy(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ln)?t[Ln]:void 0;return typeof e=="number"?e>=0?e&$h:ky:e}function fh(t,e,n){let i=1<<t;return!!(n[e+(t>>Kh)]&i)}function yh(t,e){return!(t&2)&&!(t&1&&e)}var Vn=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return Qh(this._tNode,this._lView,e,bn(i),n)}};function ky(){return new Vn(_e(),B())}function qn(t){return Di(()=>{let e=t.prototype.constructor,n=e[na]||El(e),i=Object.prototype,a=Object.getPrototypeOf(t.prototype).constructor;for(;a&&a!==i;){let r=a[na]||El(a);if(r&&r!==n)return r;a=Object.getPrototypeOf(a)}return r=>new r})}function El(t){return Sc(t)?()=>{let e=El(Se(t));return e&&e()}:Gt(t)}function vy(t,e,n,i,a){let r=t,o=e;for(;r!==null&&o!==null&&o[q]&2048&&!gi(o);){let s=Jh(r,o,n,i|2,Ct);if(s!==Ct)return s;let c=r.parent;if(!c){let l=o[zc];if(l){let u=l.get(n,Ct,i);if(u!==Ct)return u}c=e0(o),o=o[Pn]}r=c}return a}function e0(t){let e=t[O],n=e.type;return n===2?e.declTNode:n===1?t[Fe]:null}function My(){return Si(_e(),B())}function Si(t,e){return new Ge(rt(t,e))}var Ge=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=My}return t})();function Cy(t){return t instanceof Ge?t.nativeElement:t}function xy(){return this._results[Symbol.iterator]()}var Ro=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new we}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=Eu(e);(this._changesDetected=!Lu(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=xy};function t0(t){return(t.flags&128)===128}var cd=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(cd||{}),n0=new Map,wy=0;function by(){return wy++}function Iy(t){n0.set(t[la],t)}function Tl(t){n0.delete(t[la])}var mh="__ngContext__";function wi(t,e){mt(e)?(t[mh]=e[la],Iy(e)):t[mh]=e}function i0(t){return r0(t[yi])}function a0(t){return r0(t[Ze])}function r0(t){for(;t!==null&&!at(t);)t=t[Ze];return t}var Al;function ld(t){Al=t}function o0(){if(Al!==void 0)return Al;if(typeof document<"u")return document;throw new N(210,!1)}var Wo=new V("",{providedIn:"root",factory:()=>Dy}),Dy="ng",Uo=new V(""),La=new V("",{providedIn:"platform",factory:()=>"unknown"});var Go=new V("",{providedIn:"root",factory:()=>o0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Sy="h",_y="b";var s0="r";var c0="di";var l0=!1,d0=new V("",{providedIn:"root",factory:()=>l0});var Ly=(t,e,n,i)=>{};function Ey(t,e,n,i){Ly(t,e,n,i)}function $o(t){return(t.flags&32)===32}var Ty=()=>null;function u0(t,e,n=!1){return Ty(t,e,n)}function h0(t,e){let n=t.contentQueries;if(n!==null){let i=z(null);try{for(let a=0;a<n.length;a+=2){let r=n[a],o=n[a+1];if(o!==-1){let s=t.data[o];fo(r),s.contentQueries(2,e[o],o)}}}finally{z(i)}}}function Pl(t,e,n){fo(0);let i=z(null);try{e(t,n)}finally{z(i)}}function dd(t,e,n){if(Wc(e)){let i=z(null);try{let a=e.directiveStart,r=e.directiveEnd;for(let o=a;o<r;o++){let s=t.data[o];if(s.contentQueries){let c=n[o];s.contentQueries(1,c,o)}}}finally{z(i)}}}var At=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(At||{});var Rl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ic})`}};function p0(t){return t instanceof Rl?t.changingThisBreaksApplicationSecurity:t}var Ay=/^>|^->|<!--|-->|--!>|<!-$/g,Py=/(<|>)/g,Ry="\u200B$1\u200B";function Fy(t){return t.replace(Ay,e=>e.replace(Py,Ry))}function _i(t){return t.ownerDocument.defaultView}function Ny(t,e,n){let i=t.length;for(;;){let a=t.indexOf(e,n);if(a===-1)return a;if(a===0||t.charCodeAt(a-1)<=32){let r=e.length;if(a+r===i||t.charCodeAt(a+r)<=32)return a}n=a+1}}var f0="ng-template";function Oy(t,e,n,i){let a=0;if(i){for(;a<e.length&&typeof e[a]=="string";a+=2)if(e[a]==="class"&&Ny(e[a+1].toLowerCase(),n,0)!==-1)return!0}else if(ud(t))return!1;if(a=e.indexOf(1,a),a>-1){let r;for(;++a<e.length&&typeof(r=e[a])=="string";)if(r.toLowerCase()===n)return!0}return!1}function ud(t){return t.type===4&&t.value!==f0}function Vy(t,e,n){let i=t.type===4&&!n?f0:t.value;return e===i}function Hy(t,e,n){let i=4,a=t.attrs,r=a!==null?zy(a):0,o=!1;for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number"){if(!o&&!st(i)&&!st(c))return!1;if(o&&st(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!Vy(t,c,n)||c===""&&e.length===1){if(st(i))return!1;o=!0}}else if(i&8){if(a===null||!Oy(t,a,c,n)){if(st(i))return!1;o=!0}}else{let l=e[++s],u=jy(c,a,ud(t),n);if(u===-1){if(st(i))return!1;o=!0;continue}if(l!==""){let f;if(u>r?f="":f=a[u+1].toLowerCase(),i&2&&l!==f){if(st(i))return!1;o=!0}}}}return st(i)||o}function st(t){return(t&1)===0}function jy(t,e,n,i){if(e===null)return-1;let a=0;if(i||!n){let r=!1;for(;a<e.length;){let o=e[a];if(o===t)return a;if(o===3||o===6)r=!0;else if(o===1||o===2){let s=e[++a];for(;typeof s=="string";)s=e[++a];continue}else{if(o===4)break;if(o===0){a+=4;continue}}a+=r?1:2}return-1}else return qy(e,t)}function y0(t,e,n=!1){for(let i=0;i<e.length;i++)if(Hy(t,e[i],n))return!0;return!1}function By(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function zy(t){for(let e=0;e<t.length;e++){let n=t[e];if(dy(n))return e}return t.length}function qy(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function Wy(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let a=0;a<t.length;a++)if(t[a]!==i[a])continue e;return!0}}return!1}function gh(t,e){return t?":not("+e.trim()+")":e}function Uy(t){let e=t[0],n=1,i=2,a="",r=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let s=t[++n];a+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else i&8?a+="."+o:i&4&&(a+=" "+o);else a!==""&&!st(o)&&(e+=gh(r,a),a=""),i=o,r=r||!st(i);n++}return a!==""&&(e+=gh(r,a)),e}function Gy(t){return t.map(Uy).join(",")}function $y(t){let e=[],n=[],i=1,a=2;for(;i<t.length;){let r=t[i];if(typeof r=="string")a===2?r!==""&&e.push(r,t[++i]):a===8&&n.push(r);else{if(!st(a))break;a=r}i++}return n.length&&e.push(1,...n),e}var Oe={};function Ky(t,e){return t.createText(e)}function Zy(t,e,n){t.setValue(e,n)}function Xy(t,e){return t.createComment(Fy(e))}function m0(t,e,n){return t.createElement(e,n)}function Fo(t,e,n,i,a){t.insertBefore(e,n,i,a)}function g0(t,e,n){t.appendChild(e,n)}function kh(t,e,n,i,a){i!==null?Fo(t,e,n,i,a):g0(t,e,n)}function k0(t,e,n,i){t.removeChild(null,e,n,i)}function Yy(t,e,n){t.setAttribute(e,"style",n)}function Qy(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function v0(t,e,n){let{mergedAttrs:i,classes:a,styles:r}=n;i!==null&&ly(t,e,i),a!==null&&Qy(t,e,a),r!==null&&Yy(t,e,r)}function hd(t,e,n,i,a,r,o,s,c,l,u){let f=ce+i,M=f+a,m=Jy(f,M),D=typeof l=="function"?l():l;return m[O]={type:t,blueprint:m,template:n,queries:null,viewQuery:s,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:D,incompleteFirstPass:!1,ssrId:u}}function Jy(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Oe);return n}function em(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=hd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function pd(t,e,n,i,a,r,o,s,c,l,u){let f=e.blueprint.slice();return f[it]=a,f[q]=i|4|128|8|64|1024,(l!==null||t&&t[q]&2048)&&(f[q]|=2048),Kc(f),f[Me]=f[Pn]=t,f[ye]=n,f[Tt]=o||t&&t[Tt],f[re]=s||t&&t[re],f[Et]=c||t&&t[Et]||null,f[Fe]=r,f[la]=by(),f[An]=u,f[zc]=l,f[Ne]=e.type==2?t[Ne]:f,f}function tm(t,e,n){let i=rt(e,t),a=em(n),r=t[Tt].rendererFactory,o=fd(t,pd(t,a,null,M0(n),i,e,null,r.createRenderer(i,n),null,null,null));return t[e.index]=o}function M0(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function C0(t,e,n,i){if(n===0)return-1;let a=e.length;for(let r=0;r<n;r++)e.push(i),t.blueprint.push(i),t.data.push(null);return a}function fd(t,e){return t[yi]?t[Bc][Ze]=e:t[yi]=e,t[Bc]=e,e}function d(t=1){x0(pe(),B(),kt()+t,!1)}function x0(t,e,n,i){if(!i)if((e[q]&3)===3){let r=t.preOrderCheckHooks;r!==null&&bo(e,r,n)}else{let r=t.preOrderHooks;r!==null&&Io(e,r,0,n)}tn(n)}var Ko=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Ko||{});function Fl(t,e,n,i){let a=z(null);try{let[r,o,s]=t.inputs[n],c=null;(o&Ko.SignalBased)!==0&&(c=e[r][He]),c!==null&&c.transformFn!==void 0?i=c.transformFn(i):s!==null&&(i=s.call(e,i)),t.setInput!==null?t.setInput(e,c,i,n,r):jh(e,c,r,i)}finally{z(a)}}var xt=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(xt||{}),nm;function yd(t,e){return nm(t,e)}var jn=new Set,md=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(md||{}),Ea=new V(""),vh=new Set;function Wn(t){vh.has(t)||(vh.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var w0=!1,Nl=class extends we{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Hu()&&(this.destroyRef=R(vi,{optional:!0})??void 0,this.pendingTasks=R(nn,{optional:!0})??void 0)}emit(e){let n=z(null);try{super.next(e)}finally{z(n)}}subscribe(e,n,i){let a=e,r=n||(()=>null),o=i;if(e&&typeof e=="object"){let c=e;a=c.next?.bind(c),r=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(r=this.wrapInTimeout(r),a&&(a=this.wrapInTimeout(a)),o&&(o=this.wrapInTimeout(o)));let s=super.subscribe({next:a,error:r,complete:o});return e instanceof Pe&&e.add(s),s}wrapInTimeout(e){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},W=Nl;function b0(t){let e,n;function i(){t=ka;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),i()})),()=>i()}function Mh(t){return queueMicrotask(()=>t()),()=>{t=ka}}var gd="isAngularZone",No=gd+"_ID",im=0,Ce=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new W(!1);onMicrotaskEmpty=new W(!1);onStable=new W(!1);onError=new W(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:r=w0}=e;if(typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!a&&i,o.shouldCoalesceRunChangeDetection=a,o.callbackScheduled=!1,o.scheduleInRootZone=r,om(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(gd)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new N(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,a){let r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+a,e,am,ka,ka);try{return r.runTask(o,n,i)}finally{r.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},am={};function kd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rm(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){b0(()=>{t.callbackScheduled=!1,Ol(t),t.isCheckStableRunning=!0,kd(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ol(t)}function om(t){let e=()=>{rm(t)},n=im++;t._inner=t._inner.fork({name:"angular",properties:{[gd]:!0,[No]:n,[No+n]:!0},onInvokeTask:(i,a,r,o,s,c)=>{if(sm(c))return i.invokeTask(r,o,s,c);try{return Ch(t),i.invokeTask(r,o,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),xh(t)}},onInvoke:(i,a,r,o,s,c,l)=>{try{return Ch(t),i.invoke(r,o,s,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!cm(c)&&e(),xh(t)}},onHasTask:(i,a,r,o)=>{i.hasTask(r,o),a===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Ol(t),kd(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,a,r,o)=>(i.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Ol(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ch(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xh(t){t._nesting--,kd(t)}var Oo=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new W;onMicrotaskEmpty=new W;onStable=new W;onError=new W;run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,a){return e.apply(n,i)}};function sm(t){return I0(t,"__ignore_ng_zone__")}function cm(t){return I0(t,"__scheduler_tick__")}function I0(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var D0=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})();var S0=new V("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function _0(t,e,n){let i=t.get(S0);if(Array.isArray(e))for(let a of e)i.queue.add(a),n?.detachedLeaveAnimationFns?.push(a);else i.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);i.scheduler&&i.scheduler(t)}function lm(t,e){let n=t.get(S0);if(e.detachedLeaveAnimationFns){for(let i of e.detachedLeaveAnimationFns)n.queue.delete(i);e.detachedLeaveAnimationFns=void 0}}function dm(t,e){for(let[n,i]of e)_0(t,i.animateFns)}function wh(t,e,n,i){let a=t?.[Fn]?.enter;e!==null&&a&&a.has(n.index)&&dm(i,a)}function Mi(t,e,n,i,a,r,o,s){if(a!=null){let c,l=!1;at(a)?c=a:mt(a)&&(l=!0,a=a[it]);let u=Xe(a);t===0&&i!==null?(wh(s,i,r,n),o==null?g0(e,i,u):Fo(e,i,u,o||null,!0)):t===1&&i!==null?(wh(s,i,r,n),Fo(e,i,u,o||null,!0)):t===2?bh(s,r,n,f=>{k0(e,u,l,f)}):t===3&&bh(s,r,n,()=>{e.destroyNode(u)}),c!=null&&Cm(e,t,n,c,r,i,o)}}function um(t,e){L0(t,e),e[it]=null,e[Fe]=null}function hm(t,e,n,i,a,r){i[it]=a,i[Fe]=e,Xo(t,i,n,1,a,r)}function L0(t,e){e[Tt].changeDetectionScheduler?.notify(9),Xo(t,e,e[re],2,null,null)}function pm(t){let e=t[yi];if(!e)return vl(t[O],t);for(;e;){let n=null;if(mt(e))n=e[yi];else{let i=e[he];i&&(n=i)}if(!n){for(;e&&!e[Ze]&&e!==t;)mt(e)&&vl(e[O],e),e=e[Me];e===null&&(e=t),mt(e)&&vl(e[O],e),n=e&&e[Ze]}e=n}}function vd(t,e){let n=t[Nn],i=n.indexOf(e);n.splice(i,1)}function Zo(t,e){if(On(e))return;let n=e[re];n.destroyNode&&Xo(t,e,n,3,null,null),pm(e)}function vl(t,e){if(On(e))return;let n=z(null);try{e[q]&=-129,e[q]|=256,e[We]&&xr(e[We]),mm(t,e),ym(t,e),e[O].type===1&&e[re].destroy();let i=e[Yt];if(i!==null&&at(e[Me])){i!==e[Me]&&vd(i,e);let a=e[yt];a!==null&&a.detachView(t)}Tl(e)}finally{z(n)}}function bh(t,e,n,i){let a=t?.[Fn];if(a==null||a.leave==null||!a.leave.has(e.index))return i(!1);t&&jn.add(t),_0(n,()=>{if(a.leave&&a.leave.has(e.index)){let o=a.leave.get(e.index),s=[];if(o){for(let c=0;c<o.animateFns.length;c++){let l=o.animateFns[c],{promise:u}=l();s.push(u)}a.detachedLeaveAnimationFns=void 0}a.running=Promise.allSettled(s),fm(t,i)}else t&&jn.delete(t),i(!1)},a)}function fm(t,e){let n=t[Fn]?.running;if(n){n.then(()=>{t[Fn].running=void 0,jn.delete(t),e(!0)});return}e(!1)}function ym(t,e){let n=t.cleanup,i=e[fi];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(e[fi]=null);let a=e[Lt];if(a!==null){e[Lt]=null;for(let o=0;o<a.length;o++){let s=a[o];s()}}let r=e[da];if(r!==null){e[da]=null;for(let o of r)o.destroy()}}function mm(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let a=e[n[i]];if(!(a instanceof Hn)){let r=n[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){let s=a[r[o]],c=r[o+1];ie(4,s,c);try{c.call(s)}finally{ie(5,s,c)}}else{ie(4,a,r);try{r.call(a)}finally{ie(5,a,r)}}}}}function E0(t,e,n){return gm(t,e.parent,n)}function gm(t,e,n){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return n[it];if(Jt(i)){let{encapsulation:a}=t.data[i.directiveStart+i.componentOffset];if(a===At.None||a===At.Emulated)return null}return rt(i,n)}function T0(t,e,n){return vm(t,e,n)}function km(t,e,n){return t.type&40?rt(t,n):null}var vm=km,Ih;function Md(t,e,n,i){let a=E0(t,i,e),r=e[re],o=i.parent||e[Fe],s=T0(o,i,e);if(a!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)kh(r,a,n[c],s,!1);else kh(r,a,n,s,!1);Ih!==void 0&&Ih(r,i,e,n,a)}function va(t,e){if(e!==null){let n=e.type;if(n&3)return rt(e,t);if(n&4)return Vl(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return va(t,i);{let a=t[e.index];return at(a)?Vl(-1,a):Xe(a)}}else{if(n&128)return va(t,e.next);if(n&32)return yd(e,t)()||Xe(t[e.index]);{let i=A0(t,e);if(i!==null){if(Array.isArray(i))return i[0];let a=$t(t[Ne]);return va(a,i)}else return va(t,e.next)}}}return null}function A0(t,e){if(e!==null){let i=t[Ne][Fe],a=e.projection;return i.projection[a]}return null}function Vl(t,e){let n=he+t+1;if(n<e.length){let i=e[n],a=i[O].firstChild;if(a!==null)return va(i,a)}return e[Qt]}function Cd(t,e,n,i,a,r,o){for(;n!=null;){let s=i[Et];if(n.type===128){n=n.next;continue}let c=i[n.index],l=n.type;if(o&&e===0&&(c&&wi(Xe(c),i),n.flags|=2),!$o(n))if(l&8)Cd(t,e,n.child,i,a,r,!1),Mi(e,t,s,a,c,n,r,i);else if(l&32){let u=yd(n,i),f;for(;f=u();)Mi(e,t,s,a,f,n,r,i);Mi(e,t,s,a,c,n,r,i)}else l&16?P0(t,e,i,n,a,r):Mi(e,t,s,a,c,n,r,i);n=o?n.projectionNext:n.next}}function Xo(t,e,n,i,a,r){Cd(n,i,t.firstChild,e,a,r,!1)}function Mm(t,e,n){let i=e[re],a=E0(t,n,e),r=n.parent||e[Fe],o=T0(r,n,e);P0(i,0,e,n,a,o)}function P0(t,e,n,i,a,r){let o=n[Ne],c=o[Fe].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Mi(e,t,n[Et],a,u,i,r,n)}else{let l=c,u=o[Me];t0(i)&&(l.flags|=128),Cd(t,e,l,u,a,r,!0)}}function Cm(t,e,n,i,a,r,o){let s=i[Qt],c=Xe(i);s!==c&&Mi(e,t,n,r,s,a,o);for(let l=he;l<i.length;l++){let u=i[l];Xo(u[O],u,t,e,r,s)}}function xm(t,e,n,i,a){if(e)a?t.addClass(n,i):t.removeClass(n,i);else{let r=i.indexOf("-")===-1?void 0:xt.DashCase;a==null?t.removeStyle(n,i,r):(typeof a=="string"&&a.endsWith("!important")&&(a=a.slice(0,-10),r|=xt.Important),t.setStyle(n,i,a,r))}}function R0(t,e,n,i,a){let r=kt(),o=i&2;try{tn(-1),o&&e.length>ce&&x0(t,e,ce,!1),ie(o?2:0,a,n),n(i,a)}finally{tn(r),ie(o?3:1,a,n)}}function Yo(t,e,n){Lm(t,e,n),(n.flags&64)===64&&Em(t,e,n)}function Ta(t,e,n=rt){let i=e.localNames;if(i!==null){let a=e.index+1;for(let r=0;r<i.length;r+=2){let o=i[r+1],s=o===-1?n(e,t):t[o];t[a++]=s}}}function wm(t,e,n,i){let r=i.get(d0,l0)||n===At.ShadowDom,o=t.selectRootElement(e,r);return bm(o),o}function bm(t){Im(t)}var Im=()=>null;function Dm(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function F0(t,e,n,i,a,r){let o=e[O];if(Id(t,o,e,n,i)){Jt(t)&&_m(e,t.index);return}t.type&3&&(n=Dm(n)),Sm(t,e,n,i,a,r)}function Sm(t,e,n,i,a,r){if(t.type&3){let o=rt(t,e);i=r!=null?r(i,t.value||"",n):i,a.setProperty(o,n,i)}else t.type&12}function _m(t,e){let n=Ye(e,t);n[q]&16||(n[q]|=64)}function Lm(t,e,n){let i=n.directiveStart,a=n.directiveEnd;Jt(n)&&tm(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Po(n,e);let r=n.initialInputs;for(let o=i;o<a;o++){let s=t.data[o],c=Ca(e,t,o,n);if(wi(c,e),r!==null&&Rm(e,o-i,c,s,n,r),gt(s)){let l=Ye(n.index,e);l[ye]=Ca(e,t,o,n)}}}function Em(t,e,n){let i=n.directiveStart,a=n.directiveEnd,r=n.index,o=eh();try{tn(r);for(let s=i;s<a;s++){let c=t.data[s],l=e[s];po(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Tm(c,l)}}finally{tn(-1),po(o)}}function Tm(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function xd(t,e){let n=t.directiveRegistry,i=null;if(n)for(let a=0;a<n.length;a++){let r=n[a];y0(e,r.selectors,!1)&&(i??=[],gt(r)?i.unshift(r):i.push(r))}return i}function Am(t,e,n,i,a,r){let o=rt(t,e);Pm(e[re],o,r,t.value,n,i,a)}function Pm(t,e,n,i,a,r,o){if(r==null)t.removeAttribute(e,a,n);else{let s=o==null?ft(r):o(r,i||"",a);t.setAttribute(e,a,s,n)}}function Rm(t,e,n,i,a,r){let o=r[e];if(o!==null)for(let s=0;s<o.length;s+=2){let c=o[s],l=o[s+1];Fl(i,n,c,l)}}function wd(t,e,n,i,a){let r=ce+n,o=e[O],s=a(o,e,t,i,n);e[r]=s,ki(t,!0);let c=t.type===2;return c?(v0(e[re],s,t),($u()===0||mi(t))&&wi(s,e),Ku()):wi(s,e),vo()&&(!c||!$o(t))&&Md(o,e,s,t),t}function bd(t){let e=t;return al()?rl():(e=e.parent,ki(e,!1)),e}function Fm(t,e){let n=t[Et];if(!n)return;let i;try{i=n.get(Mt,null)}catch{i=null}i?.(e)}function Id(t,e,n,i,a){let r=t.inputs?.[i],o=t.hostDirectiveInputs?.[i],s=!1;if(o)for(let c=0;c<o.length;c+=2){let l=o[c],u=o[c+1],f=e.data[l];Fl(f,n[l],u,a),s=!0}if(r)for(let c of r){let l=n[c],u=e.data[c];Fl(u,l,i,a),s=!0}return s}function Nm(t,e){let n=Ye(e,t),i=n[O];Om(i,n);let a=n[it];a!==null&&n[An]===null&&(n[An]=u0(a,n[Et])),ie(18),Dd(i,n,n[ye]),ie(19,n[ye])}function Om(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Dd(t,e,n){yo(e);try{let i=t.viewQuery;i!==null&&Pl(1,i,n);let a=t.template;a!==null&&R0(t,e,a,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[yt]?.finishViewCreation(t),t.staticContentQueries&&h0(t,e),t.staticViewQueries&&Pl(2,t.viewQuery,n);let r=t.components;r!==null&&Vm(e,r)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[q]&=-5,mo()}}function Vm(t,e){for(let n=0;n<e.length;n++)Nm(t,e[n])}function Aa(t,e,n,i){let a=z(null);try{let r=e.tView,s=t[q]&4096?4096:16,c=pd(t,r,n,s,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=t[e.index];c[Yt]=l;let u=t[yt];return u!==null&&(c[yt]=u.createEmbeddedView(r)),Dd(r,c,n),c}finally{z(a)}}function bi(t,e){return!e||e.firstChild===null||t0(t)}function xa(t,e,n,i,a=!1){for(;n!==null;){if(n.type===128){n=a?n.projectionNext:n.next;continue}let r=e[n.index];r!==null&&i.push(Xe(r)),at(r)&&N0(r,i);let o=n.type;if(o&8)xa(t,e,n.child,i);else if(o&32){let s=yd(n,e),c;for(;c=s();)i.push(c)}else if(o&16){let s=A0(e,n);if(Array.isArray(s))i.push(...s);else{let c=$t(e[Ne]);xa(c[O],c,s,i,!0)}}n=a?n.projectionNext:n.next}return i}function N0(t,e){for(let n=he;n<t.length;n++){let i=t[n],a=i[O].firstChild;a!==null&&xa(i[O],i,a,e)}t[Qt]!==t[it]&&e.push(t[Qt])}function O0(t){if(t[oo]!==null){for(let e of t[oo])e.impl.addSequence(e);t[oo].length=0}}var V0=[];function Hm(t){return t[We]??jm(t)}function jm(t){let e=V0.pop()??Object.create(zm);return e.lView=t,e}function Bm(t){t.lView[We]!==t&&(t.lView=null,V0.push(t))}var zm=ae(H({},ii),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{fa(t.lView)},consumerOnSignalRead(){this.lView[We]=this}});function qm(t){let e=t[We]??Object.create(Wm);return e.lView=t,e}var Wm=ae(H({},ii),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=$t(t.lView);for(;e&&!H0(e[O]);)e=$t(e);e&&Zc(e)},consumerOnSignalRead(){this.lView[We]=this}});function H0(t){return t.type!==2}function j0(t){if(t[da]===null)return;let e=!0;for(;e;){let n=!1;for(let i of t[da])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=n&&!!(t[q]&8192)}}var Um=100;function B0(t,e=0){let i=t[Tt].rendererFactory,a=!1;a||i.begin?.();try{Gm(t,e)}finally{a||i.end?.()}}function Gm(t,e){let n=ol();try{sl(!0),Hl(t,e);let i=0;for(;pa(t);){if(i===Um)throw new N(103,!1);i++,Hl(t,1)}}finally{sl(n)}}function $m(t,e,n,i){if(On(e))return;let a=e[q],r=!1,o=!1;yo(e);let s=!0,c=null,l=null;r||(H0(t)?(l=Hm(e),c=Xi(l)):gr()===null?(s=!1,l=qm(e),c=Xi(l)):e[We]&&(xr(e[We]),e[We]=null));try{Kc(e),Yu(t.bindingStartIndex),n!==null&&R0(t,e,n,2,i);let u=(a&3)===3;if(!r)if(u){let m=t.preOrderCheckHooks;m!==null&&bo(e,m,null)}else{let m=t.preOrderHooks;m!==null&&Io(e,m,0,null),gl(e,0)}if(o||Km(e),j0(e),z0(e,0),t.contentQueries!==null&&h0(t,e),!r)if(u){let m=t.contentCheckHooks;m!==null&&bo(e,m)}else{let m=t.contentHooks;m!==null&&Io(e,m,1),gl(e,1)}Xm(t,e);let f=t.components;f!==null&&W0(e,f,0);let M=t.viewQuery;if(M!==null&&Pl(2,M,i),!r)if(u){let m=t.viewCheckHooks;m!==null&&bo(e,m)}else{let m=t.viewHooks;m!==null&&Io(e,m,2),gl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ro]){for(let m of e[ro])m();e[ro]=null}r||(O0(e),e[q]&=-73)}catch(u){throw r||fa(e),u}finally{l!==null&&(Mr(l,c),s&&Bm(l)),mo()}}function z0(t,e){for(let n=i0(t);n!==null;n=a0(n))for(let i=he;i<n.length;i++){let a=n[i];q0(a,e)}}function Km(t){for(let e=i0(t);e!==null;e=a0(e)){if(!(e[q]&2))continue;let n=e[Nn];for(let i=0;i<n.length;i++){let a=n[i];Zc(a)}}}function Zm(t,e,n){ie(18);let i=Ye(e,t);q0(i,n),ie(19,i[ye])}function q0(t,e){co(t)&&Hl(t,e)}function Hl(t,e){let i=t[O],a=t[q],r=t[We],o=!!(e===0&&a&16);if(o||=!!(a&64&&e===0),o||=!!(a&1024),o||=!!(r?.dirty&&Cr(r)),o||=!1,r&&(r.dirty=!1),t[q]&=-9217,o)$m(i,t,i.template,t[ye]);else if(a&8192){let s=z(null);try{j0(t),z0(t,1);let c=i.components;c!==null&&W0(t,c,1),O0(t)}finally{z(s)}}}function W0(t,e,n){for(let i=0;i<e.length;i++)Zm(t,e[i],n)}function Xm(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let a=n[i];if(a<0)tn(~a);else{let r=a,o=n[++i],s=n[++i];Ju(o,r);let c=e[r];ie(24,c),s(2,c),ie(25,c)}}}finally{tn(-1)}}function Sd(t,e){let n=ol()?64:1088;for(t[Tt].changeDetectionScheduler?.notify(e);t;){t[q]|=n;let i=$t(t);if(gi(t)&&!i)return t;t=i}return null}function U0(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function G0(t,e){let n=he+e;if(n<t.length)return t[n]}function Pa(t,e,n,i=!0){let a=e[O];if(Ym(a,e,t,n),i){let o=Vl(n,t),s=e[re],c=s.parentNode(t[Qt]);c!==null&&hm(a,t[Fe],s,e,c,o)}let r=e[An];r!==null&&r.firstChild!==null&&(r.firstChild=null)}function $0(t,e){let n=wa(t,e);return n!==void 0&&Zo(n[O],n),n}function wa(t,e){if(t.length<=he)return;let n=he+e,i=t[n];if(i){let a=i[Yt];a!==null&&a!==t&&vd(a,i),e>0&&(t[n-1][Ze]=i[Ze]);let r=ra(t,he+e);um(i[O],i);let o=r[yt];o!==null&&o.detachView(r[O]),i[Me]=null,i[Ze]=null,i[q]&=-129}return i}function Ym(t,e,n,i){let a=he+i,r=n.length;i>0&&(n[a-1][Ze]=e),i<r-he?(e[Ze]=n[a],Rc(n,he+i,e)):(n.push(e),e[Ze]=null),e[Me]=n;let o=e[Yt];o!==null&&n!==o&&K0(o,e);let s=e[yt];s!==null&&s.insertView(t),lo(e),e[q]|=128}function K0(t,e){let n=t[Nn],i=e[Me];if(mt(i))t[q]|=2;else{let a=i[Me][Ne];e[Ne]!==a&&(t[q]|=2)}n===null?t[Nn]=[e]:n.push(e)}var an=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[O];return xa(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[ye]}set context(e){this._lView[ye]=e}get destroyed(){return On(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Me];if(at(e)){let n=e[ua],i=n?n.indexOf(this):-1;i>-1&&(wa(e,i),ra(n,i))}this._attachedToViewContainer=!1}Zo(this._lView[O],this._lView)}onDestroy(e){Xc(this._lView,e)}markForCheck(){Sd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){lo(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,B0(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gi(this._lView),n=this._lView[Yt];n!==null&&!e&&vd(n,this._lView),L0(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=e;let n=gi(this._lView),i=this._lView[Yt];i!==null&&!n&&K0(i,this._lView),lo(this._lView)}};var rn=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Qm;constructor(n,i,a){this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,a){let r=Aa(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:a});return new an(r)}}return t})();function Qm(){return _d(_e(),B())}function _d(t,e){return t.type&4?new rn(e,t,Si(t,e)):null}function Li(t,e,n,i,a){let r=t.data[e];if(r===null)r=Jm(t,e,n,i,a),Qu()&&(r.flags|=32);else if(r.type&64){r.type=n,r.value=i,r.attrs=a;let o=Zu();r.injectorIndex=o===null?-1:o.injectorIndex}return ki(r,!0),r}function Jm(t,e,n,i,a){let r=il(),o=al(),s=o?r:r&&r.parent,c=t.data[e]=tg(t,s,n,e,i,a);return eg(t,c,r,o),c}function eg(t,e,n,i){t.firstChild===null&&(t.firstChild=e),n!==null&&(i?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function tg(t,e,n,i,a,r){let o=e?e.injectorIndex:-1,s=0;return el()&&(s|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:a,attrs:r,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Lb=new RegExp(`^(\\d+)*(${_y}|${Sy})*(.*)`);function ng(t){let e=t[qc]??[],i=t[Me][re],a=[];for(let r of e)r.data[c0]!==void 0?a.push(r):ig(r,i);t[qc]=a}function ig(t,e){let n=0,i=t.firstChild;if(i){let a=t.data[s0];for(;n<a;){let r=i.nextSibling;k0(e,i,!1),i=r,n++}}}var ag=()=>null,rg=()=>null;function Vo(t,e){return ag(t,e)}function Z0(t,e,n){return rg(t,e,n)}var X0=class{},Qo=class{},jl=class{resolveComponentFactory(e){throw new N(917,!1)}},Jo=class{static NULL=new jl},Bn=class{},on=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>og()}return t})();function og(){let t=B(),e=_e(),n=Ye(e.index,t);return(mt(n)?n:t)[re]}var Y0=(()=>{class t{static \u0275prov=j({token:t,providedIn:"root",factory:()=>null})}return t})();var So={},Bl=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){let a=this.injector.get(e,So,i);return a!==So||n===So?a:this.parentInjector.get(e,n,i)}};function Ho(t,e,n){let i=n?t.styles:null,a=n?t.classes:null,r=0;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];if(typeof s=="number")r=s;else if(r==1)a=Dc(a,s);else if(r==2){let c=s,l=e[++o];i=Dc(i,c+": "+l+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=a:t.classesWithoutHost=a}function A(t,e=0){let n=B();if(n===null)return G(t,e);let i=_e();return Qh(i,n,Se(t),e)}function Q0(t,e,n,i,a){let r=i===null?null:{"":-1},o=a(t,n);if(o!==null){let s=o,c=null,l=null;for(let u of o)if(u.resolveHostDirectives!==null){[s,c,l]=u.resolveHostDirectives(o);break}lg(t,e,n,s,r,c,l)}r!==null&&i!==null&&sg(n,i,r)}function sg(t,e,n){let i=t.localNames=[];for(let a=0;a<e.length;a+=2){let r=n[e[a+1]];if(r==null)throw new N(-301,!1);i.push(e[a],r)}}function cg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function lg(t,e,n,i,a,r,o){let s=i.length,c=!1;for(let M=0;M<s;M++){let m=i[M];!c&&gt(m)&&(c=!0,cg(t,n,M)),Ll(Po(n,e),t,m.type)}yg(n,t.data.length,s);for(let M=0;M<s;M++){let m=i[M];m.providersResolver&&m.providersResolver(m)}let l=!1,u=!1,f=C0(t,e,s,null);s>0&&(n.directiveToIndex=new Map);for(let M=0;M<s;M++){let m=i[M];if(n.mergedAttrs=xi(n.mergedAttrs,m.hostAttrs),ug(t,n,e,f,m),fg(f,m,a),o!==null&&o.has(m)){let[F,P]=o.get(m);n.directiveToIndex.set(m.type,[f,F+n.directiveStart,P+n.directiveStart])}else(r===null||!r.has(m))&&n.directiveToIndex.set(m.type,f);m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let D=m.type.prototype;!l&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!u&&(D.ngOnChanges||D.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),f++}dg(t,n,r)}function dg(t,e,n){for(let i=e.directiveStart;i<e.directiveEnd;i++){let a=t.data[i];if(n===null||!n.has(a))Dh(0,e,a,i),Dh(1,e,a,i),_h(e,i,!1);else{let r=n.get(a);Sh(0,e,r,i),Sh(1,e,r,i),_h(e,i,!0)}}}function Dh(t,e,n,i){let a=t===0?n.inputs:n.outputs;for(let r in a)if(a.hasOwnProperty(r)){let o;t===0?o=e.inputs??={}:o=e.outputs??={},o[r]??=[],o[r].push(i),J0(e,r)}}function Sh(t,e,n,i){let a=t===0?n.inputs:n.outputs;for(let r in a)if(a.hasOwnProperty(r)){let o=a[r],s;t===0?s=e.hostDirectiveInputs??={}:s=e.hostDirectiveOutputs??={},s[o]??=[],s[o].push(i,r),J0(e,o)}}function J0(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function _h(t,e,n){let{attrs:i,inputs:a,hostDirectiveInputs:r}=t;if(i===null||!n&&a===null||n&&r===null||ud(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let o=null,s=0;for(;s<i.length;){let c=i[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!n&&a.hasOwnProperty(c)){let l=a[c];for(let u of l)if(u===e){o??=[],o.push(c,i[s+1]);break}}else if(n&&r.hasOwnProperty(c)){let l=r[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){o??=[],o.push(l[u+1],i[s+1]);break}}s+=2}t.initialInputs??=[],t.initialInputs.push(o)}function ug(t,e,n,i,a){t.data[i]=a;let r=a.factory||(a.factory=Gt(a.type,!0)),o=new Hn(r,gt(a),A,null);t.blueprint[i]=o,n[i]=o,hg(t,e,i,C0(t,n,a.hostVars,Oe),a)}function hg(t,e,n,i,a){let r=a.hostBindings;if(r){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let s=~e.index;pg(o)!=s&&o.push(s),o.push(n,i,r)}}function pg(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function fg(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;gt(e)&&(n[""]=t)}}function yg(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ld(t,e,n,i,a,r,o,s){let c=e[O],l=c.consts,u=Qe(l,o),f=Li(c,t,n,i,u);return r&&Q0(c,e,f,Qe(l,s),a),f.mergedAttrs=xi(f.mergedAttrs,f.attrs),f.attrs!==null&&Ho(f,f.attrs,!1),f.mergedAttrs!==null&&Ho(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function Ed(t,e){Wh(t,e),Wc(e)&&t.queries.elementEnd(e)}function mg(t,e,n,i,a,r){let o=e.consts,s=Qe(o,a),c=Li(e,t,n,i,s);if(c.mergedAttrs=xi(c.mergedAttrs,c.attrs),r!=null){let l=Qe(o,r);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&Ho(c,c.attrs,!1),c.mergedAttrs!==null&&Ho(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Td(t){return t2(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function e2(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function t2(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function n2(t,e,n){return t[e]=n}function Je(t,e,n){if(n===Oe)return!1;let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function Ad(t,e,n,i){let a=Je(t,e,n);return Je(t,e+1,i)||a}function gg(t,e,n,i,a){let r=Ad(t,e,n,i);return Je(t,e+2,a)||r}function _o(t,e,n){return function i(a){let r=Jt(t)?Ye(t.index,e):e;Sd(r,5);let o=e[ye],s=Lh(e,o,n,a),c=i.__ngNextListenerFn__;for(;c;)s=Lh(e,o,c,a)&&s,c=c.__ngNextListenerFn__;return s}}function Lh(t,e,n,i){let a=z(null);try{return ie(6,e,n),n(i)!==!1}catch(r){return Fm(t,r),!1}finally{ie(7,e,n),z(a)}}function i2(t,e,n,i,a,r,o,s){let c=mi(t),l=!1,u=null;if(!i&&c&&(u=vg(e,n,r,t.index)),u!==null){let f=u.__ngLastListenerFn__||u;f.__ngNextListenerFn__=o,u.__ngLastListenerFn__=o,l=!0}else{let f=rt(t,n),M=i?i(f):f;Ey(n,M,r,s);let m=a.listen(M,r,s);if(!kg(r)){let D=i?F=>i(Xe(F[t.index])):t.index;a2(D,e,n,r,s,m,!1)}}return l}function kg(t){return t.startsWith("animation")||t.startsWith("transition")}function vg(t,e,n,i){let a=t.cleanup;if(a!=null)for(let r=0;r<a.length-1;r+=2){let o=a[r];if(o===n&&a[r+1]===i){let s=e[fi],c=a[r+2];return s&&s.length>c?s[c]:null}typeof o=="string"&&(r+=2)}return null}function a2(t,e,n,i,a,r,o){let s=e.firstCreatePass?Qc(e):null,c=Yc(n),l=c.length;c.push(a,r),s&&s.push(i,t,l,(l+1)*(o?-1:1))}function Eh(t,e,n,i,a,r){let o=e[n],s=e[O],l=s.data[n].outputs[i],f=o[l].subscribe(r);a2(t.index,s,e,a,r,f,!0)}var zl=Symbol("BINDING");var ql=class extends Jo{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Tn(e);return new ba(n,this.ngModule)}};function Mg(t){return Object.keys(t).map(e=>{let[n,i,a]=t[e],r={propName:n,templateName:e,isSignal:(i&Ko.SignalBased)!==0};return a&&(r.transform=a),r})}function Cg(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function xg(t,e,n){let i=e instanceof je?e:e?.injector;return i&&t.getStandaloneInjector!==null&&(i=t.getStandaloneInjector(i)||i),i?new Bl(n,i):n}function wg(t){let e=t.get(Bn,null);if(e===null)throw new N(407,!1);let n=t.get(Y0,null),i=t.get(Zt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:i,ngReflect:!1}}function bg(t,e){let n=r2(t);return m0(e,n,n==="svg"?Uc:n==="math"?Bu:null)}function r2(t){return(t.selectors[0][0]||"div").toLowerCase()}var ba=class extends Qo{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Mg(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Cg(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Gy(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,i,a,r,o){ie(22);let s=z(null);try{let c=this.componentDef,l=Ig(i,c,o,r),u=xg(c,a||this.ngModule,e),f=wg(u),M=f.rendererFactory.createRenderer(null,c),m=i?wm(M,i,c.encapsulation,u):bg(c,M),D=o?.some(Th)||r?.some(E=>typeof E!="function"&&E.bindings.some(Th)),F=pd(null,l,null,512|M0(c),null,null,f,M,u,null,u0(m,u,!0));F[ce]=m,yo(F);let P=null;try{let E=Ld(ce,F,2,"#host",()=>l.directiveRegistry,!0,0);v0(M,m,E),wi(m,F),Yo(l,F,E),dd(l,E,F),Ed(l,E),n!==void 0&&Sg(E,this.ngContentSelectors,n),P=Ye(E.index,F),F[ye]=P[ye],Dd(l,F,null)}catch(E){throw P!==null&&Tl(P),Tl(F),E}finally{ie(23),mo()}return new jo(this.componentType,F,!!D)}finally{z(s)}}};function Ig(t,e,n,i){let a=t?["ng-version","20.3.12"]:$y(e.selectors[0]),r=null,o=null,s=0;if(n)for(let u of n)s+=u[zl].requiredVars,u.create&&(u.targetIdx=0,(r??=[]).push(u)),u.update&&(u.targetIdx=0,(o??=[]).push(u));if(i)for(let u=0;u<i.length;u++){let f=i[u];if(typeof f!="function")for(let M of f.bindings){s+=M[zl].requiredVars;let m=u+1;M.create&&(M.targetIdx=m,(r??=[]).push(M)),M.update&&(M.targetIdx=m,(o??=[]).push(M))}}let c=[e];if(i)for(let u of i){let f=typeof u=="function"?u:u.type,M=Oc(f);c.push(M)}return hd(0,null,Dg(r,o),1,s,c,null,null,null,[a],null)}function Dg(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let i of t)i.create();if(n&2&&e)for(let i of e)i.update()}}function Th(t){let e=t[zl].kind;return e==="input"||e==="twoWay"}var jo=class extends X0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,i){super(),this._rootLView=n,this._hasInputBindings=i,this._tNode=ha(n[O],ce),this.location=Si(this._tNode,n),this.instance=Ye(this._tNode.index,n)[ye],this.hostView=this.changeDetectorRef=new an(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let a=this._rootLView,r=Id(i,a[O],a,e,n);this.previousInputValues.set(e,n);let o=Ye(i.index,a);Sd(o,1)}get injector(){return new Vn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Sg(t,e,n){let i=t.projection=[];for(let a=0;a<e.length;a++){let r=n[a];i.push(r!=null&&r.length?Array.from(r):null)}}var Pt=(()=>{class t{static __NG_ELEMENT_ID__=_g}return t})();function _g(){let t=_e();return s2(t,B())}var Lg=Pt,o2=class extends Lg{_lContainer;_hostTNode;_hostLView;constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Si(this._hostTNode,this._hostLView)}get injector(){return new Vn(this._hostTNode,this._hostLView)}get parentInjector(){let e=sd(this._hostTNode,this._hostLView);if(Gh(e)){let n=To(e,this._hostLView),i=Eo(e),a=n[O].data[i+8];return new Vn(a,n)}else return new Vn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ah(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-he}createEmbeddedView(e,n,i){let a,r;typeof i=="number"?a=i:i!=null&&(a=i.index,r=i.injector);let o=Vo(this._lContainer,e.ssrId),s=e.createEmbeddedViewImpl(n||{},r,o);return this.insertImpl(s,a,bi(this._hostTNode,o)),s}createComponent(e,n,i,a,r,o,s){let c=e&&!ty(e),l;if(c)l=n;else{let P=n||{};l=P.index,i=P.injector,a=P.projectableNodes,r=P.environmentInjector||P.ngModuleRef,o=P.directives,s=P.bindings}let u=c?e:new ba(Tn(e)),f=i||this.parentInjector;if(!r&&u.ngModule==null){let E=(c?f:this.parentInjector).get(je,null);E&&(r=E)}let M=Tn(u.componentType??{}),m=Vo(this._lContainer,M?.id??null),D=m?.firstChild??null,F=u.create(f,a,D,r,o,s);return this.insertImpl(F.hostView,l,bi(this._hostTNode,m)),F}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let a=e._lView;if(qu(a)){let s=this.indexOf(e);if(s!==-1)this.detach(s);else{let c=a[Me],l=new o2(c,c[Fe],c[Me]);l.detach(l.indexOf(e))}}let r=this._adjustIndex(n),o=this._lContainer;return Pa(o,a,r,i),e.attachToViewContainerRef(),Rc(Ml(o),r,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ah(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=wa(this._lContainer,n);i&&(ra(Ml(this._lContainer),n),Zo(i[O],i))}detach(e){let n=this._adjustIndex(e,-1),i=wa(this._lContainer,n);return i&&ra(Ml(this._lContainer),n)!=null?new an(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ah(t){return t[ua]}function Ml(t){return t[ua]||(t[ua]=[])}function s2(t,e){let n,i=e[t.index];return at(i)?n=i:(n=U0(i,e,null,t),e[t.index]=n,fd(e,n)),Tg(n,e,t,i),new o2(n,t,e)}function Eg(t,e){let n=t[re],i=n.createComment(""),a=rt(e,t),r=n.parentNode(a);return Fo(n,r,i,n.nextSibling(a),!1),i}var Tg=Rg,Ag=()=>!1;function Pg(t,e,n){return Ag(t,e,n)}function Rg(t,e,n,i){if(t[Qt])return;let a;n.type&8?a=Xe(i):a=Eg(e,n),t[Qt]=a}var Wl=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ul=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,a=[];for(let r=0;r<i;r++){let o=n.getByIndex(r),s=this.queries[o.indexInDeclarationView];a.push(s.clone())}return new t(a)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Pd(e,n).matches!==null&&this.queries[n].setDirty()}},Gl=class{flags;read;predicate;constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=zg(e):this.predicate=e}},$l=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let a=n!==null?n.length:0,r=this.getByIndex(i).embeddedTView(e,a);r&&(r.indexInDeclarationView=i,n!==null?n.push(r):n=[r])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Kl=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let a=0;a<i.length;a++){let r=i[a];this.matchTNodeWithReadOption(e,n,Fg(n,r)),this.matchTNodeWithReadOption(e,n,Do(n,e,r,!1,!1))}else i===rn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Do(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let a=this.metadata.read;if(a!==null)if(a===Ge||a===Pt||a===rn&&n.type&4)this.addMatch(n.index,-2);else{let r=Do(n,e,a,!1,!1);r!==null&&this.addMatch(n.index,r)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Fg(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function Ng(t,e){return t.type&11?Si(t,e):t.type&4?_d(t,e):null}function Og(t,e,n,i){return n===-1?Ng(e,t):n===-2?Vg(t,e,i):Ca(t,t[O],n,e)}function Vg(t,e,n){if(n===Ge)return Si(e,t);if(n===rn)return _d(e,t);if(n===Pt)return s2(e,t)}function c2(t,e,n,i){let a=e[yt].queries[i];if(a.matches===null){let r=t.data,o=n.matches,s=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)s.push(null);else{let u=r[l];s.push(Og(e,u,o[c+1],n.metadata.read))}}a.matches=s}return a.matches}function Zl(t,e,n,i){let a=t.queries.getByIndex(n),r=a.matches;if(r!==null){let o=c2(t,e,a,n);for(let s=0;s<r.length;s+=2){let c=r[s];if(c>0)i.push(o[s/2]);else{let l=r[s+1],u=e[-c];for(let f=he;f<u.length;f++){let M=u[f];M[Yt]===M[Me]&&Zl(M[O],M,l,i)}if(u[Nn]!==null){let f=u[Nn];for(let M=0;M<f.length;M++){let m=f[M];Zl(m[O],m,l,i)}}}}}return i}function Hg(t,e){return t[yt].queries[e].queryList}function jg(t,e,n){let i=new Ro((n&4)===4);return Gu(t,e,i,i.destroy),(e[yt]??=new Ul).queries.push(new Wl(i))-1}function Bg(t,e,n){let i=pe();return i.firstCreatePass&&(qg(i,new Gl(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),jg(i,B(),e)}function zg(t){return t.split(",").map(e=>e.trim())}function qg(t,e,n){t.queries===null&&(t.queries=new $l),t.queries.track(new Kl(e,n))}function Pd(t,e){return t.queries.getByIndex(e)}function Wg(t,e){let n=t[O],i=Pd(n,e);return i.crossesNgTemplate?Zl(n,t,e,[]):c2(n,t,i,e)}var Ia=class{};var Da=class extends Ia{injector;componentFactoryResolver=new ql(this);instance=null;constructor(e){super();let n=new Dn([...e.providers,{provide:Ia,useValue:this},{provide:Jo,useValue:this.componentFactoryResolver}],e.parent||ca(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function l2(t,e,n=null){return new Da({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ug=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=Vc(!1,n.type),a=i.length>0?l2([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,a)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(G(je))})}return t})();function Z(t){return Di(()=>{let e=d2(t),n=ae(H({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===cd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?a=>a.get(Ug).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||At.Emulated,styles:t.styles||ze,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Wn("NgStandalone"),u2(n);let i=t.dependencies;return n.directiveDefs=Ph(i,Gg),n.pipeDefs=Ph(i,Ru),n.id=Zg(n),n})}function Gg(t){return Tn(t)||Oc(t)}function et(t){return Di(()=>({type:t.type,bootstrap:t.bootstrap||ze,declarations:t.declarations||ze,imports:t.imports||ze,exports:t.exports||ze,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function $g(t,e){if(t==null)return Xt;let n={};for(let i in t)if(t.hasOwnProperty(i)){let a=t[i],r,o,s,c;Array.isArray(a)?(s=a[0],r=a[1],o=a[2]??r,c=a[3]||null):(r=a,o=a,s=Ko.None,c=null),n[r]=[i,s,c],e[r]=o}return n}function Kg(t){if(t==null)return Xt;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function tt(t){return Di(()=>{let e=d2(t);return u2(e),e})}function Ra(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function d2(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Xt,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ze,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:$g(t.inputs,e),outputs:Kg(t.outputs),debugInfo:null}}function u2(t){t.features?.forEach(e=>e(t))}function Ph(t,e){return t?()=>{let n=typeof t=="function"?t():t,i=[];for(let a of n){let r=e(a);r!==null&&i.push(r)}return i}:null}function Zg(t){let e=0,n=typeof t.consts=="function"?"":t.consts,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let r of i.join("|"))e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Xg(t){return Object.getPrototypeOf(t.prototype).constructor}function Un(t){let e=Xg(t.type),n=!0,i=[t];for(;e;){let a;if(gt(t))a=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new N(903,!1);a=e.\u0275dir}if(a){if(n){i.push(a);let o=t;o.inputs=Cl(t.inputs),o.declaredInputs=Cl(t.declaredInputs),o.outputs=Cl(t.outputs);let s=a.hostBindings;s&&tk(t,s);let c=a.viewQuery,l=a.contentQueries;if(c&&Jg(t,c),l&&ek(t,l),Yg(t,a),wu(t.outputs,a.outputs),gt(a)&&a.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(a.data.animation)}}let r=a.features;if(r)for(let o=0;o<r.length;o++){let s=r[o];s&&s.ngInherit&&s(t),s===Un&&(n=!1)}}e=Object.getPrototypeOf(e)}Qg(i)}function Yg(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n])}}function Qg(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let a=t[i];a.hostVars=e+=a.hostVars,a.hostAttrs=xi(a.hostAttrs,n=xi(n,a.hostAttrs))}}function Cl(t){return t===Xt?{}:t===ze?[]:t}function Jg(t,e){let n=t.viewQuery;n?t.viewQuery=(i,a)=>{e(i,a),n(i,a)}:t.viewQuery=e}function ek(t,e){let n=t.contentQueries;n?t.contentQueries=(i,a,r)=>{e(i,a,r),n(i,a,r)}:t.contentQueries=e}function tk(t,e){let n=t.hostBindings;n?t.hostBindings=(i,a)=>{e(i,a),n(i,a)}:t.hostBindings=e}function h2(t,e,n,i,a,r,o,s){if(n.firstCreatePass){t.mergedAttrs=xi(t.mergedAttrs,t.attrs);let u=t.tView=hd(2,t,a,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),u.queries=n.queries.embeddedTView(t))}s&&(t.flags|=s),ki(t,!1);let c=ik(n,e,t,i);vo()&&Md(n,e,c,t),wi(c,e);let l=U0(c,e,c,t);e[i+ce]=l,fd(e,l),Pg(l,t,e)}function nk(t,e,n,i,a,r,o,s,c,l,u){let f=n+ce,M;return e.firstCreatePass?(M=Li(e,f,4,o||null,s||null),uo()&&Q0(e,t,M,Qe(e.consts,l),xd),Wh(e,M)):M=e.data[f],h2(M,t,e,n,i,a,r,c),mi(M)&&Yo(e,t,M),l!=null&&Ta(t,M,u),M}function Sa(t,e,n,i,a,r,o,s,c,l,u){let f=n+ce,M;if(e.firstCreatePass){if(M=Li(e,f,4,o||null,s||null),l!=null){let m=Qe(e.consts,l);M.localNames=[];for(let D=0;D<m.length;D+=2)M.localNames.push(m[D],-1)}}else M=e.data[f];return h2(M,t,e,n,i,a,r,c),l!=null&&Ta(t,M,u),M}function K(t,e,n,i,a,r,o,s){let c=B(),l=pe(),u=Qe(l.consts,r);return nk(c,l,t,e,n,i,a,u,void 0,o,s),K}var ik=ak;function ak(t,e,n,i){return ma(!0),e[re].createComment("")}var Rd=new V("");function Ei(t){return!!t&&typeof t.then=="function"}function Fd(t){return!!t&&typeof t.subscribe=="function"}var p2=new V("");var Nd=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=R(p2,{optional:!0})??[];injector=R(Kt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let a of this.appInits){let r=pi(this.injector,a);if(Ei(r))n.push(r);else if(Fd(r)){let o=new Promise((s,c)=>{r.subscribe({complete:s,error:c})});n.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(a=>{this.reject(a)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),f2=new V("");function y2(){Js(()=>{let t="";throw new N(600,t)})}function m2(t){return t.isBoundToModule}var rk=10;var Ti=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=R(Mt);afterRenderManager=R(D0);zonelessEnabled=R(ga);rootEffectScheduler=R(ml);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new we;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=R(nn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(De(n=>!n))}constructor(){R(Ea,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:a=>{a&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=R(je);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){return this.bootstrapImpl(n,i)}bootstrapImpl(n,i,a=Kt.NULL){return this._injector.get(Ce).run(()=>{ie(10);let o=n instanceof Qo;if(!this._injector.get(Nd).done){let D="";throw new N(405,D)}let c;o?c=n:c=this._injector.get(Jo).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=m2(c)?void 0:this._injector.get(Ia),u=i||c.selector,f=c.create(a,[],u,l),M=f.location.nativeElement,m=f.injector.get(Rd,null);return m?.registerApplication(M),f.onDestroy(()=>{this.detachView(f.hostView),Ma(this.components,f),m?.unregisterApplication(M)}),this._loadComponent(f),ie(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ie(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(md.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new N(101,!1);let n=z(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,z(n),this.afterTick.next(),ie(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Bn,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<rk;)ie(14),this.synchronizeOnce(),ie(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:a}of this.allViews){if(!i&&!pa(a))continue;let r=i&&!this.zonelessEnabled?0:1;B0(a,r),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>pa(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Ma(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(a){this.internalErrorHandler(a)}this.components.push(n),this._injector.get(f2,[]).forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ma(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new N(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ma(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ct(t,e,n,i){let a=B(),r=en();if(Je(a,r,e)){let o=pe(),s=go();Am(s,a,t,e,n,i)}return ct}var Fb=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Xl=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),a=Math.max(e,n),r=this.detach(a);if(a-i>1){let o=this.detach(i);this.attach(i,r),this.attach(a,o)}else this.attach(i,r)}move(e,n){this.attach(n,this.detach(e))}};function xl(t,e,n,i,a){return t===n&&Object.is(e,i)?1:Object.is(a(t,e),a(n,i))?-1:0}function ok(t,e,n){let i,a,r=0,o=t.length-1,s=void 0;if(Array.isArray(e)){let c=e.length-1;for(;r<=o&&r<=c;){let l=t.at(r),u=e[r],f=xl(r,l,r,u,n);if(f!==0){f<0&&t.updateValue(r,u),r++;continue}let M=t.at(o),m=e[c],D=xl(o,M,c,m,n);if(D!==0){D<0&&t.updateValue(o,m),o--,c--;continue}let F=n(r,l),P=n(o,M),E=n(r,u);if(Object.is(E,P)){let Y=n(c,m);Object.is(Y,F)?(t.swap(r,o),t.updateValue(o,m),c--,o--):t.move(o,r),t.updateValue(r,u),r++;continue}if(i??=new Bo,a??=Fh(t,r,o,n),Yl(t,i,r,E))t.updateValue(r,u),r++,o++;else if(a.has(E))i.set(F,t.detach(r)),o--;else{let Y=t.create(r,e[r]);t.attach(r,Y),r++,o++}}for(;r<=c;)Rh(t,i,n,r,e[r]),r++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&r<=o;){let u=t.at(r),f=l.value,M=xl(r,u,r,f,n);if(M!==0)M<0&&t.updateValue(r,f),r++,l=c.next();else{i??=new Bo,a??=Fh(t,r,o,n);let m=n(r,f);if(Yl(t,i,r,m))t.updateValue(r,f),r++,o++,l=c.next();else if(!a.has(m))t.attach(r,t.create(r,f)),r++,o++,l=c.next();else{let D=n(r,u);i.set(D,t.detach(r)),o--}}}for(;!l.done;)Rh(t,i,n,t.length,l.value),l=c.next()}for(;r<=o;)t.destroy(t.detach(o--));i?.forEach(c=>{t.destroy(c)})}function Yl(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function Rh(t,e,n,i,a){if(Yl(t,e,i,n(i,a)))t.updateValue(i,a);else{let r=t.create(i,a);t.attach(i,r)}}function Fh(t,e,n,i){let a=new Set;for(let r=e;r<=n;r++)a.add(i(r,t.at(r)));return a}var Bo=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let a=this._vMap;for(;a.has(i);)i=a.get(i);a.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let a=this._vMap;for(;a.has(i);)i=a.get(i),e(i,n)}}};function b(t,e,n,i,a,r,o,s){Wn("NgControlFlow");let c=B(),l=pe(),u=Qe(l.consts,r);return Sa(c,l,t,e,n,i,a,u,256,o,s),Od}function Od(t,e,n,i,a,r,o,s){Wn("NgControlFlow");let c=B(),l=pe(),u=Qe(l.consts,r);return Sa(c,l,t,e,n,i,a,u,512,o,s),Od}function I(t,e){Wn("NgControlFlow");let n=B(),i=en(),a=n[i]!==Oe?n[i]:-1,r=a!==-1?zo(n,ce+a):void 0,o=0;if(Je(n,i,t)){let s=z(null);try{if(r!==void 0&&$0(r,o),t!==-1){let c=ce+t,l=zo(n,c),u=td(n[O],c),f=Z0(l,u,n),M=Aa(n,u,e,{dehydratedView:f});Pa(l,M,o,bi(u,f))}}finally{z(s)}}else if(r!==void 0){let s=G0(r,o);s!==void 0&&(s[ye]=e)}}var Ql=class{lContainer;$implicit;$index;constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-he}};function bt(t){return t}function Fa(t,e){return e}var Jl=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function be(t,e,n,i,a,r,o,s,c,l,u,f,M){Wn("NgControlFlow");let m=B(),D=pe(),F=c!==void 0,P=B(),E=s?o.bind(P[Ne][ye]):o,Y=new Jl(F,E);P[ce+t]=Y,Sa(m,D,t+1,e,n,i,a,Qe(D.consts,r),256),F&&Sa(m,D,t+2,c,l,u,f,Qe(D.consts,M),512)}var ed=class extends Xl{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i}get length(){return this.lContainer.length-he}at(e){return this.getLView(e)[ye].$implicit}attach(e,n){let i=n[An];this.needsIndexUpdate||=e!==this.length,Pa(this.lContainer,n,e,bi(this.templateTNode,i)),sk(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,ck(this.lContainer,e),lk(this.lContainer,e)}create(e,n){let i=Vo(this.lContainer,this.templateTNode.tView.ssrId),a=Aa(this.hostLView,this.templateTNode,new Ql(this.lContainer,n,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),a}destroy(e){Zo(e[O],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[ye].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ye].$index=e}getLView(e){return dk(this.lContainer,e)}};function Ie(t){let e=z(null),n=kt();try{let i=B(),a=i[O],r=i[n],o=n+1,s=zo(i,o);if(r.liveCollection===void 0){let l=td(a,o);r.liveCollection=new ed(s,i,l)}else r.liveCollection.reset();let c=r.liveCollection;if(ok(c,t,r.trackByFn),c.updateIndexes(),r.hasEmptyBlock){let l=en(),u=c.length===0;if(Je(i,l,u)){let f=n+2,M=zo(i,f);if(u){let m=td(a,f),D=Z0(M,m,i),F=Aa(i,m,void 0,{dehydratedView:D});Pa(M,F,0,bi(m,D))}else a.firstUpdatePass&&ng(M),$0(M,0)}}}finally{z(e)}}function zo(t,e){return t[e]}function sk(t,e){if(t.length<=he)return;let n=he+e,i=t[n],a=i?i[Fn]:void 0;if(i&&a&&a.detachedLeaveAnimationFns&&a.detachedLeaveAnimationFns.length>0){let r=i[Et];lm(r,a),jn.delete(i),a.detachedLeaveAnimationFns=void 0}}function ck(t,e){if(t.length<=he)return;let n=he+e,i=t[n],a=i?i[Fn]:void 0;a&&a.leave&&a.leave.size>0&&(a.detachedLeaveAnimationFns=[])}function lk(t,e){return wa(t,e)}function dk(t,e){return G0(t,e)}function td(t,e){return ha(t,e)}function x(t,e,n){let i=B(),a=en();if(Je(i,a,e)){let r=pe(),o=go();F0(o,i,t,e,i[re],n)}return x}function Nh(t,e,n,i,a){Id(e,t,n,a?"class":"style",i)}function p(t,e,n,i){let a=B(),r=a[O],o=t+ce,s=r.firstCreatePass?Ld(o,a,2,e,xd,uo(),n,i):r.data[o];if(wd(s,a,t,e,g2),mi(s)){let c=a[O];Yo(c,a,s),dd(c,s,a)}return i!=null&&Ta(a,s),p}function h(){let t=pe(),e=_e(),n=bd(e);return t.firstCreatePass&&Ed(t,n),tl(n)&&nl(),Jc(),n.classesWithoutHost!=null&&sy(n)&&Nh(t,n,B(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&cy(n)&&Nh(t,n,B(),n.stylesWithoutHost,!1),h}function L(t,e,n,i){return p(t,e,n,i),h(),L}function Te(t,e,n,i){let a=B(),r=a[O],o=t+ce,s=r.firstCreatePass?mg(o,r,2,e,n,i):r.data[o];return wd(s,a,t,e,g2),i!=null&&Ta(a,s),Te}function Be(){let t=_e(),e=bd(t);return tl(e)&&nl(),Jc(),Be}function es(t,e,n,i){return Te(t,e,n,i),Be(),es}var g2=(t,e,n,i,a)=>(ma(!0),m0(e[re],i,oh()));function Na(t,e,n){let i=B(),a=i[O],r=t+ce,o=a.firstCreatePass?Ld(r,i,8,"ng-container",xd,uo(),e,n):a.data[r];if(wd(o,i,t,"ng-container",uk),mi(o)){let s=i[O];Yo(s,i,o),dd(s,o,i)}return n!=null&&Ta(i,o),Na}function Oa(){let t=pe(),e=_e(),n=bd(e);return t.firstCreatePass&&Ed(t,n),Oa}function ts(t,e,n){return Na(t,e,n),Oa(),ts}var uk=(t,e,n,i,a)=>(ma(!0),Xy(e[re],""));function T(){return B()}var xo=void 0;function hk(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var pk=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xo,"{1} 'at' {0}",xo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",hk],wl={};function ns(t){let e=fk(t),n=Oh(e);if(n)return n;let i=e.split("-")[0];if(n=Oh(i),n)return n;if(i==="en")return pk;throw new N(701,!1)}function Oh(t){return t in wl||(wl[t]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[t]),wl[t]}var Gn=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(Gn||{});function fk(t){return t.toLowerCase().replace(/_/g,"-")}var Va="en-US";var yk=Va;function k2(t){typeof t=="string"&&(yk=t.toLowerCase().replace(/_/g,"-"))}function w(t,e,n){let i=B(),a=pe(),r=_e();return v2(a,i,i[re],r,t,e,n),w}function sn(t,e,n){let i=B(),a=pe(),r=_e();return(r.type&3||n)&&i2(r,a,i,n,i[re],t,e,_o(r,i,e)),sn}function v2(t,e,n,i,a,r,o){let s=!0,c=null;if((i.type&3||o)&&(c??=_o(i,e,r),i2(i,t,e,o,n,a,r,c)&&(s=!1)),s){let l=i.outputs?.[a],u=i.hostDirectiveOutputs?.[a];if(u&&u.length)for(let f=0;f<u.length;f+=2){let M=u[f],m=u[f+1];c??=_o(i,e,r),Eh(i,e,M,m,a,c)}if(l&&l.length)for(let f of l)c??=_o(i,e,r),Eh(i,e,f,a,a,c)}}function C(t=1){return rh(t)}function mk(t,e){let n=null,i=By(t);for(let a=0;a<e.length;a++){let r=e[a];if(r==="*"){n=a;continue}if(i===null?y0(t,r,!0):Wy(i,r))return a}return n}function Vd(t){let e=B()[Ne][Fe];if(!e.projection){let n=t?t.length:1,i=e.projection=Tu(n,null),a=i.slice(),r=e.child;for(;r!==null;){if(r.type!==128){let o=t?mk(r,t):0;o!==null&&(a[o]?a[o].projectionNext=r:i[o]=r,a[o]=r)}r=r.next}}}function Hd(t,e=0,n,i,a,r){let o=B(),s=pe(),c=i?t+1:null;c!==null&&Sa(o,s,c,i,a,r,null,n);let l=Li(s,ce+t,16,null,n||null);l.projection===null&&(l.projection=e),rl();let f=!o[An]||el();o[Ne][Fe].projection[l.projection]===null&&c!==null?gk(o,s,c):f&&!$o(l)&&Mm(s,o,l)}function gk(t,e,n){let i=ce+n,a=e.data[i],r=t[i],o=Vo(r,a.tView.ssrId),s=Aa(t,a,void 0,{dehydratedView:o});Pa(r,s,0,bi(a,o))}function Rt(t,e,n){Bg(t,e,n)}function Ft(t){let e=B(),n=pe(),i=ll();fo(i+1);let a=Pd(n,i);if(t.dirty&&zu(e)===((a.metadata.flags&2)===2)){if(a.matches===null)t.reset([]);else{let r=Wg(e,i);t.reset(r,Cy),t.notifyOnChanges()}return!0}return!1}function Nt(){return Hg(B(),ll())}function jd(t){let e=Xu();return so(e,ce+t)}function wo(t,e){return t<<17|e<<2}function zn(t){return t>>17&32767}function kk(t){return(t&2)==2}function vk(t,e){return t&131071|e<<17}function nd(t){return t|2}function Ii(t){return(t&131068)>>2}function bl(t,e){return t&-131069|e<<2}function Mk(t){return(t&1)===1}function id(t){return t|1}function Ck(t,e,n,i,a,r){let o=r?e.classBindings:e.styleBindings,s=zn(o),c=Ii(o);t[i]=n;let l=!1,u;if(Array.isArray(n)){let f=n;u=f[1],(u===null||hi(f,u)>0)&&(l=!0)}else u=n;if(a)if(c!==0){let M=zn(t[s+1]);t[i+1]=wo(M,s),M!==0&&(t[M+1]=bl(t[M+1],i)),t[s+1]=vk(t[s+1],i)}else t[i+1]=wo(s,0),s!==0&&(t[s+1]=bl(t[s+1],i)),s=i;else t[i+1]=wo(c,0),s===0?s=i:t[c+1]=bl(t[c+1],i),c=i;l&&(t[i+1]=nd(t[i+1])),Vh(t,u,i,!0),Vh(t,u,i,!1),xk(e,u,t,i,r),o=wo(s,c),r?e.classBindings=o:e.styleBindings=o}function xk(t,e,n,i,a){let r=a?t.residualClasses:t.residualStyles;r!=null&&typeof e=="string"&&hi(r,e)>=0&&(n[i+1]=id(n[i+1]))}function Vh(t,e,n,i){let a=t[n+1],r=e===null,o=i?zn(a):Ii(a),s=!1;for(;o!==0&&(s===!1||r);){let c=t[o],l=t[o+1];wk(c,e)&&(s=!0,t[o+1]=i?id(l):nd(l)),o=i?zn(l):Ii(l)}s&&(t[n+1]=i?nd(a):id(a))}function wk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?hi(t,e)>=0:!1}function Ai(t,e,n){return M2(t,e,n,!1),Ai}function le(t,e){return M2(t,e,null,!0),le}function M2(t,e,n,i){let a=B(),r=pe(),o=ho(2);if(r.firstUpdatePass&&Ik(r,t,o,i),e!==Oe&&Je(a,o,e)){let s=r.data[kt()];Ek(r,s,a,a[re],t,a[o+1]=Tk(e,n),i,o)}}function bk(t,e){return e>=t.expandoStartIndex}function Ik(t,e,n,i){let a=t.data;if(a[n+1]===null){let r=a[kt()],o=bk(t,n);Ak(r,i)&&e===null&&!o&&(e=!1),e=Dk(a,r,e,i),Ck(a,r,e,n,o,i)}}function Dk(t,e,n,i){let a=th(t),r=i?e.residualClasses:e.residualStyles;if(a===null)(i?e.classBindings:e.styleBindings)===0&&(n=Il(null,t,e,n,i),n=_a(n,e.attrs,i),r=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==a)if(n=Il(a,t,e,n,i),r===null){let c=Sk(t,e,i);c!==void 0&&Array.isArray(c)&&(c=Il(null,t,e,c[1],i),c=_a(c,e.attrs,i),_k(t,e,i,c))}else r=Lk(t,e,i)}return r!==void 0&&(i?e.residualClasses=r:e.residualStyles=r),n}function Sk(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Ii(i)!==0)return t[zn(i)]}function _k(t,e,n,i){let a=n?e.classBindings:e.styleBindings;t[zn(a)]=i}function Lk(t,e,n){let i,a=e.directiveEnd;for(let r=1+e.directiveStylingLast;r<a;r++){let o=t[r].hostAttrs;i=_a(i,o,n)}return _a(i,e.attrs,n)}function Il(t,e,n,i,a){let r=null,o=n.directiveEnd,s=n.directiveStylingLast;for(s===-1?s=n.directiveStart:s++;s<o&&(r=e[s],i=_a(i,r.hostAttrs,a),r!==t);)s++;return t!==null&&(n.directiveStylingLast=s),i}function _a(t,e,n){let i=n?1:2,a=-1;if(e!==null)for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?a=o:a===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Pu(t,o,n?!0:e[++r]))}return t===void 0?null:t}function Ek(t,e,n,i,a,r,o,s){if(!(e.type&3))return;let c=t.data,l=c[s+1],u=Mk(l)?Hh(c,e,n,a,Ii(l),o):void 0;if(!qo(u)){qo(r)||kk(l)&&(r=Hh(c,null,n,a,s,o));let f=Gc(kt(),n);xm(i,o,f,a,r)}}function Hh(t,e,n,i,a,r){let o=e===null,s;for(;a>0;){let c=t[a],l=Array.isArray(c),u=l?c[1]:c,f=u===null,M=n[a+1];M===Oe&&(M=f?ze:void 0);let m=f?ao(M,i):u===i?M:void 0;if(l&&!qo(m)&&(m=ao(c,i)),qo(m)&&(s=m,o))return s;let D=t[a+1];a=o?zn(D):Ii(D)}if(e!==null){let c=r?e.residualClasses:e.residualStyles;c!=null&&(s=ao(c,i))}return s}function qo(t){return t!==void 0}function Tk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ut(p0(t)))),t}function Ak(t,e){return(t.flags&(e?8:16))!==0}function y(t,e=""){let n=B(),i=pe(),a=t+ce,r=i.firstCreatePass?Li(i,a,1,e,null):i.data[a],o=Pk(i,n,r,e,t);n[a]=o,vo()&&Md(i,n,o,r),ki(r,!1)}var Pk=(t,e,n,i,a)=>(ma(!0),Ky(e[re],i));function Rk(t,e,n,i=""){return Je(t,en(),n)?e+ft(n)+i:Oe}function Fk(t,e,n,i,a,r=""){let o=cl(),s=Ad(t,o,n,a);return ho(2),s?e+ft(n)+i+ft(a)+r:Oe}function Nk(t,e,n,i,a,r,o,s=""){let c=cl(),l=gg(t,c,n,a,o);return ho(3),l?e+ft(n)+i+ft(a)+r+ft(o)+s:Oe}function de(t){return g("",t),de}function g(t,e,n){let i=B(),a=Rk(i,t,e,n);return a!==Oe&&Bd(i,kt(),a),g}function Pi(t,e,n,i,a){let r=B(),o=Fk(r,t,e,n,i,a);return o!==Oe&&Bd(r,kt(),o),Pi}function $n(t,e,n,i,a,r,o){let s=B(),c=Nk(s,t,e,n,i,a,r,o);return c!==Oe&&Bd(s,kt(),c),$n}function Bd(t,e,n){let i=Gc(e,t);Zy(t[re],i,n)}function cn(t,e,n){pl(e)&&(e=e());let i=B(),a=en();if(Je(i,a,e)){let r=pe(),o=go();F0(o,i,t,e,i[re],n)}return cn}function Kn(t,e){let n=pl(t);return n&&t.set(e),n}function ln(t,e){let n=B(),i=pe(),a=_e();return v2(i,n,n[re],a,t,e),ln}function Ot(t){return Je(B(),en(),t)?ft(t):Oe}function Ok(t,e,n){let i=pe();if(i.firstCreatePass){let a=gt(t);ad(n,i.data,i.blueprint,a,!0),ad(e,i.data,i.blueprint,a,!1)}}function ad(t,e,n,i,a){if(t=Se(t),Array.isArray(t))for(let r=0;r<t.length;r++)ad(t[r],e,n,i,a);else{let r=pe(),o=B(),s=_e(),c=In(t)?t:Se(t.provide),l=jc(t),u=s.providerIndexes&1048575,f=s.directiveStart,M=s.providerIndexes>>20;if(In(t)||!t.multi){let m=new Hn(l,a,A,null),D=Sl(c,e,a?u:u+M,f);D===-1?(Ll(Po(s,o),r,c),Dl(r,t,e.length),e.push(c),s.directiveStart++,s.directiveEnd++,a&&(s.providerIndexes+=1048576),n.push(m),o.push(m)):(n[D]=m,o[D]=m)}else{let m=Sl(c,e,u+M,f),D=Sl(c,e,u,u+M),F=m>=0&&n[m],P=D>=0&&n[D];if(a&&!P||!a&&!F){Ll(Po(s,o),r,c);let E=jk(a?Hk:Vk,n.length,a,i,l,t);!a&&P&&(n[D].providerFactory=E),Dl(r,t,e.length,0),e.push(c),s.directiveStart++,s.directiveEnd++,a&&(s.providerIndexes+=1048576),n.push(E),o.push(E)}else{let E=C2(n[a?D:m],l,!a&&i);Dl(r,t,m>-1?m:D,E)}!a&&i&&P&&n[D].componentProviders++}}}function Dl(t,e,n,i){let a=In(e),r=Vu(e);if(a||r){let c=(r?Se(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!a&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[i,c]):l[u+1].push(i,c)}else l.push(n,c)}}}function C2(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Sl(t,e,n,i){for(let a=n;a<i;a++)if(e[a]===t)return a;return-1}function Vk(t,e,n,i,a){return rd(this.multi,[])}function Hk(t,e,n,i,a){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=Ca(i,i[O],this.providerFactory.index,a);o=c.slice(0,s),rd(r,o);for(let l=s;l<c.length;l++)o.push(c[l])}else o=[],rd(r,o);return o}function rd(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function jk(t,e,n,i,a,r){let o=new Hn(t,n,A,null);return o.multi=[],o.index=e,o.componentProviders=0,C2(o,a,i&&!n),o}function is(t,e=[]){return n=>{n.providersResolver=(i,a)=>Ok(i,a?a(t):t,e)}}function Vt(t,e,n,i){return w2(B(),ya(),t,e,n,i)}function Ha(t,e,n,i,a){return b2(B(),ya(),t,e,n,i,a)}function x2(t,e){let n=t[e];return n===Oe?void 0:n}function w2(t,e,n,i,a,r){let o=e+n;return Je(t,o,a)?n2(t,o+1,r?i.call(r,a):i(a)):x2(t,o+1)}function b2(t,e,n,i,a,r,o){let s=e+n;return Ad(t,s,a,r)?n2(t,s+2,o?i.call(o,a,r):i(a,r)):x2(t,s+2)}function k(t,e){let n=pe(),i,a=t+ce;n.firstCreatePass?(i=Bk(e,n.pipeRegistry),n.data[a]=i,i.onDestroy&&(n.destroyHooks??=[]).push(a,i.onDestroy)):i=n.data[a];let r=i.factory||(i.factory=Gt(i.type,!0)),o,s=Re(A);try{let c=Ao(!1),l=r();return Ao(c),$c(n,B(),a,l),l}finally{Re(s)}}function Bk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function v(t,e,n){let i=t+ce,a=B(),r=so(a,i);return I2(a,i)?w2(a,ya(),e,r.transform,n,r):r.transform(n)}function fe(t,e,n,i){let a=t+ce,r=B(),o=so(r,a);return I2(r,a)?b2(r,ya(),e,o.transform,n,i,o):o.transform(n,i)}function I2(t,e){return t[O].data[e].pure}var zk=(()=>{class t{zone=R(Ce);changeDetectionScheduler=R(Zt);applicationRef=R(Ti);applicationErrorHandler=R(Mt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),D2=new V("",{factory:()=>!1});function zd({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ce(ae(H({},Wd()),{scheduleInRootZone:n})),[{provide:Ce,useFactory:t},{provide:En,multi:!0,useFactory:()=>{let i=R(zk,{optional:!0});return()=>i.initialize()}},{provide:En,multi:!0,useFactory:()=>{let i=R(qk);return()=>{i.initialize()}}},e===!0?{provide:fl,useValue:!0}:[],{provide:yl,useValue:n??w0},{provide:Mt,useFactory:()=>{let i=R(Ce),a=R(je),r;return o=>{i.runOutsideAngular(()=>{a.destroyed&&!r?setTimeout(()=>{throw o}):(r??=a.get(pt),r.handleError(o))})}}}]}function qd(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,i=zd({ngZoneFactory:()=>{let a=Wd(t);return a.scheduleInRootZone=n,a.shouldCoalesceEventChangeDetection&&Wn("NgZone_CoalesceEvent"),new Ce(a)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return oa([{provide:D2,useValue:!0},{provide:ga,useValue:!1},i])}function Wd(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var qk=(()=>{class t{subscription=new Pe;initialized=!1;zone=R(Ce);pendingTasks=R(nn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var S2=(()=>{class t{applicationErrorHandler=R(Mt);appRef=R(Ti);taskService=R(nn);ngZone=R(Ce);zonelessEnabled=R(ga);tracing=R(Ea,{optional:!0});disableScheduling=R(fl,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(No):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(yl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Oo||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let a=this.useMicrotaskScheduler?Mh:b0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>a(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(No+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(n),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Mh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wk(){return typeof $localize<"u"&&$localize.locale||Va}var ja=new V("",{providedIn:"root",factory:()=>R(ja,{optional:!0,skipSelf:!0})||Wk()});function Ht(t){return Mu(t)}function Ba(t,e){return Ir(t,e?.equal)}var _2=class{[He];constructor(e){this[He]=e}destroy(){this[He].destroy()}};var iv=new V("");iv.__NG_ELEMENT_ID__=t=>{let e=_e();if(e===null)throw new N(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new N(204,!1)};var Ud=new V(""),av=new V("");function za(t){return!t.moduleRef}function rv(t){let e=za(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ce);return n.run(()=>{za(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=e.get(Mt),a;if(n.runOutsideAngular(()=>{a=n.onError.subscribe({next:i})}),za(t)){let r=()=>e.destroy(),o=t.platformInjector.get(Ud);o.add(r),e.onDestroy(()=>{a.unsubscribe(),o.delete(r)})}else{let r=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Ud);o.add(r),t.moduleRef.onDestroy(()=>{Ma(t.allPlatformModules,t.moduleRef),a.unsubscribe(),o.delete(r)})}return sv(i,n,()=>{let r=e.get(nn),o=r.add(),s=e.get(Nd);return s.runInitializers(),s.donePromise.then(()=>{let c=e.get(ja,Va);if(k2(c||Va),!e.get(av,!0))return za(t)?e.get(Ti):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(za(t)){let u=e.get(Ti);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return ov?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void r.remove(o))})})}var ov;function sv(t,e,n){try{let i=n();return Ei(i)?i.catch(a=>{throw e.runOutsideAngular(()=>t(a)),a}):i}catch(i){throw e.runOutsideAngular(()=>t(i)),i}}var as=null;function cv(t=[],e){return Kt.create({name:e,providers:[{provide:sa,useValue:"platform"},{provide:Ud,useValue:new Set([()=>as=null])},...t]})}function lv(t=[]){if(as)return as;let e=cv(t);return as=e,y2(),dv(e),e}function dv(t){let e=t.get(Uo,null);pi(t,()=>{e?.forEach(n=>n())})}var Zn=(()=>{class t{static __NG_ELEMENT_ID__=uv}return t})();function uv(t){return hv(_e(),B(),(t&16)===16)}function hv(t,e,n){if(Jt(t)&&!n){let i=Ye(t.index,e);return new an(i,i)}else if(t.type&175){let i=e[Ne];return new an(i,e)}return null}var Gd=class{constructor(){}supports(e){return Td(e)}create(e){return new $d(e)}},pv=(t,e)=>e,$d=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||pv}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,a=0,r=null;for(;n||i;){let o=!i||n&&n.currentIndex<L2(i,a,r)?n:i,s=L2(o,a,r),c=o.currentIndex;if(o===i)a--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)a++;else{r||(r=[]);let l=s-a,u=c-a;if(l!=u){for(let M=0;M<l;M++){let m=M<r.length?r[M]:r[M]=0,D=m+M;u<=D&&D<l&&(r[M]=m+1)}let f=o.previousIndex;r[f]=u-l}}s!==c&&e(o,s,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Td(e))throw new N(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,a,r,o;if(Array.isArray(e)){this.length=e.length;for(let s=0;s<this.length;s++)r=e[s],o=this._trackByFn(s,r),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,r,o,s),i=!0):(i&&(n=this._verifyReinsertion(n,r,o,s)),Object.is(n.item,r)||this._addIdentityChange(n,r)),n=n._next}else a=0,e2(e,s=>{o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,a){let r;return e===null?r=this._itTail:(r=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,r,a)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,a),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,r,a)):e=this._addAfter(new Kd(n,i),r,a)),e}_verifyReinsertion(e,n,i,a){let r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return r!==null?e=this._reinsertAfter(r,e._prev,a):e.currentIndex!=a&&(e.currentIndex=a,this._addToMoves(e,a)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let a=e._prevRemoved,r=e._nextRemoved;return a===null?this._removalsHead=r:a._nextRemoved=r,r===null?this._removalsTail=a:r._prevRemoved=a,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let a=n===null?this._itHead:n._next;return e._next=a,e._prev=n,a===null?this._itTail=e:a._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new rs),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new rs),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Kd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Zd=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},rs=class{map=new Map;put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Zd,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,a=this.map.get(i);return a?a.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function L2(t,e,n){let i=t.previousIndex;if(i===null)return i;let a=0;return n&&i<n.length&&(a=n[i]),i+e+a}function E2(){return new Xd([new Gd])}var Xd=(()=>{class t{factories;static \u0275prov=j({token:t,providedIn:"root",factory:E2});constructor(n){this.factories=n}static create(n,i){if(i!=null){let a=i.factories.slice();n=n.concat(a)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let i=R(t,{optional:!0,skipSelf:!0});return t.create(n,i||E2())}}}find(n){let i=this.factories.find(a=>a.supports(n));if(i!=null)return i;throw new N(901,!1)}}return t})();function T2(t){let{rootComponent:e,appProviders:n,platformProviders:i,platformRef:a}=t;ie(8);try{let r=a?.injector??lv(i),o=[zd({}),{provide:Zt,useExisting:S2},lh,...n||[]],s=new Da({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return rv({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(r){return Promise.reject(r)}finally{ie(9)}}function A2(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var P2=null;function dn(){return P2}function Yd(t){P2??=t}var qa=class{};var t1=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(t1||{});var It={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ri(t,e){let n=ns(t),i=n[Gn.NumberSymbols][e];if(typeof i>"u"){if(e===It.CurrencyDecimal)return n[Gn.NumberSymbols][It.Decimal];if(e===It.CurrencyGroup)return n[Gn.NumberSymbols][It.Group]}return i}function V2(t,e){return ns(t)[Gn.NumberFormats][e]}var fv=/^(\d+)?\.((\d+)(-(\d+))?)?$/,R2=22,os=".",Wa="0",yv=";",mv=",",Qd="#";function gv(t,e,n,i,a,r,o=!1){let s="",c=!1;if(!isFinite(t))s=Ri(n,It.Infinity);else{let l=Mv(t);o&&(l=vv(l));let u=e.minInt,f=e.minFrac,M=e.maxFrac;if(r){let Y=r.match(fv);if(Y===null)throw new N(2306,!1);let Dt=Y[1],ge=Y[3],ut=Y[5];Dt!=null&&(u=Jd(Dt)),ge!=null&&(f=Jd(ge)),ut!=null?M=Jd(ut):ge!=null&&f>M&&(M=f)}Cv(l,f,M);let m=l.digits,D=l.integerLen,F=l.exponent,P=[];for(c=m.every(Y=>!Y);D<u;D++)m.unshift(0);for(;D<0;D++)m.unshift(0);D>0?P=m.splice(D,m.length):(P=m,m=[0]);let E=[];for(m.length>=e.lgSize&&E.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)E.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&E.unshift(m.join("")),s=E.join(Ri(n,i)),P.length&&(s+=Ri(n,a)+P.join("")),F&&(s+=Ri(n,It.Exponential)+"+"+F)}return t<0&&!c?s=e.negPre+s+e.negSuf:s=e.posPre+s+e.posSuf,s}function H2(t,e,n){let i=V2(e,t1.Decimal),a=kv(i,Ri(e,It.MinusSign));return gv(t,a,e,It.Group,It.Decimal,n)}function kv(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(yv),a=i[0],r=i[1],o=a.indexOf(os)!==-1?a.split(os):[a.substring(0,a.lastIndexOf(Wa)+1),a.substring(a.lastIndexOf(Wa)+1)],s=o[0],c=o[1]||"";n.posPre=s.substring(0,s.indexOf(Qd));for(let u=0;u<c.length;u++){let f=c.charAt(u);f===Wa?n.minFrac=n.maxFrac=u+1:f===Qd?n.maxFrac=u+1:n.posSuf+=f}let l=s.split(mv);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,r){let u=a.length-n.posPre.length-n.posSuf.length,f=r.indexOf(Qd);n.negPre=r.substring(0,f).replace(/'/g,""),n.negSuf=r.slice(f+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function vv(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function Mv(t){let e=Math.abs(t)+"",n=0,i,a,r,o,s;for((a=e.indexOf(os))>-1&&(e=e.replace(os,"")),(r=e.search(/e/i))>0?(a<0&&(a=r),a+=+e.slice(r+1),e=e.substring(0,r)):a<0&&(a=e.length),r=0;e.charAt(r)===Wa;r++);if(r===(s=e.length))i=[0],a=1;else{for(s--;e.charAt(s)===Wa;)s--;for(a-=r,i=[],o=0;r<=s;r++,o++)i[o]=Number(e.charAt(r))}return a>R2&&(i=i.splice(0,R2-1),n=a-1,a=1),{digits:i,exponent:n,integerLen:a}}function Cv(t,e,n){if(e>n)throw new N(2307,!1);let i=t.digits,a=i.length-t.integerLen,r=Math.min(Math.max(e,a),n),o=r+t.integerLen,s=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(let f=o;f<i.length;f++)i[f]=0}else{a=Math.max(0,a),t.integerLen=1,i.length=Math.max(1,o=r+1),i[0]=0;for(let f=1;f<o;f++)i[f]=0}if(s>=5)if(o-1<0){for(let f=0;f>o;f--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;a<Math.max(0,r);a++)i.push(0);let c=r!==0,l=e+t.integerLen,u=i.reduceRight(function(f,M,m,D){return M=M+f,D[m]=M<10?M:M-10,c&&(D[m]===0&&m>=l?D.pop():c=!1),M>=10?1:0},0);u&&(i.unshift(u),t.integerLen++)}function Jd(t){let e=parseInt(t);if(isNaN(e))throw new N(2305,!1);return e}var e1=/\s+/,F2=[],Xn=(()=>{class t{_ngEl;_renderer;initialClasses=F2;rawClass;stateMap=new Map;constructor(n,i){this._ngEl=n,this._renderer=i}set klass(n){this.initialClasses=n!=null?n.trim().split(e1):F2}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(e1):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let a=this.stateMap.get(n);a!==void 0?(a.enabled!==i&&(a.changed=!0,a.enabled=i),a.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],a=n[1];a.changed?(this._toggleClass(i,a.enabled),a.changed=!1):a.touched||(a.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),a.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(e1).forEach(a=>{i?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}static \u0275fac=function(i){return new(i||t)(A(Ge),A(on))};static \u0275dir=tt({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var ss=class{$implicit;ngForOf;index;count;constructor(e,n,i,a){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=a}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Fi=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,i,a){this._viewContainer=n,this._template=i,this._differs=a}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((a,r,o)=>{if(a.previousIndex==null)i.createEmbeddedView(this._template,new ss(a.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(r===null?void 0:r);else if(r!==null){let s=i.get(r);i.move(s,o),N2(s,a)}});for(let a=0,r=i.length;a<r;a++){let s=i.get(a).context;s.index=a,s.count=r,s.ngForOf=this._ngForOf}n.forEachIdentityChange(a=>{let r=i.get(a.currentIndex);N2(r,a)})}static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||t)(A(Pt),A(rn),A(Xd))};static \u0275dir=tt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function N2(t,e){t.context.$implicit=e.item}var me=(()=>{class t{_viewContainer;_context=new cs;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,i){this._viewContainer=n,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){O2(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){O2(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||t)(A(Pt),A(rn))};static \u0275dir=tt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),cs=class{$implicit=null;ngIf=null};function O2(t,e){if(t&&!t.createEmbeddedView)throw new N(2020,!1)}function xv(t,e){return new N(2100,!1)}var Ua=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,i,a){if(!wv(n))return null;a||=this._locale;try{let r=bv(n);return H2(r,a,i)}catch(r){throw xv(t,r.message)}}static \u0275fac=function(i){return new(i||t)(A(ja,16))};static \u0275pipe=Ra({name:"number",type:t,pure:!0})}return t})();function wv(t){return!(t==null||t===""||t!==t)}function bv(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new N(2309,!1);return t}var X=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=et({type:t});static \u0275inj=qe({})}return t})();function Ga(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[a,r]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(a.trim()===e)return decodeURIComponent(r)}return null}var Yn=class{};var j2="browser";var $a=class{_doc;constructor(e){this._doc=e}manager},ls=(()=>{class t extends $a{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,a,r){return n.addEventListener(i,a,r),()=>this.removeEventListener(n,i,a,r)}removeEventListener(n,i,a,r){return n.removeEventListener(i,a,r)}static \u0275fac=function(i){return new(i||t)(G(Ue))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),us=new V(""),o1=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(o=>{o.manager=this});let a=n.filter(o=>!(o instanceof ls));this._plugins=a.slice().reverse();let r=n.find(o=>o instanceof ls);r&&this._plugins.push(r)}addEventListener(n,i,a,r){return this._findPluginFor(i).addEventListener(n,i,a,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(r=>r.supports(n)),!i)throw new N(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||t)(G(us),G(Ce))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),n1="ng-app-id";function B2(t){for(let e of t)e.remove()}function z2(t,e){let n=e.createElement("style");return n.textContent=t,n}function Iv(t,e,n,i){let a=t.head?.querySelectorAll(`style[${n1}="${e}"],link[${n1}="${e}"]`);if(a)for(let r of a)r.removeAttribute(n1),r instanceof HTMLLinkElement?i.set(r.href.slice(r.href.lastIndexOf("/")+1),{usage:0,elements:[r]}):r.textContent&&n.set(r.textContent,{usage:0,elements:[r]})}function a1(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var s1=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,i,a,r={}){this.doc=n,this.appId=i,this.nonce=a,Iv(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let a of n)this.addUsage(a,this.inline,z2);i?.forEach(a=>this.addUsage(a,this.external,a1))}removeStyles(n,i){for(let a of n)this.removeUsage(a,this.inline);i?.forEach(a=>this.removeUsage(a,this.external))}addUsage(n,i,a){let r=i.get(n);r?r.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,a(n,this.doc)))})}removeUsage(n,i){let a=i.get(n);a&&(a.usage--,a.usage<=0&&(B2(a.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])B2(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:a}]of this.inline)a.push(this.addElement(n,z2(i,this.doc)));for(let[i,{elements:a}]of this.external)a.push(this.addElement(n,a1(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),n.appendChild(i)}static \u0275fac=function(i){return new(i||t)(G(Ue),G(Wo),G(Go,8),G(La))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),i1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},c1=/%COMP%/g;var W2="%COMP%",Dv=`_nghost-${W2}`,Sv=`_ngcontent-${W2}`,_v=!0,Lv=new V("",{providedIn:"root",factory:()=>_v});function Ev(t){return Sv.replace(c1,t)}function Tv(t){return Dv.replace(c1,t)}function U2(t,e){return e.map(n=>n.replace(c1,t))}var l1=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,a,r,o,s,c=null,l=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=r,this.doc=o,this.ngZone=s,this.nonce=c,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Ka(n,o,s,this.platformIsServer,this.tracingService)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;let a=this.getOrCreateRenderer(n,i);return a instanceof ds?a.applyToHost(n):a instanceof Za&&a.applyStyles(),a}getOrCreateRenderer(n,i){let a=this.rendererByCompId,r=a.get(i.id);if(!r){let o=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer,M=this.tracingService;switch(i.encapsulation){case At.Emulated:r=new ds(c,l,i,this.appId,u,o,s,f,M);break;case At.ShadowDom:return new r1(c,l,n,i,o,s,this.nonce,f,M);default:r=new Za(c,l,i,u,o,s,f,M);break}a.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(i){return new(i||t)(G(o1),G(s1),G(Wo),G(Lv),G(Ue),G(Ce),G(Go),G(Ea,8))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),Ka=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,i,a,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=a,this.tracingService=r}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(i1[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(q2(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(q2(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){n.remove()}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new N(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,a){if(a){n=a+":"+n;let r=i1[a];r?e.setAttributeNS(r,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let a=i1[i];a?e.removeAttributeNS(a,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,a){a&(xt.DashCase|xt.Important)?e.style.setProperty(n,i,a&xt.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&xt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i,a){if(typeof e=="string"&&(e=dn().getGlobalEventTarget(this.doc,e),!e))throw new N(5102,!1);let r=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(r=this.tracingService.wrapEventListener(e,n,r)),this.eventManager.addEventListener(e,n,r,a)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function q2(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var r1=class extends Ka{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,i,a,r,o,s,c,l){super(e,r,o,c,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=a.styles;u=U2(a.id,u);for(let M of u){let m=document.createElement("style");s&&m.setAttribute("nonce",s),m.textContent=M,this.shadowRoot.appendChild(m)}let f=a.getExternalStyles?.();if(f)for(let M of f){let m=a1(M,r);s&&m.setAttribute("nonce",s),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Za=class extends Ka{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,i,a,r,o,s,c,l){super(e,r,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=a;let u=i.styles;this.styles=l?U2(l,u):u,this.styleUrls=i.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&jn.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ds=class extends Za{contentAttr;hostAttr;constructor(e,n,i,a,r,o,s,c,l){let u=a+"-"+i.id;super(e,n,i,r,o,s,c,l,u),this.contentAttr=Ev(u),this.hostAttr=Tv(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}};var hs=class t extends qa{supportsDOMEvents=!0;static makeCurrent(){Yd(new t)}onAndCancel(e,n,i,a){return e.addEventListener(n,i,a),()=>{e.removeEventListener(n,i,a)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Av();return n==null?null:Pv(n)}resetBaseElement(){Xa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ga(document.cookie,e)}},Xa=null;function Av(){return Xa=Xa||document.head.querySelector("base"),Xa?Xa.getAttribute("href"):null}function Pv(t){return new URL(t,document.baseURI).pathname}var Rv=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),G2=["alt","control","meta","shift"],Fv={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nv={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},$2=(()=>{class t extends $a{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,a,r){let o=t.parseEventName(i),s=t.eventCallback(o.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dn().onAndCancel(n,o.domEventName,s,r))}static parseEventName(n){let i=n.toLowerCase().split("."),a=i.shift();if(i.length===0||!(a==="keydown"||a==="keyup"))return null;let r=t._normalizeKey(i.pop()),o="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),o="code."),G2.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),o+=l+".")}),o+=r,i.length!=0||r.length===0)return null;let c={};return c.domEventName=a,c.fullKey=o,c}static matchEventFullKeyCode(n,i){let a=Fv[n.key]||n.key,r="";return i.indexOf("code.")>-1&&(a=n.code,r="code."),a==null||!a?!1:(a=a.toLowerCase(),a===" "?a="space":a==="."&&(a="dot"),G2.forEach(o=>{if(o!==a){let s=Nv[o];s(n)&&(r+=o+".")}}),r+=a,r===i)}static eventCallback(n,i,a){return r=>{t.matchEventFullKeyCode(r,n)&&a.runGuarded(()=>i(r))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||t)(G(Ue))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function d1(t,e,n){let i=H({rootComponent:t,platformRef:n?.platformRef},Ov(e));return T2(i)}function Ov(t){return{appProviders:[...zv,...t?.providers??[]],platformProviders:Bv}}function Vv(){hs.makeCurrent()}function Hv(){return new pt}function jv(){return ld(document),document}var Bv=[{provide:La,useValue:j2},{provide:Uo,useValue:Vv,multi:!0},{provide:Ue,useFactory:jv}];var zv=[{provide:sa,useValue:"root"},{provide:pt,useFactory:Hv},{provide:us,useClass:ls,multi:!0,deps:[Ue]},{provide:us,useClass:$2,multi:!0,deps:[Ue]},l1,s1,o1,{provide:Bn,useExisting:l1},{provide:Yn,useClass:Rv},[]];var Vi=class{},Ya=class{},un=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let a=n.slice(0,i),r=n.slice(i+1).trim();this.addHeaderEntry(a,r)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.addHeaderEntry(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let a=(e.op==="a"?this.headers.get(n):void 0)||[];a.push(...i),this.headers.set(n,a);break;case"d":let r=e.value;if(!r)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(s=>r.indexOf(s)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}addHeaderEntry(e,n){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(n):this.headers.set(i,[n])}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(r=>r.toString()),a=e.toLowerCase();this.headers.set(a,i),this.maybeSetNormalizedName(e,a)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var fs=class{encodeKey(e){return K2(e)}encodeValue(e){return K2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function qv(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(a=>{let r=a.indexOf("="),[o,s]=r==-1?[e.decodeKey(a),""]:[e.decodeKey(a.slice(0,r)),e.decodeValue(a.slice(r+1))],c=n.get(o)||[];c.push(s),n.set(o,c)}),n}var Wv=/%(\d[a-f0-9])/gi,Uv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function K2(t){return encodeURIComponent(t).replace(Wv,(e,n)=>Uv[n]??e)}function ps(t){return`${t}`}var jt=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new fs,e.fromString){if(e.fromObject)throw new N(2805,!1);this.map=qv(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],a=Array.isArray(i)?i.map(ps):[ps(i)];this.map.set(n,a)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let a=e[i];Array.isArray(a)?a.forEach(r=>{n.push({param:i,value:r,op:"a"})}):n.push({param:i,value:a,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ps(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],a=i.indexOf(ps(e.value));a!==-1&&i.splice(a,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ys=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Gv(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Z2(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function X2(t){return typeof Blob<"u"&&t instanceof Blob}function Y2(t){return typeof FormData<"u"&&t instanceof FormData}function $v(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Q2="Content-Type",J2="Accept",ep="X-Request-URL",tp="text/plain",np="application/json",Kv=`${np}, ${tp}, */*`,Ni=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,i,a){this.url=n,this.method=e.toUpperCase();let r;if(Gv(this.method)||a?(this.body=i!==void 0?i:null,r=a):r=i,r){if(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,this.keepalive=!!r.keepalive,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),r.priority&&(this.priority=r.priority),r.cache&&(this.cache=r.cache),r.credentials&&(this.credentials=r.credentials),typeof r.timeout=="number"){if(r.timeout<1||!Number.isInteger(r.timeout))throw new N(2822,"");this.timeout=r.timeout}r.mode&&(this.mode=r.mode),r.redirect&&(this.redirect=r.redirect),r.integrity&&(this.integrity=r.integrity),r.referrer&&(this.referrer=r.referrer),this.transferCache=r.transferCache}if(this.headers??=new un,this.context??=new ys,!this.params)this.params=new jt,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let s=n.indexOf("?"),c=s===-1?"?":s<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Z2(this.body)||X2(this.body)||Y2(this.body)||$v(this.body)?this.body:this.body instanceof jt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Y2(this.body)?null:X2(this.body)?this.body.type||null:Z2(this.body)?null:typeof this.body=="string"?tp:this.body instanceof jt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?np:null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,r=e.keepalive??this.keepalive,o=e.priority||this.priority,s=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,u=e.credentials||this.credentials,f=e.referrer||this.referrer,M=e.integrity||this.integrity,m=e.transferCache??this.transferCache,D=e.timeout??this.timeout,F=e.body!==void 0?e.body:this.body,P=e.withCredentials??this.withCredentials,E=e.reportProgress??this.reportProgress,Y=e.headers||this.headers,Dt=e.params||this.params,ge=e.context??this.context;return e.setHeaders!==void 0&&(Y=Object.keys(e.setHeaders).reduce((ut,kn)=>ut.set(kn,e.setHeaders[kn]),Y)),e.setParams&&(Dt=Object.keys(e.setParams).reduce((ut,kn)=>ut.set(kn,e.setParams[kn]),Dt)),new t(n,i,F,{params:Dt,headers:Y,context:ge,reportProgress:E,responseType:a,withCredentials:P,transferCache:m,keepalive:r,cache:s,priority:o,timeout:D,mode:c,redirect:l,credentials:u,referrer:f,integrity:M})}},Qn=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(Qn||{}),Hi=class{headers;status;statusText;url;ok;type;redirected;constructor(e,n=200,i="OK"){this.headers=e.headers||new un,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},ms=class t extends Hi{constructor(e={}){super(e)}type=Qn.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Qa=class t extends Hi{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Qn.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Oi=class extends Hi{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Zv=200,Xv=204;function u1(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer}}var ji=(()=>{class t{handler;constructor(n){this.handler=n}request(n,i,a={}){let r;if(n instanceof Ni)r=n;else{let c;a.headers instanceof un?c=a.headers:c=new un(a.headers);let l;a.params&&(a.params instanceof jt?l=a.params:l=new jt({fromObject:a.params})),r=new Ni(n,i,a.body!==void 0?a.body:null,{headers:c,context:a.context,params:l,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache,keepalive:a.keepalive,priority:a.priority,cache:a.cache,mode:a.mode,redirect:a.redirect,credentials:a.credentials,referrer:a.referrer,integrity:a.integrity,timeout:a.timeout})}let o=_t(r).pipe(ea(c=>this.handler.handle(c)));if(n instanceof Ni||a.observe==="events")return o;let s=o.pipe(dc(c=>c instanceof Qa));switch(a.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(De(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new N(2806,!1);return c.body}));case"blob":return s.pipe(De(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new N(2807,!1);return c.body}));case"text":return s.pipe(De(c=>{if(c.body!==null&&typeof c.body!="string")throw new N(2808,!1);return c.body}));case"json":default:return s.pipe(De(c=>c.body))}case"response":return s;default:throw new N(2809,!1)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new jt().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,a={}){return this.request("PATCH",n,u1(a,i))}post(n,i,a={}){return this.request("POST",n,u1(a,i))}put(n,i,a={}){return this.request("PUT",n,u1(a,i))}static \u0275fac=function(i){return new(i||t)(G(Vi))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();var Yv=new V("");function Qv(t,e){return e(t)}function Jv(t,e,n){return(i,a)=>pi(n,()=>e(i,r=>t(r,a)))}var ip=new V(""),ap=new V(""),rp=new V("",{providedIn:"root",factory:()=>!0});var gs=(()=>{class t extends Vi{backend;injector;chain=null;pendingTasks=R(Mo);contributeToStability=R(rp);constructor(n,i){super(),this.backend=n,this.injector=i}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(ip),...this.injector.get(ap,[])]));this.chain=i.reduceRight((a,r)=>Jv(a,r,this.injector),Qv)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,a=>this.backend.handle(a)).pipe(uc(i))}else return this.chain(n,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||t)(G(Ya),G(je))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();var e4=/^\)\]\}',?\n/,t4=RegExp(`^${ep}:`,"m");function n4(t){return"responseURL"in t&&t.responseURL?t.responseURL:t4.test(t.getAllResponseHeaders())?t.getResponseHeader(ep):null}var h1=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new N(-2800,!1);let i=this.xhrFactory;return _t(null).pipe(di(()=>new ee(r=>{let o=i.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((P,E)=>o.setRequestHeader(P,E.join(","))),n.headers.has(J2)||o.setRequestHeader(J2,Kv),!n.headers.has(Q2)){let P=n.detectContentTypeHeader();P!==null&&o.setRequestHeader(Q2,P)}if(n.timeout&&(o.timeout=n.timeout),n.responseType){let P=n.responseType.toLowerCase();o.responseType=P!=="json"?P:"text"}let s=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let P=o.statusText||"OK",E=new un(o.getAllResponseHeaders()),Y=n4(o)||n.url;return c=new ms({headers:E,status:o.status,statusText:P,url:Y}),c},u=()=>{let{headers:P,status:E,statusText:Y,url:Dt}=l(),ge=null;E!==Xv&&(ge=typeof o.response>"u"?o.responseText:o.response),E===0&&(E=ge?Zv:0);let ut=E>=200&&E<300;if(n.responseType==="json"&&typeof ge=="string"){let kn=ge;ge=ge.replace(e4,"");try{ge=ge!==""?JSON.parse(ge):null}catch(Wp){ge=kn,ut&&(ut=!1,ge={error:Wp,text:ge})}}ut?(r.next(new Qa({body:ge,headers:P,status:E,statusText:Y,url:Dt||void 0})),r.complete()):r.error(new Oi({error:ge,headers:P,status:E,statusText:Y,url:Dt||void 0}))},f=P=>{let{url:E}=l(),Y=new Oi({error:P,status:o.status||0,statusText:o.statusText||"Unknown Error",url:E||void 0});r.error(Y)},M=f;n.timeout&&(M=P=>{let{url:E}=l(),Y=new Oi({error:new DOMException("Request timed out","TimeoutError"),status:o.status||0,statusText:o.statusText||"Request timeout",url:E||void 0});r.error(Y)});let m=!1,D=P=>{m||(r.next(l()),m=!0);let E={type:Qn.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(E.total=P.total),n.responseType==="text"&&o.responseText&&(E.partialText=o.responseText),r.next(E)},F=P=>{let E={type:Qn.UploadProgress,loaded:P.loaded};P.lengthComputable&&(E.total=P.total),r.next(E)};return o.addEventListener("load",u),o.addEventListener("error",f),o.addEventListener("timeout",M),o.addEventListener("abort",f),n.reportProgress&&(o.addEventListener("progress",D),s!==null&&o.upload&&o.upload.addEventListener("progress",F)),o.send(s),r.next({type:Qn.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",u),o.removeEventListener("timeout",M),n.reportProgress&&(o.removeEventListener("progress",D),s!==null&&o.upload&&o.upload.removeEventListener("progress",F)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(i){return new(i||t)(G(Yn))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),op=new V(""),i4="XSRF-TOKEN",a4=new V("",{providedIn:"root",factory:()=>i4}),r4="X-XSRF-TOKEN",o4=new V("",{providedIn:"root",factory:()=>r4}),Ja=class{},s4=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,i){this.doc=n,this.cookieName=i}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ga(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(i){return new(i||t)(G(Ue),G(a4))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function c4(t,e){let n=t.url.toLowerCase();if(!R(op)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=R(Ja).getToken(),a=R(o4);return i!=null&&!t.headers.has(a)&&(t=t.clone({headers:t.headers.set(a,i)})),e(t)}function p1(...t){let e=[ji,h1,gs,{provide:Vi,useExisting:gs},{provide:Ya,useFactory:()=>R(Yv,{optional:!0})??R(h1)},{provide:ip,useValue:c4,multi:!0},{provide:op,useValue:!0},{provide:Ja,useClass:s4}];for(let n of t)e.push(...n.\u0275providers);return oa(e)}var nr=class{},cp=(()=>{class t{handle(n){return n.key}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),Bi=class{},lp=(()=>{class t extends Bi{compile(n,i){return n}compileTranslations(n,i){return n}static \u0275fac=(()=>{let n;return function(a){return(n||(n=qn(t)))(a||t)}})();static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),pn=class{},dp=(()=>{class t extends pn{getTranslation(n){return _t({})}static \u0275fac=(()=>{let n;return function(a){return(n||(n=qn(t)))(a||t)}})();static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function ks(t,e){if(t===e)return!0;if(t===null||e===null)return!1;if(t!==t&&e!==e)return!0;let n=typeof t,i=typeof e,a;if(n==i&&n=="object")if(Array.isArray(t)){if(!Array.isArray(e))return!1;if((a=t.length)==e.length){for(let r=0;r<a;r++)if(!ks(t[r],e[r]))return!1;return!0}}else{if(Array.isArray(e))return!1;if(Bt(t)&&Bt(e)){let r=Object.create(null);for(let o in t){if(!ks(t[o],e[o]))return!1;r[o]=!0}for(let o in e)if(!(o in r)&&typeof e[o]<"u")return!1;return!0}}return!1}function hn(t){return typeof t<"u"&&t!==null}function sp(t){return t!==void 0}function Bt(t){return tr(t)&&!Jn(t)&&t!==null}function tr(t){return typeof t=="object"&&t!==null}function Jn(t){return Array.isArray(t)}function vs(t){return typeof t=="string"}function d4(t){return typeof t=="function"}function Ms(t){if(Jn(t))return t.map(e=>Ms(e));if(Bt(t)){let e={};return Object.keys(t).forEach(n=>{e[n]=Ms(t[n])}),e}else return t}function g1(t,e){if(!tr(t))return Ms(e);let n=Ms(t);return tr(n)&&tr(e)&&Object.keys(e).forEach(i=>{Bt(e[i])?i in t?n[i]=g1(t[i],e[i]):Object.assign(n,{[i]:e[i]}):Object.assign(n,{[i]:e[i]})}),n}function up(t,e){let n=e.split(".");e="";do{e+=n.shift();let i=!n.length;if(hn(t)){if(Bt(t)&&sp(t[e])&&(Bt(t[e])||Jn(t[e])||i)){t=t[e],e="";continue}if(Jn(t)){let a=parseInt(e,10);if(sp(t[a])&&(Bt(t[a])||Jn(t[a])||i)){t=t[a],e="";continue}}}if(i){t=void 0;continue}e+="."}while(n.length);return t}function u4(t,e,n){return g1(t,h4(e,n))}function h4(t,e){return t.split(".").reduceRight((n,i)=>({[i]:n}),e)}var zi=class{},hp=(()=>{class t extends zi{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(n,i){if(vs(n))return this.interpolateString(n,i);if(d4(n))return this.interpolateFunction(n,i)}interpolateFunction(n,i){return n(i)}interpolateString(n,i){return i?n.replace(this.templateMatcher,(a,r)=>{let o=this.getInterpolationReplacement(i,r);return o!==void 0?o:a}):n}getInterpolationReplacement(n,i){return this.formatValue(up(n,i))}formatValue(n){if(vs(n))return n;if(typeof n=="number"||typeof n=="boolean")return n.toString();if(n===null)return"null";if(Jn(n))return n.join(", ");if(tr(n))return typeof n.toString=="function"&&n.toString!==Object.prototype.toString?n.toString():JSON.stringify(n)}static \u0275fac=(()=>{let n;return function(a){return(n||(n=qn(t)))(a||t)}})();static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),f1=(()=>{class t{_onTranslationChange=new we;_onLangChange=new we;_onFallbackLangChange=new we;fallbackLang=null;currentLang;translations={};languages=[];getTranslations(n){return this.translations[n]}setTranslations(n,i,a){this.translations[n]=a&&this.hasTranslationFor(n)?g1(this.translations[n],i):i,this.addLanguages([n]),this._onTranslationChange.next({lang:n,translations:this.getTranslations(n)})}getLanguages(){return this.languages}getCurrentLang(){return this.currentLang}getFallbackLang(){return this.fallbackLang}setFallbackLang(n,i=!0){this.fallbackLang=n,i&&this._onFallbackLangChange.next({lang:n,translations:this.translations[n]})}setCurrentLang(n,i=!0){this.currentLang=n,i&&this._onLangChange.next({lang:n,translations:this.translations[n]})}get onTranslationChange(){return this._onTranslationChange.asObservable()}get onLangChange(){return this._onLangChange.asObservable()}get onFallbackLangChange(){return this._onFallbackLangChange.asObservable()}addLanguages(n){this.languages=Array.from(new Set([...this.languages,...n]))}hasTranslationFor(n){return typeof this.translations[n]<"u"}deleteTranslations(n){delete this.translations[n]}getTranslation(n){let i=this.getValue(this.currentLang,n);return i===void 0&&this.fallbackLang!=null&&this.fallbackLang!==this.currentLang&&(i=this.getValue(this.fallbackLang,n)),i}getValue(n,i){return up(this.getTranslations(n),i)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),y1=new V("TRANSLATE_CONFIG"),er=t=>Wt(t)?t:_t(t);var dt=(()=>{class t{loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;currentLoader=R(pn);compiler=R(Bi);parser=R(zi);missingTranslationHandler=R(nr);store=R(f1);extend=!1;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onFallbackLangChange(){return this.store.onFallbackLangChange}get onDefaultLangChange(){return this.store.onFallbackLangChange}constructor(){let n=H({extend:!1,fallbackLang:null},R(y1,{optional:!0}));n.lang&&this.use(n.lang),n.fallbackLang&&this.setFallbackLang(n.fallbackLang),n.extend&&(this.extend=!0)}setFallbackLang(n){this.getFallbackLang()||this.store.setFallbackLang(n,!1);let i=this.loadOrExtendLanguage(n);return Wt(i)?(i.pipe(li(1)).subscribe({next:()=>{this.store.setFallbackLang(n)},error:()=>{}}),i):(this.store.setFallbackLang(n),_t(this.store.getTranslations(n)))}use(n){this.lastUseLanguage=n,this.getCurrentLang()||this.store.setCurrentLang(n,!1);let i=this.loadOrExtendLanguage(n);return Wt(i)?(i.pipe(li(1)).subscribe({next:()=>{this.changeLang(n)},error:()=>{}}),i):(this.changeLang(n),_t(this.store.getTranslations(n)))}loadOrExtendLanguage(n){if(!this.store.hasTranslationFor(n)||this.extend)return this._translationRequests[n]=this._translationRequests[n]||this.loadAndCompileTranslations(n),this._translationRequests[n]}changeLang(n){n===this.lastUseLanguage&&this.store.setCurrentLang(n)}getCurrentLang(){return this.store.getCurrentLang()}loadAndCompileTranslations(n){this.pending=!0;let i=this.currentLoader.getTranslation(n).pipe(Xr(1),li(1));return this.loadingTranslations=i.pipe(De(a=>this.compiler.compileTranslations(a,n)),Xr(1),li(1)),this.loadingTranslations.subscribe({next:a=>{this.store.setTranslations(n,a,this.extend),this.pending=!1},error:a=>{this.pending=!1}}),i}setTranslation(n,i,a=!1){let r=this.compiler.compileTranslations(i,n);this.store.setTranslations(n,r,a||this.extend)}getLangs(){return this.store.getLanguages()}addLangs(n){this.store.addLanguages(n)}getParsedResultForKey(n,i){let a=this.getTextToInterpolate(n);if(hn(a))return this.runInterpolation(a,i);let r=this.missingTranslationHandler.handle(H({key:n,translateService:this},i!==void 0&&{interpolateParams:i}));return r!==void 0?r:n}getFallbackLang(){return this.store.getFallbackLang()}getTextToInterpolate(n){return this.store.getTranslation(n)}runInterpolation(n,i){if(hn(n))return Jn(n)?this.runInterpolationOnArray(n,i):Bt(n)?this.runInterpolationOnDict(n,i):this.parser.interpolate(n,i)}runInterpolationOnArray(n,i){return n.map(a=>this.runInterpolation(a,i))}runInterpolationOnDict(n,i){let a={};for(let r in n){let o=this.runInterpolation(n[r],i);o!==void 0&&(a[r]=o)}return a}getParsedResult(n,i){return n instanceof Array?this.getParsedResultForArray(n,i):this.getParsedResultForKey(n,i)}getParsedResultForArray(n,i){let a={},r=!1;for(let s of n)a[s]=this.getParsedResultForKey(s,i),r=r||Wt(a[s]);if(!r)return a;let o=n.map(s=>er(a[s]));return Ji(o).pipe(De(s=>{let c={};return s.forEach((l,u)=>{c[n[u]]=l}),c}))}get(n,i){if(!hn(n)||!n.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(ea(()=>er(this.getParsedResult(n,i)))):er(this.getParsedResult(n,i))}getStreamOnTranslationChange(n,i){if(!hn(n)||!n.length)throw new Error('Parameter "key" is required and cannot be empty');return Kr(Zr(()=>this.get(n,i)),this.onTranslationChange.pipe(di(()=>{let a=this.getParsedResult(n,i);return er(a)})))}stream(n,i){if(!hn(n)||!n.length)throw new Error('Parameter "key" required');return Kr(Zr(()=>this.get(n,i)),this.onLangChange.pipe(di(()=>{let a=this.getParsedResult(n,i);return er(a)})))}instant(n,i){if(!hn(n)||n.length===0)throw new Error('Parameter "key" is required and cannot be empty');let a=this.getParsedResult(n,i);return Wt(a)?Array.isArray(n)?n.reduce((r,o)=>(r[o]=o,r),{}):n:a}set(n,i,a=this.getCurrentLang()){this.store.setTranslations(a,u4(this.store.getTranslations(a),n,vs(i)?this.compiler.compile(i,a):this.compiler.compileTranslations(i,a)),!1)}reloadLang(n){return this.resetLang(n),this.loadAndCompileTranslations(n)}resetLang(n){delete this._translationRequests[n],this.store.deleteTranslations(n)}static getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let n=this.getBrowserCultureLang();return n?n.split(/[-_]/)[0]:void 0}static getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}getBrowserLang(){return t.getBrowserLang()}getBrowserCultureLang(){return t.getBrowserCultureLang()}get defaultLang(){return this.getFallbackLang()}get currentLang(){return this.store.getCurrentLang()}get langs(){return this.store.getLanguages()}setDefaultLang(n){return this.setFallbackLang(n)}getDefaultLang(){return this.getFallbackLang()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();var Q=(()=>{class t{translate=R(dt);_ref=R(Zn);value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onFallbackLangChange;updateValue(n,i,a){let r=o=>{this.value=o!==void 0?o:n,this.lastKey=n,this._ref.markForCheck()};if(a){let o=this.translate.getParsedResult(n,i);Wt(o)?o.subscribe(r):r(o)}this.translate.get(n,i).subscribe(r)}transform(n,...i){if(!n||!n.length)return n;if(ks(n,this.lastKey)&&ks(i,this.lastParams))return this.value;let a;if(hn(i[0])&&i.length)if(vs(i[0])&&i[0].length){let r=i[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{a=JSON.parse(r)}catch(o){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else Bt(i[0])&&(a=i[0]);return this.lastKey=n,this.lastParams=i,this.updateValue(n,a),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(r=>{(this.lastKey&&r.lang===this.translate.getCurrentLang()||r.lang===this.translate.getFallbackLang())&&(this.lastKey=null,this.updateValue(n,a,r.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(r=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,a,r.translations))})),this.onFallbackLangChange||(this.onFallbackLangChange=this.translate.onFallbackLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,a))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onFallbackLangChange<"u"&&(this.onFallbackLangChange.unsubscribe(),this.onFallbackLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=Ra({name:"translate",type:t,pure:!1});static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function pp(t){return{provide:pn,useClass:t}}function fp(t){return{provide:Bi,useClass:t}}function yp(t){return{provide:zi,useClass:t}}function mp(t){return{provide:nr,useClass:t}}function gp(t={}){return m1(H({compiler:fp(lp),parser:yp(hp),loader:pp(dp),missingTranslationHandler:mp(cp)},t),!0)}function m1(t={},e){let n=[];t.loader&&n.push(t.loader),t.compiler&&n.push(t.compiler),t.parser&&n.push(t.parser),t.missingTranslationHandler&&n.push(t.missingTranslationHandler),e&&n.push(f1),(t.useDefaultLang||t.defaultLanguage)&&(console.warn("The `useDefaultLang` and `defaultLanguage` options are deprecated. Please use `fallbackLang` instead."),t.useDefaultLang===!0&&t.defaultLanguage&&(t.fallbackLang=t.defaultLanguage));let i={fallbackLang:t.fallbackLang??null,lang:t.lang,extend:t.extend??!1};return n.push({provide:y1,useValue:i}),n.push({provide:dt,useClass:dt,deps:[f1,pn,Bi,zi,nr,y1]}),n}var J=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[...m1(H({compiler:fp(lp),parser:yp(hp),loader:pp(dp),missingTranslationHandler:mp(cp)},n),!0)]}}static forChild(n={}){return{ngModule:t,providers:[...m1(n,n.isolate??!1)]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=et({type:t});static \u0275inj=qe({})}return t})();var kp=(()=>{class t{http;prefix;suffix;constructor(n,i="/assets/i18n/",a=".json"){this.http=n,this.prefix=i,this.suffix=a}getTranslation(n){return this.http.get(`${this.prefix}${n}${this.suffix}`)}static \u0275fac=function(i){return new(i||t)(G(ji),G(String),G(String))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function p4(t){return new kp(t,"./assets/i18n/",".json")}var vp={providers:[qd({eventCoalescing:!0}),p1(),gp({defaultLanguage:"sv",loader:{provide:pn,useFactory:p4,deps:[ji]}})]};var f4=["*"];var Cs=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]];var qi=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]];var xs=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]];var ws=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]];var Mp=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]];var ue=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]];var Cp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]];var bs=[["path",{d:"M16.8 11.2c.8-.9 1.2-2 1.2-3.2a6 6 0 0 0-9.3-5",key:"1fkcox"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M6.3 6.3a4.67 4.67 0 0 0 1.2 5.2c.7.7 1.3 1.5 1.5 2.5",key:"10m8kw"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Is=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]];var Ds=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]];var xp=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]];var wp=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]];var bp=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]];var Ss=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]];var ir={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},k1=new V("LucideIcons",{factory:()=>new ar({})}),ar=class{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return typeof this.icons=="object"&&e in this.icons}},y4=(()=>{class t{constructor(){this.color=ir.stroke,this.size=ir.width,this.strokeWidth=ir["stroke-width"],this.absoluteStrokeWidth=!1}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function m4(t,e=3){return parseFloat(t.toFixed(e)).toString(10)}var oe=(()=>{class t{constructor(n,i,a,r,o){this.elem=n,this.renderer=i,this.changeDetector=a,this.iconProviders=r,this.iconConfig=o,this.absoluteStrokeWidth=!1,this.defaultSize=ir.height}get size(){return this._size??this.iconConfig.size}set size(n){n?this._size=this.parseNumber(n):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(n){n?this._strokeWidth=this.parseNumber(n):delete this._strokeWidth}ngOnChanges(n){if(n.name||n.img||n.color||n.size||n.absoluteStrokeWidth||n.strokeWidth||n.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let i=this.img??this.name;if(typeof i=="string"){let a=this.getIcon(this.toPascalCase(i));if(a)this.replaceElement(a);else throw new Error(`The "${i}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(i))this.replaceElement(i);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(n){let i=ae(H({},ir),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?m4(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),a=this.createElement(["svg",i,n]);a.classList.add("lucide"),typeof this.name=="string"&&a.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&a.classList.add(...this.class.split(/ /).map(o=>o.trim()).filter(o=>o.length>0));let r=this.elem.nativeElement.childNodes;for(let o of r)this.renderer.removeChild(this.elem.nativeElement,o);this.renderer.appendChild(this.elem.nativeElement,a)}toPascalCase(n){return n.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(i,a,r)=>a.toUpperCase()+r.toLowerCase())}parseNumber(n){if(typeof n=="string"){let i=parseInt(n,10);if(isNaN(i))throw new Error(`${n} is not numeric.`);return i}return n}getIcon(n){for(let i of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(i.hasIcon(n))return i.getIcon(n);return null}createElement([n,i,a=[]]){let r=this.renderer.createElement(n,"http://www.w3.org/2000/svg");return Object.keys(i).forEach(o=>{let s=typeof i[o]=="string"?i[o]:i[o].toString(10);this.renderer.setAttribute(r,o,s)}),a.length&&a.forEach(o=>{let s=this.createElement(o);this.renderer.appendChild(r,s)}),r}}return t.\u0275fac=function(n){return new(n||t)(A(Ge),A(on),A(Zn),A(k1),A(y4))},t.\u0275cmp=Z({type:t,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[wt],ngContentSelectors:f4,decls:1,vars:0,template:function(n,i){n&1&&(Vd(),Hd(0))},encapsulation:2}),t})(),v1=class{constructor(e){this.icons=e}},g4=t=>new ar(t??{}),se=(()=>{class t{static pick(n){return{ngModule:t,providers:[{provide:k1,multi:!0,useValue:new ar(n)},{provide:k1,multi:!0,useFactory:g4,deps:[[new od,v1]]}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=et({type:t}),t.\u0275inj=qe({imports:[[]]}),t})();var Ip=[{day:1,challengeType:"riddle",funFactKey:"funFacts.day1",challengeData:{riddleKey:"challenges.riddle.day1.question",answerKey:["candle","ljus","stearinljus"],hintKey:"challenges.riddle.day1.hint"}},{day:2,challengeType:"hangman",funFactKey:"funFacts.day2",challengeData:{word:"mistletoe",wordSv:"mistel",clueKey:"challenges.hangman.day2.clue",hintKey:"challenges.hangman.day2.hint"}},{day:3,challengeType:"wordScramble",funFactKey:"funFacts.day3",challengeData:{word:"snowflake",wordSv:"sn\xF6flinga",clueKey:"challenges.wordScramble.day3.clue",hintKey:"challenges.wordScramble.day3.hint"}},{day:4,challengeType:"memoryCard",funFactKey:"funFacts.day4",challengeData:{gridSize:4,icons:["\u{1F385}","\u26C4","\u{1F384}","\u{1F381}","\u2B50","\u{1F514}","\u{1F56F}\uFE0F","\u{1F98C}"]}},{day:5,challengeType:"flappySleigh",funFactKey:"funFacts.day5",challengeData:{levelLength:3200,scrollSpeed:200,flapForce:350,gravity:800,gapSize:150,obstacleFrequency:320}},{day:6,challengeType:"rebus",funFactKey:"funFacts.day6",challengeData:{rebusKey:"challenges.rebus.day6.puzzle",answerKey:["snowman","sn\xF6gubbe"],hintKey:"challenges.rebus.day6.hint"}},{day:7,challengeType:"wordSearch",funFactKey:"funFacts.day7",challengeData:{grid:[["S","N","O","W","B","A","L","L","X","M"],["T","Q","P","W","Z","K","M","V","B","P"],["A","L","I","G","H","T","S","Y","N","R"],["R","M","X","Q","F","W","P","L","D","T"],["Z","F","R","O","S","T","K","R","V","S"],["K","V","B","N","M","Q","W","X","Y","F"],["G","I","F","T","S","Z","L","P","T","T"]],gridSv:[["S","N","\xD6","B","O","L","L","T","X","K"],["T","Q","P","W","Z","K","M","O","V","R"],["J","L","J","U","S","M","Q","M","B","W"],["A","P","X","F","W","Y","N","T","L","Y"],["R","Z","K","V","B","P","M","E","D","B"],["N","M","Q","W","X","L","T","N","V","N"],["A","G","\xC5","V","O","R","K","P","X","M"]],words:["SNOWBALL","LIGHTS","FROST","GIFTS","STAR"],wordsSv:["SN\xD6BOLL","LJUS","TOMTEN","G\xC5VOR","STJ\xC4RNA"]}},{day:8,challengeType:"sokoban",funFactKey:"funFacts.day8",challengeData:{level:[[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],["W"],["W"],["W"],["W"],["W"],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],["W"],[" "],[" "],[" "],["W"],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],["W"],["B"],[" "],[" "],["W"],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],["W"],["W"],["W"],[" "],[" "],["B"],["W"],["W"],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],["W"],[" "],[" "],["B"],[" "],["B"],[" "],["W"],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[["W"],["W"],["W"],[" "],["W"],[" "],["W"],["W"],[" "],["W"],[" "],[" "],[" "],["W"],["W"],["W"],["W"],["W"],["W"]],[["W"],[" "],[" "],[" "],["W"],[" "],["W"],["W"],[" "],["W"],["W"],["W"],["W"],["W"],[" "],[" "],["G"],["G"],["W"]],[["W"],[" "],["B"],[" "],[" "],["B"],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],["G"],["G"],["W"]],[["W"],["W"],["W"],["W"],["W"],[" "],["W"],["W"],["W"],[" "],["W"],["P"],["W"],["W"],[" "],[" "],["G"],["G"],["W"]],[[" "],[" "],[" "],[" "],["W"],[" "],[" "],[" "],[" "],[" "],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"]],[[" "],[" "],[" "],[" "],["W"],["W"],["W"],["W"],["W"],["W"],["W"],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]]]}},{day:9,challengeType:"geometryDash",challengeData:{difficulty:"easy"},funFactKey:"funFacts.day9"},{day:10,challengeType:"riddle",funFactKey:"funFacts.day10",challengeData:{riddleKey:"challenges.riddle.day10.question",answerKey:["snow","sn\xF6"],hintKey:"challenges.riddle.day10.hint"}},{day:11,challengeType:"hangman",funFactKey:"funFacts.day11",challengeData:{word:"stocking",wordSv:"julstrumpa",clueKey:"challenges.hangman.day8.clue",hintKey:"challenges.hangman.day8.hint"}},{day:12,challengeType:"wordScramble",funFactKey:"funFacts.day12",challengeData:{word:"reindeer",wordSv:"ren",clueKey:"challenges.wordScramble.day12.clue",hintKey:"challenges.wordScramble.day12.hint"}},{day:13,challengeType:"rebus",funFactKey:"funFacts.day13",challengeData:{rebusKey:"challenges.rebus.day13.puzzle",answerKey:["christmas","jul"],hintKey:"challenges.rebus.day13.hint"}},{day:14,challengeType:"riddle",funFactKey:"funFacts.day14",challengeData:{riddleKey:"challenges.riddle.day17.question",answerKey:["icicle","istapp"],hintKey:"challenges.riddle.day17.hint"}},{day:15,challengeType:"climber",funFactKey:"funFacts.day15"},{day:16,challengeType:"hangman",funFactKey:"funFacts.day16",challengeData:{word:"sleigh",wordSv:"sl\xE4de",clueKey:"challenges.hangman.day14.clue",hintKey:"challenges.hangman.day14.hint"}},{day:17,challengeType:"wordSearch",funFactKey:"funFacts.day17",challengeData:{grid:[["C","A","N","D","Y","C","A","N","E","W"],["Q","M","X","Z","K","P","V","B","L","L"],["O","R","N","A","M","E","N","T","F","F"],["W","T","Y","L","Q","Z","M","K","V","M"],["R","E","I","N","D","E","E","R","B","P"],["E","X","W","P","M","K","T","Q","N","R"],["A","C","A","R","O","L","S","V","Y","T"],["T","Z","L","M","N","P","R","W","X","K"],["H","Q","V","B","F","D","K","Y","L","S"]],gridSv:[["P","O","L","K","A","G","R","I","S","M"],["Q","M","X","Z","K","P","V","B","T","X"],["K","R","A","N","S","W","Y","L","A","W"],["L","T","Y","L","Q","Z","M","K","V","Q"],["R","E","N","A","R","F","D","W","B","Z"],["M","P","V","B","N","X","Q","Y","L","K"],["J","U","L","S","\xC5","N","G","E","R","T"],["P","Z","K","M","W","Q","V","X","L","N"],["N","\xD6","T","T","E","R","K","Y","B","M"]],words:["CANDYCANE","REINDEER","ORNAMENT","WREATH","CAROLS"],wordsSv:["POLKAGRIS","RENAR","KRANS","JUL","JULS\xC5NGER","N\xD6TTER"]}},{day:18,challengeType:"mazeRunner",funFactKey:"funFacts.day18",challengeData:{rows:21,cols:21,collectibleCount:5}},{day:19,challengeType:"wordScramble",funFactKey:"funFacts.day19",challengeData:{word:"gingerbread",wordSv:"pepparkaka",clueKey:"challenges.wordScramble.day19.clue",hintKey:"challenges.wordScramble.day19.hint"}},{day:20,challengeType:"hangman",funFactKey:"funFacts.day20",challengeData:{word:"nutcracker",wordSv:"n\xF6tkn\xE4ppare",clueKey:"challenges.hangman.day20.clue",hintKey:"challenges.hangman.day20.hint"}},{day:21,challengeType:"rebus",funFactKey:"funFacts.day21",challengeData:{rebusKey:"challenges.rebus.day21.puzzle",answerKey:["winter","vinter"],hintKey:"challenges.rebus.day21.hint"}},{day:22,challengeType:"geometryDash",challengeData:{difficulty:"medium"},funFactKey:"funFacts.day22"},{day:23,challengeType:"wordSearch",funFactKey:"funFacts.day23",challengeData:{grid:[["B","E","L","L","S","X","Q","Z","M","L"],["M","K","P","V","N","W","Y","L","T","P"],["C","O","O","K","I","E","S","F","B","E"],["H","Q","Z","M","R","K","V","W","X","A"],["O","W","P","L","A","T","Y","N","Q","C"],["L","X","M","I","R","A","C","L","E","E"],["L","A","N","G","E","L","Z","P","W","L"],["Y","Q","V","B","L","M","K","T","Y","K"],["S","N","O","W","F","X","P","W","Z","T"]],gridSv:[["K","L","O","C","K","O","R","X","Q","G"],["M","P","V","B","N","W","Y","L","T","E"],["K","A","K","O","R","Z","M","F","K","L"],["F","Q","W","P","I","X","V","B","Y","L"],["R","M","K","U","N","D","E","R","Q","A"],["I","X","V","B","P","M","Z","F","D","N"],["D","\xC4","N","G","E","L","K","Y","W","G"],["W","Q","Z","M","V","B","N","P","X","E"],["M","U","R","G","R","\xD6","N","A","L","L"]],words:["BELLS","ANGEL","COOKIES","HOLLY","MIRACLE","PEACE","SNOW"],wordsSv:["KLOCKOR","\xC4NGEL","KAKOR","MURGR\xD6NA","UNDER","FRID","SN\xD6"]}},{day:24,challengeType:"riddle",funFactKey:"funFacts.day24",challengeData:{riddleKey:"challenges.riddle.day24.question",answerKey:["santa claus","santa","jultomten","tomten"],hintKey:"challenges.riddle.day24.hint"}}];var _s=class t{funFactKey;continue=new W;onContinue(){this.continue.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Z({type:t,selectors:[["app-fun-fact-reveal"]],inputs:{funFactKey:"funFactKey"},outputs:{continue:"continue"},decls:17,vars:12,consts:[[1,"text-center","py-8","sm:py-12"],[1,"mb-6","animate-bounce"],[1,"text-6xl","sm:text-7xl","lg:text-8xl"],[1,"text-2xl","sm:text-3xl","font-bold","text-accent-green","mb-6"],[1,"text-lg","sm:text-xl","text-gold","font-semibold","mb-4"],[1,"max-w-lg","mx-auto","mb-8"],[1,"text-base","sm:text-lg","text-text","leading-relaxed","px-4"],[1,"btn","btn-primary","text-base","sm:text-lg","px-6","py-3",3,"click"]],template:function(n,i){n&1&&(Te(0,"div",0)(1,"div",1)(2,"div",2),y(3,"\u{1F389}"),Be()(),Te(4,"h3",3),y(5),k(6,"translate"),Be(),Te(7,"p",4),y(8),k(9,"translate"),Be(),Te(10,"div",5)(11,"p",6),y(12),k(13,"translate"),Be()(),Te(14,"button",7),sn("click",function(){return i.onContinue()}),y(15),k(16,"translate"),Be()()),n&2&&(d(5),g(" ",v(6,4,"challenges.success.title")," "),d(3),g(" ",v(9,6,"challenges.success.funFactLabel")," "),d(4),g(" ",v(13,8,i.funFactKey)," "),d(3),g(" ",v(16,10,"ui.continue")," "))},dependencies:[X,J,Q],styles:["[_nghost-%COMP%]{display:block}"]})};var Pp=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(i){return new(i||t)(A(on),A(Ge))};static \u0275dir=tt({type:t})}return t})(),k4=(()=>{class t extends Pp{static \u0275fac=(()=>{let n;return function(a){return(n||(n=qn(t)))(a||t)}})();static \u0275dir=tt({type:t,features:[Un]})}return t})(),Rp=new V("");var v4={provide:Rp,useExisting:_n(()=>fn),multi:!0};function M4(){let t=dn()?dn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var C4=new V(""),fn=(()=>{class t extends Pp{_compositionMode;_composing=!1;constructor(n,i,a){super(n,i),this._compositionMode=a,this._compositionMode==null&&(this._compositionMode=!M4())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(i){return new(i||t)(A(on),A(Ge),A(C4,8))};static \u0275dir=tt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,a){i&1&&w("input",function(o){return a._handleInput(o.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(o){return a._compositionEnd(o.target.value)})},standalone:!1,features:[is([v4]),Un]})}return t})();var x4=new V(""),w4=new V("");function Fp(t){return t!=null}function Np(t){return Ei(t)?xn(t):t}function Op(t){let e={};return t.forEach(n=>{e=n!=null?H(H({},e),n):e}),Object.keys(e).length===0?null:e}function Vp(t,e){return e.map(n=>n(t))}function b4(t){return!t.validate}function Hp(t){return t.map(e=>b4(e)?e:n=>e.validate(n))}function I4(t){if(!t)return null;let e=t.filter(Fp);return e.length==0?null:function(n){return Op(Vp(n,e))}}function jp(t){return t!=null?I4(Hp(t)):null}function D4(t){if(!t)return null;let e=t.filter(Fp);return e.length==0?null:function(n){let i=Vp(n,e).map(Np);return Ji(i).pipe(De(Op))}}function Bp(t){return t!=null?D4(Hp(t)):null}function Dp(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function S4(t){return t._rawValidators}function _4(t){return t._rawAsyncValidators}function M1(t){return t?Array.isArray(t)?t:[t]:[]}function Es(t,e){return Array.isArray(t)?t.includes(e):t===e}function Sp(t,e){let n=M1(e);return M1(t).forEach(a=>{Es(n,a)||n.push(a)}),n}function _p(t,e){return M1(e).filter(n=>!Es(t,n))}var Ts=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},C1=class extends Ts{name;get formDirective(){return null}get path(){return null}},lr=class extends Ts{_parent=null;name=null;valueAccessor=null},x1=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},L4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},TA=ae(H({},L4),{"[class.ng-submitted]":"isSubmitted"}),Gi=(()=>{class t extends x1{constructor(n){super(n)}static \u0275fac=function(i){return new(i||t)(A(lr,2))};static \u0275dir=tt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,a){i&2&&le("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},standalone:!1,features:[Un]})}return t})();var rr="VALID",Ls="INVALID",Wi="PENDING",or="DISABLED",ei=class{},As=class extends ei{value;source;constructor(e,n){super(),this.value=e,this.source=n}},sr=class extends ei{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},cr=class extends ei{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Ui=class extends ei{status;source;constructor(e,n){super(),this.status=e,this.source=n}};var w1=class extends ei{source;constructor(e){super(),this.source=e}};function E4(t){return(Ps(t)?t.validators:t)||null}function T4(t){return Array.isArray(t)?jp(t):t||null}function A4(t,e){return(Ps(e)?e.asyncValidators:t)||null}function P4(t){return Array.isArray(t)?Bp(t):t||null}function Ps(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var b1=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ht(this.statusReactive)}set status(e){Ht(()=>this.statusReactive.set(e))}_status=Ba(()=>this.statusReactive());statusReactive=ot(void 0);get valid(){return this.status===rr}get invalid(){return this.status===Ls}get pending(){return this.status==Wi}get disabled(){return this.status===or}get enabled(){return this.status!==or}errors;get pristine(){return Ht(this.pristineReactive)}set pristine(e){Ht(()=>this.pristineReactive.set(e))}_pristine=Ba(()=>this.pristineReactive());pristineReactive=ot(!0);get dirty(){return!this.pristine}get touched(){return Ht(this.touchedReactive)}set touched(e){Ht(()=>this.touchedReactive.set(e))}_touched=Ba(()=>this.touchedReactive());touchedReactive=ot(!1);get untouched(){return!this.touched}_events=new we;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Sp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Sp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_p(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_p(e,this._rawAsyncValidators))}hasValidator(e){return Es(this._rawValidators,e)}hasAsyncValidator(e){return Es(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ae(H({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new cr(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new cr(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ae(H({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new sr(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(a=>{a.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new sr(!0,i))}markAsPending(e={}){this.status=Wi;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ui(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ae(H({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=or,this.errors=null,this._forEachChild(a=>{a.disable(ae(H({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new As(this.value,i)),this._events.next(new Ui(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(H({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(a=>a(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=rr,this._forEachChild(i=>{i.enable(ae(H({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(H({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rr||this.status===Wi)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new As(this.value,n)),this._events.next(new Ui(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ae(H({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?or:rr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Wi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let i=Np(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(a=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(a,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,a)=>i&&i._find(a),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Ui(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new W,this.statusChanges=new W}_calculateStatus(){return this._allControlsDisabled()?or:this.errors?Ls:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wi)?Wi:this._anyControlsHaveStatus(Ls)?Ls:rr}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),a=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),a&&this._events.next(new sr(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new cr(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ps(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=T4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=P4(this._rawAsyncValidators)}};var zp=new V("",{providedIn:"root",factory:()=>I1}),I1="always";function R4(t,e){return[...e.path,t]}function F4(t,e,n=I1){O4(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),V4(t,e),j4(t,e),H4(t,e),N4(t,e)}function Lp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function N4(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function O4(t,e){let n=S4(t);e.validator!==null?t.setValidators(Dp(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=_4(t);e.asyncValidator!==null?t.setAsyncValidators(Dp(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let a=()=>t.updateValueAndValidity();Lp(e._rawValidators,a),Lp(e._rawAsyncValidators,a)}function V4(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&qp(t,e)})}function H4(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&qp(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function qp(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function j4(t,e){let n=(i,a)=>{e.valueAccessor.writeValue(i),a&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function B4(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function z4(t){return Object.getPrototypeOf(t.constructor)===k4}function q4(t,e){if(!e)return null;Array.isArray(e);let n,i,a;return e.forEach(r=>{r.constructor===fn?n=r:z4(r)?i=r:a=r}),a||i||n||null}function Ep(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Tp(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var W4=class extends b1{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,i){super(E4(n),A4(i,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ps(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Tp(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new w1(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ep(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ep(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Tp(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var U4={provide:lr,useExisting:_n(()=>ti)},Ap=Promise.resolve(),ti=(()=>{class t extends lr{_changeDetectorRef;callSetDisabledState;control=new W4;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new W;constructor(n,i,a,r,o,s){super(),this._changeDetectorRef=o,this.callSetDisabledState=s,this._parent=n,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=q4(this,r)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),B4(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){F4(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Ap.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,a=i!==0&&A2(i);Ap.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?R4(n,this._parent):[n]}static \u0275fac=function(i){return new(i||t)(A(C1,9),A(x4,10),A(w4,10),A(Rp,10),A(Zn,8),A(zp,8))};static \u0275dir=tt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[is([U4]),Un,wt]})}return t})();var G4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=et({type:t});static \u0275inj=qe({})}return t})();var $i=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:zp,useValue:n.callSetDisabledState??I1}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=et({type:t});static \u0275inj=qe({imports:[G4]})}return t})();function $4(t,e){if(t&1&&(p(0,"span",13),L(1,"lucide-icon",14),y(2),k(3,"translate"),h()),t&2){let n=C();d(),x("img",n.Check)("strokeWidth",4),d(),g(" ",v(3,3,"calendar.completed")," ")}}function K4(t,e){if(t&1&&(p(0,"div",17)(1,"p",18),y(2),k(3,"translate"),h()()),t&2){let n=C(2);d(2),g("\u{1F4A1} ",v(3,1,n.config.hintKey))}}function Z4(t,e){if(t&1){let n=T();p(0,"div",15)(1,"button",16),w("click",function(){S(n);let a=C();return _(a.toggleHint())}),y(2),k(3,"translate"),h()(),b(4,K4,4,3,"div",17)}if(t&2){let n=C();d(2),g(" ",v(3,2,n.showHint?"challenges.riddle.hideHint":"challenges.riddle.showHint")," "),d(2),I(n.showHint?4:-1)}}function X4(t,e){t&1&&(p(0,"div",9)(1,"p",19),y(2),k(3,"translate"),h()()),t&2&&(d(2),g(" \u274C ",v(3,1,"challenges.riddle.incorrect")," "))}function Y4(t,e){if(t&1){let n=T();p(0,"button",20),w("click",function(){S(n);let a=C();return _(a.onSubmit())}),y(1),k(2,"translate"),h()}if(t&2){let n=C();x("disabled",!n.userAnswer.trim()),d(),g(" ",v(2,2,"challenges.riddle.submit")," ")}}function Q4(t,e){if(t&1){let n=T();p(0,"button",21),w("click",function(){S(n);let a=C();return _(a.reset())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" ",v(2,1,"ui.playAgain")," "))}var Rs=class t{config;isCompleted=!1;completed=new W;userAnswer="";showError=!1;showHint=!1;Check=ue;ngOnInit(){this.isCompleted&&(this.userAnswer=Array.isArray(this.config.answerKey)?this.config.answerKey[0]:this.config.answerKey)}onSubmit(){let e=this.userAnswer.trim().toLowerCase();(Array.isArray(this.config.answerKey)?this.config.answerKey.map(i=>i.toLowerCase()):[this.config.answerKey.toLowerCase()]).includes(e)?this.completed.emit():(this.showError=!0,setTimeout(()=>{this.showError=!1},2e3))}toggleHint(){this.showHint=!this.showHint}onKeyPress(e){e.key==="Enter"&&this.onSubmit()}reset(){this.userAnswer="",this.showError=!1,this.showHint=!1}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Z({type:t,selectors:[["app-riddle-challenge"]],inputs:{config:"config",isCompleted:"isCompleted"},outputs:{completed:"completed"},decls:21,vars:18,consts:[[1,"riddle-container"],[1,"flex","items-center","justify-center","gap-3","mb-6"],[1,"text-xl","sm:text-2xl","font-bold","text-gold","text-center"],["class","bg-accent-green text-white text-xs px-2 py-1 rounded-full font-bold animate-in fade-in zoom-in flex items-center gap-1",4,"ngIf"],[1,"bg-bg","rounded-lg","p-6","mb-6"],[1,"text-lg","sm:text-xl","text-text","leading-relaxed","text-center","italic"],[1,"mb-6","max-w-96","mx-auto"],["for","riddle-answer",1,"block","text-sm","font-medium","text-text-muted","mb-2"],["id","riddle-answer","type","text",1,"input",3,"ngModelChange","keypress","ngModel","placeholder","disabled"],[1,"mb-4","p-3","bg-accent-red","bg-opacity-20","border","border-accent-red","rounded-lg"],[1,"text-center","flex","flex-col","sm:flex-row","gap-3","justify-center"],[1,"btn","btn-primary","w-full","sm:w-auto","px-8",3,"disabled"],[1,"btn","btn-outline","w-full","sm:w-auto","px-8"],[1,"bg-accent-green","text-white","text-xs","px-2","py-1","rounded-full","font-bold","animate-in","fade-in","zoom-in","flex","items-center","gap-1"],[1,"w-3","h-3",3,"img","strokeWidth"],[1,"mb-4","text-center"],[1,"btn","btn-outline","text-sm",3,"click"],[1,"bg-accent-green","bg-opacity-10","border","border-accent-green","rounded-lg","p-4","mb-6"],[1,"text-sm","sm:text-base","text-text","text-center"],[1,"text-text","text-center","text-sm","sm:text-base"],[1,"btn","btn-primary","w-full","sm:w-auto","px-8",3,"click","disabled"],[1,"btn","btn-outline","w-full","sm:w-auto","px-8",3,"click"]],template:function(n,i){n&1&&(p(0,"div",0)(1,"div",1)(2,"h3",2),y(3),k(4,"translate"),h(),K(5,$4,4,5,"span",3),h(),p(6,"div",4)(7,"p",5),y(8),k(9,"translate"),h()(),b(10,Z4,5,4),p(11,"div",6)(12,"label",7),y(13),k(14,"translate"),h(),p(15,"input",8),k(16,"translate"),ln("ngModelChange",function(r){return Kn(i.userAnswer,r)||(i.userAnswer=r),r}),w("keypress",function(r){return i.onKeyPress(r)}),h()(),b(17,X4,4,3,"div",9),p(18,"div",10),b(19,Y4,3,4,"button",11)(20,Q4,3,3,"button",12),h()()),n&2&&(d(3),g(" \u{1F9D0} ",v(4,10,"challenges.riddle.title")," \u{1F9D0} "),d(2),x("ngIf",i.isCompleted),d(3),g(" ",v(9,12,i.config.riddleKey)," "),d(2),I(i.config.hintKey?10:-1),d(3),g(" ",v(14,14,"challenges.riddle.instruction")," "),d(2),cn("ngModel",i.userAnswer),x("placeholder",v(16,16,"challenges.riddle.placeholder"))("disabled",!1),d(2),I(i.showError?17:-1),d(2),I(i.isCompleted?20:19))},dependencies:[X,me,$i,fn,Gi,ti,J,se,oe,Q],styles:["[_nghost-%COMP%]{display:block}"]})};function J4(t,e){if(t&1&&(p(0,"span",23),L(1,"lucide-icon",24),y(2),k(3,"translate"),h()),t&2){let n=C();d(),x("img",n.Check)("strokeWidth",4),d(),g(" ",v(3,3,"calendar.completed")," ")}}function e5(t,e){if(t&1&&(p(0,"div",10),y(1),h()),t&2){let n=e.$implicit;d(),g(" ",n," ")}}function t5(t,e){if(t&1){let n=T();p(0,"button",12),w("click",function(){S(n);let a=C();return _(a.toggleHint())}),L(1,"lucide-icon",13),y(2),k(3,"translate"),h()}if(t&2){let n=C();d(),x("img",n.showHint?n.LightbulbOffIcon:n.LightbulbIcon),d(),g(" ",v(3,2,n.showHint?"challenges.wordScramble.hideHint":"challenges.wordScramble.showHint")," ")}}function n5(t,e){if(t&1&&(p(0,"div",15)(1,"p",25),y(2),k(3,"translate"),h()()),t&2){let n=C();d(2),g("\u{1F4A1} ",v(3,1,n.config.hintKey))}}function i5(t,e){t&1&&(p(0,"div",19)(1,"p",26),y(2),k(3,"translate"),h()()),t&2&&(d(2),g(" \u274C ",v(3,1,"challenges.wordScramble.incorrect")," "))}function a5(t,e){if(t&1){let n=T();p(0,"button",27),w("click",function(){S(n);let a=C();return _(a.onSubmit())}),y(1),k(2,"translate"),h()}if(t&2){let n=C();x("disabled",!n.userAnswer.trim()),d(),g(" ",v(2,2,"challenges.wordScramble.submit")," ")}}function r5(t,e){if(t&1){let n=T();p(0,"button",28),w("click",function(){S(n);let a=C();return _(a.reset())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" ",v(2,1,"ui.playAgain")," "))}var Fs=class t{constructor(e){this.translate=e}config;isCompleted=!1;completed=new W;ShuffleIcon=xp;LightbulbIcon=Is;LightbulbOffIcon=bs;Check=ue;scrambledWord="";userAnswer="";showError=!1;showHint=!1;currentWord="";ngOnInit(){let e=this.translate.currentLang||this.translate.defaultLang;this.currentWord=e==="sv"&&this.config.wordSv?this.config.wordSv:this.config.word,this.scrambledWord=this.scrambleWord(this.currentWord),this.isCompleted&&(this.userAnswer=this.currentWord)}scrambleWord(e){let n=e.split("");for(let a=n.length-1;a>0;a--){let r=Math.floor(Math.random()*(a+1));[n[a],n[r]]=[n[r],n[a]]}let i=n.join("");return i.toLowerCase()===e.toLowerCase()?this.scrambleWord(e):i}onSubmit(){let e=this.userAnswer.trim().toLowerCase().normalize("NFC"),n=this.currentWord.toLowerCase().normalize("NFC");e===n?this.completed.emit():(this.showError=!0,setTimeout(()=>{this.showError=!1},2e3))}toggleHint(){this.showHint=!this.showHint}reshuffleWord(){this.scrambledWord=this.scrambleWord(this.currentWord)}onKeyPress(e){e.key==="Enter"&&this.onSubmit()}reset(){this.userAnswer="",this.showError=!1,this.showHint=!1,this.reshuffleWord()}static \u0275fac=function(n){return new(n||t)(A(dt))};static \u0275cmp=Z({type:t,selectors:[["app-word-scramble-challenge"]],inputs:{config:"config",isCompleted:"isCompleted"},outputs:{completed:"completed"},decls:37,vars:28,consts:[[1,"word-scramble-container"],[1,"flex","items-center","justify-center","gap-3","mb-3","sm:mb-4"],[1,"text-xl","sm:text-2xl","font-bold","text-gold","text-center"],["class","bg-accent-green text-white text-xs px-2 py-1 rounded-full font-bold animate-in fade-in zoom-in flex items-center gap-1",4,"ngIf"],[1,"text-center","text-text-muted","mb-3","sm:mb-4"],[1,"bg-bg","rounded-lg","p-3","sm:p-4","mb-3","sm:mb-4"],[1,"text-sm","text-text-muted","mb-1","text-center"],[1,"text-lg","sm:text-xl","text-text","text-center","italic"],[1,"bg-surface","border-2","border-gold","rounded-lg","p-4","sm:p-6","mb-3","sm:mb-4"],[1,"flex","items-center","justify-center","gap-1.5","sm:gap-2","flex-wrap"],[1,"w-10","h-10","sm:w-14","sm:h-14","flex","items-center","justify-center","bg-bg","border-2","border-gray-600","rounded-lg","text-xl","sm:text-3xl","font-bold","text-gold","uppercase"],[1,"mb-3","sm:mb-4","flex","items-center","justify-center","gap-3","flex-wrap"],[1,"btn","btn-outline","text-sm","flex","items-center",3,"click"],[1,"w-4","h-4","mr-2",3,"img"],[1,"btn","btn-outline","text-sm","flex","items-center"],[1,"bg-accent-green","bg-opacity-10","border","border-accent-green","rounded-lg","p-3","sm:p-4","mb-3","sm:mb-4"],[1,"mb-3","sm:mb-4","max-w-96","mx-auto"],["for","scramble-answer",1,"block","text-sm","font-medium","text-text-muted","mb-2"],["id","scramble-answer","type","text","autocomplete","off",1,"input",3,"ngModelChange","keypress","ngModel","placeholder"],[1,"mb-4","p-3","bg-accent-red","bg-opacity-20","border","border-accent-red","rounded-lg"],[1,"text-center","flex","flex-col","sm:flex-row","gap-3","justify-center"],[1,"btn","btn-primary","w-full","sm:w-auto","px-8",3,"disabled"],[1,"btn","btn-outline","w-full","sm:w-auto","px-8"],[1,"bg-accent-green","text-white","text-xs","px-2","py-1","rounded-full","font-bold","animate-in","fade-in","zoom-in","flex","items-center","gap-1"],[1,"w-3","h-3",3,"img","strokeWidth"],[1,"text-sm","sm:text-base","text-text","text-center"],[1,"text-text","text-center","text-sm","sm:text-base"],[1,"btn","btn-primary","w-full","sm:w-auto","px-8",3,"click","disabled"],[1,"btn","btn-outline","w-full","sm:w-auto","px-8",3,"click"]],template:function(n,i){n&1&&(p(0,"div",0)(1,"div",1)(2,"h3",2),y(3),k(4,"translate"),h(),K(5,J4,4,5,"span",3),h(),p(6,"p",4),y(7),k(8,"translate"),h(),p(9,"div",5)(10,"p",6),y(11),k(12,"translate"),h(),p(13,"p",7),y(14),k(15,"translate"),h()(),p(16,"div",8)(17,"div",9),be(18,e5,2,1,"div",10,bt),h()(),p(20,"div",11)(21,"button",12),w("click",function(){return i.reshuffleWord()}),L(22,"lucide-icon",13),y(23),k(24,"translate"),h(),b(25,t5,4,4,"button",14),h(),b(26,n5,4,3,"div",15),p(27,"div",16)(28,"label",17),y(29),k(30,"translate"),h(),p(31,"input",18),k(32,"translate"),ln("ngModelChange",function(r){return Kn(i.userAnswer,r)||(i.userAnswer=r),r}),w("keypress",function(r){return i.onKeyPress(r)}),h()(),b(33,i5,4,3,"div",19),p(34,"div",20),b(35,a5,3,4,"button",21)(36,r5,3,3,"button",22),h()()),n&2&&(d(3),g(" \u2B50 ",v(4,14,"challenges.wordScramble.title")," \u2B50 "),d(2),x("ngIf",i.isCompleted),d(2),g(" ",v(8,16,"challenges.wordScramble.instruction")," "),d(4),g(" ",v(12,18,"challenges.wordScramble.clue")," "),d(3),g(" ",v(15,20,i.config.clueKey)," "),d(4),Ie(i.scrambledWord.split("")),d(4),x("img",i.ShuffleIcon),d(),g(" ",v(24,22,"challenges.wordScramble.reshuffle")," "),d(2),I(i.config.hintKey?25:-1),d(),I(i.showHint&&i.config.hintKey?26:-1),d(3),g(" ",v(30,24,"challenges.wordScramble.answerLabel")," "),d(2),cn("ngModel",i.userAnswer),x("placeholder",v(32,26,"challenges.wordScramble.placeholder")),d(2),I(i.showError?33:-1),d(2),I(i.isCompleted?36:35))},dependencies:[X,me,$i,fn,Gi,ti,J,se,oe,Q],styles:["[_nghost-%COMP%]{display:block}"]})};var ke=class t{STORAGE_KEY="jambiz-advent-completed-days";STATS_STORAGE_KEY="jambiz-advent-game-stats";completedDays=new Set;gameStats=new Map;constructor(){this.loadFromStorage(),this.loadStatsFromStorage()}getCompletedDays(){return Array.from(this.completedDays).sort((e,n)=>e-n)}isDayCompleted(e){return this.completedDays.has(e)}markDayComplete(e){this.completedDays.add(e),this.saveToStorage()}markAllDaysComplete(){for(let e=1;e<=24;e++)this.completedDays.add(e);this.saveToStorage()}clearAllProgress(){this.completedDays.clear(),this.gameStats.clear(),this.saveToStorage(),this.saveStatsToStorage()}saveGameStats(e,n){this.gameStats.set(String(e),n),this.saveStatsToStorage()}getGameStats(e){return this.gameStats.get(String(e))||null}loadStatsFromStorage(){try{let e=localStorage.getItem(this.STATS_STORAGE_KEY);if(e){let n=JSON.parse(e);n&&typeof n=="object"&&(this.gameStats=new Map(Object.entries(n)))}}catch(e){console.error("Failed to load game stats from storage",e),this.gameStats=new Map}}saveStatsToStorage(){try{let e=Object.fromEntries(this.gameStats);localStorage.setItem(this.STATS_STORAGE_KEY,JSON.stringify(e))}catch(e){console.error("Failed to save game stats to storage",e)}}loadFromStorage(){try{let e=localStorage.getItem(this.STORAGE_KEY);if(e){let n=JSON.parse(e);this.completedDays=new Set(n)}}catch(e){console.error("Failed to load completed days from storage",e),this.completedDays=new Set}}saveToStorage(){try{let e=this.getCompletedDays();localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch(e){console.error("Failed to save completed days to storage",e)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var o5=(t,e)=>({count:t,max:e});function s5(t,e){if(t&1&&(p(0,"span",31),L(1,"lucide-icon",32),y(2),k(3,"translate"),h()),t&2){let n=C();d(),x("img",n.Check)("strokeWidth",4),d(),g(" ",v(3,3,"calendar.completed")," ")}}function c5(t,e){if(t&1&&(p(0,"div",35)(1,"p",36),y(2),k(3,"translate"),h()()),t&2){let n=C(2);d(2),g("\u{1F4A1} ",v(3,1,n.config.hintKey))}}function l5(t,e){if(t&1){let n=T();p(0,"div",7)(1,"button",33),w("click",function(){S(n);let a=C();return _(a.toggleHint())}),L(2,"lucide-icon",34),y(3),k(4,"translate"),h(),b(5,c5,4,3,"div",35),h()}if(t&2){let n=C();d(2),x("img",n.showHint?n.LightbulbOffIcon:n.LightbulbIcon),d(),g(" ",v(4,3,n.showHint?"ui.hideHint":"ui.showHint")," "),d(2),I(n.showHint?5:-1)}}function d5(t,e){t&1&&(vt(),L(0,"circle",15))}function u5(t,e){t&1&&(vt(),L(0,"line",16))}function h5(t,e){t&1&&(vt(),L(0,"line",17))}function p5(t,e){t&1&&(vt(),L(0,"line",18))}function f5(t,e){t&1&&(vt(),L(0,"line",19))}function y5(t,e){t&1&&(vt(),L(0,"line",20))}function m5(t,e){t&1&&L(0,"div",37)}function g5(t,e){if(t&1&&(p(0,"div",38),y(1),h()),t&2){let n=C().$implicit;d(),g(" ",n," ")}}function k5(t,e){if(t&1&&b(0,m5,1,0,"div",37)(1,g5,2,1,"div",38),t&2){let n=e.$implicit;I(n===" "?0:1)}}function v5(t,e){t&1&&(p(0,"div",25)(1,"p",39),y(2),k(3,"translate"),h()()),t&2&&(d(2),g(" \u{1F389}\u{1F384} ",v(3,1,"challenges.hangman.youWin")," \u{1F384}\u{1F389} "))}function M5(t,e){if(t&1&&(p(0,"div",26)(1,"p",39),y(2),k(3,"translate"),h(),p(4,"p",40),y(5),k(6,"translate"),p(7,"span",41),y(8),h()()()),t&2){let n=C();d(2),g(" \u274C ",v(3,3,"challenges.hangman.youLose")," "),d(3),g(" ",v(6,5,"challenges.hangman.theWordWas"),": "),d(3),de(n.currentWord)}}function C5(t,e){if(t&1){let n=T();p(0,"button",43),w("click",function(){let a=S(n).$implicit,r=C(2);return _(r.guessLetter(a))}),y(1),h()}if(t&2){let n=e.$implicit,i=C(2);le("btn-outline",!i.isLetterGuessed(n))("bg-accent-green",i.isLetterCorrect(n))("text-white",i.isLetterCorrect(n))("border-accent-green",i.isLetterCorrect(n))("bg-accent-red",i.isLetterWrong(n))("border-accent-red",i.isLetterWrong(n))("opacity-50",i.isLetterGuessed(n)),x("disabled",i.isLetterGuessed(n)),d(),g(" ",n," ")}}function x5(t,e){if(t&1&&(p(0,"div",27),be(1,C5,2,16,"button",42,Fa),h()),t&2){let n=C();d(),Ie(n.alphabet)}}function w5(t,e){if(t&1){let n=T();p(0,"button",44),w("click",function(){S(n);let a=C();return _(a.reset())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" ",v(2,1,"challenges.hangman.tryAgain")," "))}function b5(t,e){if(t&1){let n=T();p(0,"button",45),w("click",function(){S(n);let a=C();return _(a.reset())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" ",v(2,1,"ui.playAgain")," "))}var Ns=class t{constructor(e,n){this.translate=e;this.calendarState=n}config;isCompleted=!1;day;completed=new W;currentWord="";guessedLetters=new Set;wrongGuesses=0;maxWrongGuesses=6;alphabet=[];showHint=!1;completedWrongGuesses=0;LightbulbIcon=Is;LightbulbOffIcon=bs;Check=ue;ngOnInit(){let e=this.translate.currentLang||this.translate.defaultLang;if(this.currentWord=e==="sv"&&this.config.wordSv?this.config.wordSv:this.config.word,e==="sv"?this.alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZ\xC5\xC4\xD6".split(""):this.alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),this.isCompleted&&(this.currentWord.split("").forEach(n=>{n!==" "&&this.guessedLetters.add(n.toUpperCase())}),this.day!==void 0)){let n=this.calendarState.getGameStats(this.day);console.log("Loading hangman stats for day",this.day,":",n),n&&n.wrongGuesses!==void 0&&(this.completedWrongGuesses=n.wrongGuesses)}}get displayWord(){return this.currentWord.split("").map(e=>e===" "?" ":this.guessedLetters.has(e.toUpperCase())?e:"_").join("")}get displayWrongGuesses(){return this.isCompleted&&this.wrongGuesses===0&&this.completedWrongGuesses>0?this.completedWrongGuesses:this.wrongGuesses}get isWon(){return this.currentWord.split("").every(e=>e===" "||this.guessedLetters.has(e.toUpperCase()))}get isLost(){return this.wrongGuesses>=this.maxWrongGuesses}get isGameOver(){return this.isWon||this.isLost}guessLetter(e){if(this.isGameOver||this.guessedLetters.has(e))return;this.guessedLetters.add(e),this.currentWord.toUpperCase().includes(e)||this.wrongGuesses++,this.isWon&&(this.day!==void 0&&(this.completedWrongGuesses=this.wrongGuesses,this.calendarState.saveGameStats(this.day,{wrongGuesses:this.wrongGuesses})),setTimeout(()=>{this.completed.emit()},500))}isLetterGuessed(e){return this.guessedLetters.has(e)}isLetterCorrect(e){return this.guessedLetters.has(e)&&this.currentWord.toUpperCase().includes(e)}isLetterWrong(e){return this.guessedLetters.has(e)&&!this.currentWord.toUpperCase().includes(e)}reset(){this.guessedLetters.clear(),this.wrongGuesses=0,this.showHint=!1}toggleHint(){this.showHint=!this.showHint}showAnswer(){this.completed.emit()}static \u0275fac=function(n){return new(n||t)(A(dt),A(ke))};static \u0275cmp=Z({type:t,selectors:[["app-hangman-challenge"]],inputs:{config:"config",isCompleted:"isCompleted",day:"day"},outputs:{completed:"completed"},decls:41,vars:28,consts:[[1,"hangman-container"],[1,"flex","items-center","justify-center","gap-3","mb-3","sm:mb-4"],[1,"text-xl","sm:text-2xl","font-bold","text-gold","text-center"],["class","bg-accent-green text-white text-xs px-2 py-1 rounded-full font-bold animate-in fade-in zoom-in flex items-center gap-1",4,"ngIf"],[1,"bg-bg","rounded-lg","p-3","sm:p-4","mb-3","sm:mb-4"],[1,"text-sm","text-text-muted","mb-1","text-center"],[1,"text-lg","sm:text-xl","text-text","text-center","italic"],[1,"mb-3","sm:mb-4","flex","flex-col","items-center","gap-2"],[1,"flex","justify-center","mb-3","sm:mb-4"],[1,"relative","w-32","h-32","sm:w-56","sm:h-56"],["viewBox","0 0 200 200",1,"w-full","h-full"],["x1","10","y1","190","x2","100","y2","190","stroke","currentColor","stroke-width","4",1,"text-text-muted"],["x1","50","y1","190","x2","50","y2","20","stroke","currentColor","stroke-width","4",1,"text-text-muted"],["x1","50","y1","20","x2","130","y2","20","stroke","currentColor","stroke-width","4",1,"text-text-muted"],["x1","130","y1","20","x2","130","y2","40","stroke","currentColor","stroke-width","3",1,"text-text-muted"],["cx","130","cy","55","r","15","stroke","currentColor","stroke-width","3","fill","none",1,"text-accent-red"],["x1","130","y1","70","x2","130","y2","120","stroke","currentColor","stroke-width","3",1,"text-accent-red"],["x1","130","y1","85","x2","110","y2","105","stroke","currentColor","stroke-width","3",1,"text-accent-red"],["x1","130","y1","85","x2","150","y2","105","stroke","currentColor","stroke-width","3",1,"text-accent-red"],["x1","130","y1","120","x2","110","y2","150","stroke","currentColor","stroke-width","3",1,"text-accent-red"],["x1","130","y1","120","x2","150","y2","150","stroke","currentColor","stroke-width","3",1,"text-accent-red"],[1,"text-center","mb-3","sm:mb-4"],[1,"text-text-muted","text-sm","sm:text-base"],[1,"bg-surface","border-2","border-gold","rounded-lg","p-4","sm:p-6","mb-3","sm:mb-4"],[1,"flex","items-center","justify-center","gap-2","flex-wrap"],[1,"mb-3","sm:mb-4","p-3","sm:p-4","bg-accent-green","bg-opacity-20","border","border-accent-green","rounded-lg"],[1,"mb-3","sm:mb-4","p-3","sm:p-4","bg-accent-red","bg-opacity-20","border","border-accent-red","rounded-lg"],[1,"grid","grid-cols-7","gap-1.5","sm:gap-2","mb-3","sm:mb-4"],[1,"text-center","flex","flex-col","sm:flex-row","gap-3","justify-center"],[1,"btn","btn-secondary","w-full","sm:w-auto","px-8"],[1,"btn","btn-outline","w-full","sm:w-auto","px-8"],[1,"bg-accent-green","text-white","text-xs","px-2","py-1","rounded-full","font-bold","animate-in","fade-in","zoom-in","flex","items-center","gap-1"],[1,"w-3","h-3",3,"img","strokeWidth"],[1,"btn","btn-outline","flex","items-center","gap-2","text-xs","sm:text-sm","px-3","py-1.5",3,"click"],[1,"w-4","h-4",3,"img"],[1,"bg-accent-green","bg-opacity-20","border","border-accent-green","rounded-lg","p-3","w-full"],[1,"text-text","text-center","text-sm"],[1,"w-4"],[1,"w-10","h-12","sm:w-12","sm:h-14","flex","items-center","justify-center","border-b-4","border-gold","text-2xl","sm:text-3xl","font-bold","text-text","uppercase"],[1,"text-text","text-center","text-lg","font-semibold"],[1,"text-text-muted","text-center","text-sm","mt-2"],[1,"text-gold","font-bold"],[1,"btn","p-1.5","sm:p-3","text-xs","sm:text-base","font-bold","transition-all",3,"btn-outline","bg-accent-green","text-white","border-accent-green","bg-accent-red","border-accent-red","opacity-50","disabled"],[1,"btn","p-1.5","sm:p-3","text-xs","sm:text-base","font-bold","transition-all",3,"click","disabled"],[1,"btn","btn-secondary","w-full","sm:w-auto","px-8",3,"click"],[1,"btn","btn-outline","w-full","sm:w-auto","px-8",3,"click"]],template:function(n,i){n&1&&(p(0,"div",0)(1,"div",1)(2,"h3",2),y(3),k(4,"translate"),h(),K(5,s5,4,5,"span",3),h(),p(6,"div",4)(7,"p",5),y(8),k(9,"translate"),h(),p(10,"p",6),y(11),k(12,"translate"),h()(),b(13,l5,6,5,"div",7),p(14,"div",8)(15,"div",9),vt(),p(16,"svg",10),L(17,"line",11)(18,"line",12)(19,"line",13)(20,"line",14),b(21,d5,1,0,":svg:circle",15),b(22,u5,1,0,":svg:line",16),b(23,h5,1,0,":svg:line",17),b(24,p5,1,0,":svg:line",18),b(25,f5,1,0,":svg:line",19),b(26,y5,1,0,":svg:line",20),h()()(),ko(),p(27,"div",21)(28,"p",22),y(29),k(30,"translate"),h()(),p(31,"div",23)(32,"div",24),be(33,k5,2,1,null,null,bt),h()(),b(35,v5,4,3,"div",25)(36,M5,9,7,"div",26),b(37,x5,3,0,"div",27),p(38,"div",28),b(39,w5,3,3,"button",29),b(40,b5,3,3,"button",30),h()()),n&2&&(d(3),g(" \u{1F385} ",v(4,16,"challenges.hangman.title")," \u{1F385} "),d(2),x("ngIf",i.isCompleted),d(3),g(" ",v(9,18,"challenges.hangman.clue")," "),d(3),g(" ",v(12,20,i.config.clueKey)," "),d(2),I(i.config.hintKey&&!i.isGameOver?13:-1),d(8),I(i.displayWrongGuesses>=1?21:-1),d(),I(i.displayWrongGuesses>=2?22:-1),d(),I(i.displayWrongGuesses>=3?23:-1),d(),I(i.displayWrongGuesses>=4?24:-1),d(),I(i.displayWrongGuesses>=5?25:-1),d(),I(i.displayWrongGuesses>=6?26:-1),d(3),g(" ",fe(30,22,"challenges.hangman.wrongGuesses",Ha(25,o5,i.displayWrongGuesses,i.maxWrongGuesses))," "),d(4),Ie(i.displayWord.split("")),d(2),I(i.isWon?35:i.isLost?36:-1),d(2),I(i.isGameOver?-1:37),d(2),I(i.isLost?39:-1),d(),I(i.isCompleted?40:-1))},dependencies:[X,me,J,se,oe,Q],styles:["[_nghost-%COMP%]{display:block}"]})};var I5=(t,e)=>({found:t,total:e});function D5(t,e){if(t&1&&(p(0,"span",17),L(1,"lucide-icon",18),y(2),k(3,"translate"),h()),t&2){let n=C();d(),x("img",n.Check)("strokeWidth",4),d(),g(" ",v(3,3,"calendar.completed")," ")}}function S5(t,e){if(t&1&&(p(0,"span",19),y(1),h()),t&2){let n=e.$implicit,i=C();le("bg-accent-green",i.isWordFound(n))("text-white",i.isWordFound(n))("line-through",i.isWordFound(n))("bg-surface",!i.isWordFound(n))("text-text",!i.isWordFound(n)),d(),g(" ",n," ")}}function _5(t,e){if(t&1){let n=T();p(0,"button",21,0),w("mousedown",function(){let a=S(n).$index,r=C().$index,o=C();return _(o.onMouseDown(r,a))})("mouseenter",function(){let a=S(n).$index,r=C().$index,o=C();return _(o.onMouseEnter(r,a))})("touchstart",function(a){let r=S(n).$index,o=C().$index,s=C();return _(s.onTouchStart(a,o,r))})("touchmove",function(a){S(n);let r=C(2);return _(r.onTouchMove(a))}),y(2),h()}if(t&2){let n=e.$implicit,i=e.$index,a=C().$index,r=C();le("bg-accent-green",r.isCellInFoundWord(a,i))("text-white",r.isCellInFoundWord(a,i))("bg-gold",r.isCellSelected(a,i)&&!r.isCellInFoundWord(a,i))("text-bg",r.isCellSelected(a,i)&&!r.isCellInFoundWord(a,i))("bg-surface",!r.isCellInFoundWord(a,i)&&!r.isCellSelected(a,i))("text-text",!r.isCellInFoundWord(a,i)&&!r.isCellSelected(a,i))("cursor-pointer",!r.isCompleted)("cursor-default",r.isCompleted),ct("data-row",a)("data-col",i),d(2),g(" ",n," ")}}function L5(t,e){if(t&1&&(p(0,"div",14),be(1,_5,3,19,"button",20,bt),h()),t&2){let n=e.$implicit;d(),Ie(n)}}function E5(t,e){t&1&&(p(0,"div",15)(1,"p",22),y(2),k(3,"translate"),h()()),t&2&&(d(2),g(" \u{1F389}\u{1F384} ",v(3,1,"challenges.wordSearch.allFound")," \u{1F384}\u{1F389} "))}function T5(t,e){if(t&1){let n=T();p(0,"div",16)(1,"button",23),w("click",function(){S(n);let a=C();return _(a.reset())}),y(2),k(3,"translate"),h()()}t&2&&(d(2),g(" ",v(3,1,"ui.playAgain")," "))}var Os=class t{constructor(e){this.translate=e}config;isCompleted=!1;completed=new W;Check=ue;currentGrid=[];currentWords=[];foundWords=[];selectedCells=[];isSelecting=!1;touchStartCell=null;ngOnInit(){let e=this.translate.currentLang||this.translate.defaultLang;this.currentGrid=e==="sv"&&this.config.gridSv?this.config.gridSv:this.config.grid,this.currentWords=e==="sv"&&this.config.wordsSv?this.config.wordsSv:this.config.words,this.isCompleted&&this.currentWords.forEach(n=>{let i=this.findWordInGrid(n);i&&this.foundWords.push(i)})}get allWordsFound(){return this.foundWords.length===this.currentWords.length}isWordFound(e){return this.foundWords.some(n=>n.word.toUpperCase()===e.toUpperCase())}isCellSelected(e,n){return this.selectedCells.some(i=>i.row===e&&i.col===n)}isCellInFoundWord(e,n){return this.foundWords.some(i=>i.cells.some(a=>a.row===e&&a.col===n))}onMouseDown(e,n){this.isCompleted||(this.isSelecting=!0,this.selectedCells=[{row:e,col:n}])}onMouseEnter(e,n){if(!(!this.isSelecting||this.isCompleted)){if(this.selectedCells.length===1)this.selectedCells.push({row:e,col:n});else if(this.selectedCells.length>1){let i=this.selectedCells[0],a=this.getDirection(i,{row:e,col:n});a&&(this.selectedCells=this.getCellsInDirection(i,{row:e,col:n},a))}}}onMouseUp(){this.isSelecting&&(this.isSelecting=!1,this.selectedCells.length>1&&this.checkSelection(),this.selectedCells=[])}onTouchStart(e,n,i){this.isCompleted||(e.preventDefault(),this.isSelecting=!0,this.touchStartCell={row:n,col:i},this.selectedCells=[{row:n,col:i}])}onTouchMove(e){if(!this.isSelecting||this.isCompleted)return;e.preventDefault();let n=e.touches[0],i=document.elementFromPoint(n.clientX,n.clientY);if(i&&i.tagName==="BUTTON"&&i.hasAttribute("data-row")){let a=parseInt(i.getAttribute("data-row")||"",10),r=parseInt(i.getAttribute("data-col")||"",10);if(!isNaN(a)&&!isNaN(r)){let o=this.selectedCells[this.selectedCells.length-1];(!o||o.row!==a||o.col!==r)&&this.onMouseEnter(a,r)}}}onTouchEnd(e){this.isSelecting&&(e.preventDefault(),this.isSelecting=!1,this.selectedCells.length>1&&this.checkSelection(),this.selectedCells=[],this.touchStartCell=null)}getDirection(e,n){let i=n.row-e.row,a=n.col-e.col;return i===0&&a!==0?"horizontal":i!==0&&a===0?"vertical":Math.abs(i)===Math.abs(a)?"diagonal":null}getCellsInDirection(e,n,i){let a=[],r=n.row>e.row?1:n.row<e.row?-1:0,o=n.col>e.col?1:n.col<e.col?-1:0,s=e.row,c=e.col;for(;(s!==n.row+r||c!==n.col+o)&&(a.push({row:s,col:c}),!(s===n.row&&c===n.col));)s+=r,c+=o;return a}checkSelection(){let e=this.selectedCells.map(i=>this.currentGrid[i.row][i.col]).join(""),n=e.split("").reverse().join("");for(let i of this.currentWords)if((e.toUpperCase()===i.toUpperCase()||n.toUpperCase()===i.toUpperCase())&&!this.isWordFound(i)){this.foundWords.push({word:i,cells:[...this.selectedCells]}),this.allWordsFound&&setTimeout(()=>{this.completed.emit()},500);return}}findWordInGrid(e){for(let n=0;n<this.currentGrid.length;n++)for(let i=0;i<this.currentGrid[n].length;i++){let a=this.checkDirection(n,i,0,1,e);if(a)return a;let r=this.checkDirection(n,i,1,0,e);if(r)return r}return null}checkDirection(e,n,i,a,r){let o=[],s=e,c=n;for(let l=0;l<r.length;l++){if(s<0||s>=this.currentGrid.length||c<0||c>=this.currentGrid[0].length||this.currentGrid[s][c].toUpperCase()!==r[l].toUpperCase())return null;o.push({row:s,col:c}),s+=i,c+=a}return{word:r,cells:o}}showAnswer(){this.completed.emit()}reset(){this.foundWords=[],this.selectedCells=[],this.isSelecting=!1,this.touchStartCell=null}static \u0275fac=function(n){return new(n||t)(A(dt))};static \u0275cmp=Z({type:t,selectors:[["app-word-search-challenge"]],inputs:{config:"config",isCompleted:"isCompleted"},outputs:{completed:"completed"},decls:26,vars:19,consts:[["gridCell",""],[1,"word-search-container"],[1,"flex","items-center","justify-center","gap-3","mb-6"],[1,"text-xl","sm:text-2xl","font-bold","text-gold","text-center"],["class","bg-accent-green text-white text-xs px-2 py-1 rounded-full font-bold animate-in fade-in zoom-in flex items-center gap-1",4,"ngIf"],[1,"text-center","text-text-muted","mb-6"],[1,"bg-bg","rounded-lg","p-4","mb-6"],[1,"text-sm","text-text-muted","mb-2","text-center"],[1,"flex","flex-wrap","gap-2","justify-center"],[1,"px-3","py-1","rounded-full","text-sm","font-medium","transition-all",3,"bg-accent-green","text-white","line-through","bg-surface","text-text"],[1,"text-center","mb-6"],[1,"text-text-muted"],[1,"flex","justify-center","mb-6","overflow-x-auto",3,"mouseup","mouseleave","touchend","touchcancel"],[1,"inline-block","select-none","touch-none"],[1,"flex"],[1,"mb-6","p-4","bg-accent-green","bg-opacity-20","border","border-accent-green","rounded-lg"],[1,"text-center","flex","flex-col","sm:flex-row","gap-3","justify-center"],[1,"bg-accent-green","text-white","text-xs","px-2","py-1","rounded-full","font-bold","animate-in","fade-in","zoom-in","flex","items-center","gap-1"],[1,"w-3","h-3",3,"img","strokeWidth"],[1,"px-3","py-1","rounded-full","text-sm","font-medium","transition-all"],[1,"w-8","h-8","sm:w-10","sm:h-10","md:w-12","md:h-12","flex","items-center","justify-center","border","border-gray-600","text-sm","sm:text-base","md:text-lg","font-bold","uppercase","transition-all","touch-manipulation","flex-shrink-0",3,"bg-accent-green","text-white","bg-gold","text-bg","bg-surface","text-text","cursor-pointer","cursor-default"],[1,"w-8","h-8","sm:w-10","sm:h-10","md:w-12","md:h-12","flex","items-center","justify-center","border","border-gray-600","text-sm","sm:text-base","md:text-lg","font-bold","uppercase","transition-all","touch-manipulation","flex-shrink-0",3,"mousedown","mouseenter","touchstart","touchmove"],[1,"text-text","text-center","text-lg","font-semibold"],[1,"btn","btn-outline","w-full","sm:w-auto","px-8",3,"click"]],template:function(n,i){n&1&&(p(0,"div",1)(1,"div",2)(2,"h3",3),y(3),k(4,"translate"),h(),K(5,D5,4,5,"span",4),h(),p(6,"p",5),y(7),k(8,"translate"),h(),p(9,"div",6)(10,"p",7),y(11),k(12,"translate"),h(),p(13,"div",8),be(14,S5,2,11,"span",9,Fa),h()(),p(16,"div",10)(17,"p",11),y(18),k(19,"translate"),h()(),p(20,"div",12),w("mouseup",function(){return i.onMouseUp()})("mouseleave",function(){return i.onMouseUp()})("touchend",function(r){return i.onTouchEnd(r)})("touchcancel",function(r){return i.onTouchEnd(r)}),p(21,"div",13),be(22,L5,3,0,"div",14,bt),h()(),b(24,E5,4,3,"div",15),b(25,T5,4,3,"div",16),h()),n&2&&(d(3),g(" \u{1F384} ",v(4,7,"challenges.wordSearch.title")," \u{1F384} "),d(2),x("ngIf",i.isCompleted),d(2),g(" ",v(8,9,"challenges.wordSearch.instruction")," "),d(4),g(" ",v(12,11,"challenges.wordSearch.wordsToFind")," "),d(3),Ie(i.currentWords),d(4),g(" ",fe(19,13,"challenges.wordSearch.wordsFound",Ha(16,I5,i.foundWords.length,i.currentWords.length))," "),d(4),Ie(i.currentGrid),d(2),I(i.allWordsFound?24:-1),d(),I(i.isCompleted&&i.allWordsFound?25:-1))},dependencies:[X,me,J,se,oe,Q],styles:["[_nghost-%COMP%]{display:block}"]})};function A5(t,e){if(t&1&&(p(0,"span",16),L(1,"lucide-icon",17),y(2),k(3,"translate"),h()),t&2){let n=C();d(),x("img",n.Check)("strokeWidth",4),d(),g(" ",v(3,3,"calendar.completed")," ")}}function P5(t,e){if(t&1){let n=T();p(0,"div",7)(1,"button",18),w("click",function(){S(n);let a=C();return _(a.toggleHint())}),y(2),k(3,"translate"),h()()}if(t&2){let n=C();d(2),g(" ",v(3,1,n.showHint?"challenges.rebus.hideHint":"challenges.rebus.showHint")," ")}}function R5(t,e){if(t&1&&(p(0,"div",8)(1,"p",19),y(2),k(3,"translate"),h()()),t&2){let n=C();d(2),g("\u{1F4A1} ",v(3,1,n.config.hintKey))}}function F5(t,e){t&1&&(p(0,"div",12)(1,"p",20),y(2),k(3,"translate"),h()()),t&2&&(d(2),g(" \u274C ",v(3,1,"challenges.rebus.incorrect")," "))}function N5(t,e){if(t&1){let n=T();p(0,"button",21),w("click",function(){S(n);let a=C();return _(a.onSubmit())}),y(1),k(2,"translate"),h()}if(t&2){let n=C();x("disabled",!n.userAnswer.trim()),d(),g(" ",v(2,2,"challenges.rebus.submit")," ")}}function O5(t,e){if(t&1){let n=T();p(0,"button",22),w("click",function(){S(n);let a=C();return _(a.reset())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" ",v(2,1,"ui.playAgain")," "))}var Vs=class t{config;isCompleted=!1;completed=new W;userAnswer="";showError=!1;showHint=!1;Check=ue;ngOnInit(){this.isCompleted&&(this.userAnswer=Array.isArray(this.config.answerKey)?this.config.answerKey[0]:this.config.answerKey)}onSubmit(){let e=this.userAnswer.trim().toLowerCase().normalize("NFC");(Array.isArray(this.config.answerKey)?this.config.answerKey.map(i=>i.toLowerCase().normalize("NFC")):[this.config.answerKey.toLowerCase().normalize("NFC")]).includes(e)?this.completed.emit():(this.showError=!0,setTimeout(()=>{this.showError=!1},2e3))}toggleHint(){this.showHint=!this.showHint}onKeyPress(e){e.key==="Enter"&&this.onSubmit()}reset(){this.userAnswer="",this.showError=!1,this.showHint=!1}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Z({type:t,selectors:[["app-rebus-challenge"]],inputs:{config:"config",isCompleted:"isCompleted"},outputs:{completed:"completed"},decls:25,vars:21,consts:[[1,"rebus-container"],[1,"flex","items-center","justify-center","gap-3","mb-6"],[1,"text-xl","sm:text-2xl","font-bold","text-gold","text-center"],["class","bg-accent-green text-white text-xs px-2 py-1 rounded-full font-bold animate-in fade-in zoom-in flex items-center gap-1",4,"ngIf"],[1,"text-center","text-text-muted","mb-6"],[1,"bg-surface","border-2","border-gold","rounded-lg","p-8","mb-6"],[1,"text-center","text-6xl","sm:text-7xl","lg:text-8xl","leading-relaxed"],[1,"mb-4","text-center"],[1,"bg-accent-green","bg-opacity-10","border","border-accent-green","rounded-lg","p-4","mb-6"],[1,"mb-6","max-w-96","mx-auto"],["for","rebus-answer",1,"block","text-sm","font-medium","text-text-muted","mb-2"],["id","rebus-answer","type","text","autocomplete","off",1,"input",3,"ngModelChange","keypress","ngModel","placeholder"],[1,"mb-4","p-3","bg-accent-red","bg-opacity-20","border","border-accent-red","rounded-lg"],[1,"text-center","flex","flex-col","sm:flex-row","gap-3","justify-center"],[1,"btn","btn-primary","w-full","sm:w-auto","px-8",3,"disabled"],[1,"btn","btn-outline","w-full","sm:w-auto","px-8"],[1,"bg-accent-green","text-white","text-xs","px-2","py-1","rounded-full","font-bold","animate-in","fade-in","zoom-in","flex","items-center","gap-1"],[1,"w-3","h-3",3,"img","strokeWidth"],[1,"btn","btn-outline","text-sm",3,"click"],[1,"text-sm","sm:text-base","text-text","text-center"],[1,"text-text","text-center","text-sm","sm:text-base"],[1,"btn","btn-primary","w-full","sm:w-auto","px-8",3,"click","disabled"],[1,"btn","btn-outline","w-full","sm:w-auto","px-8",3,"click"]],template:function(n,i){n&1&&(p(0,"div",0)(1,"div",1)(2,"h3",2),y(3),k(4,"translate"),h(),K(5,A5,4,5,"span",3),h(),p(6,"p",4),y(7),k(8,"translate"),h(),p(9,"div",5)(10,"div",6),y(11),k(12,"translate"),h()(),b(13,P5,4,3,"div",7),b(14,R5,4,3,"div",8),p(15,"div",9)(16,"label",10),y(17),k(18,"translate"),h(),p(19,"input",11),k(20,"translate"),ln("ngModelChange",function(r){return Kn(i.userAnswer,r)||(i.userAnswer=r),r}),w("keypress",function(r){return i.onKeyPress(r)}),h()(),b(21,F5,4,3,"div",12),p(22,"div",13),b(23,N5,3,4,"button",14)(24,O5,3,3,"button",15),h()()),n&2&&(d(3),g(" \u{1F9E9} ",v(4,11,"challenges.rebus.title")," \u{1F9E9} "),d(2),x("ngIf",i.isCompleted),d(2),g(" ",v(8,13,"challenges.rebus.instruction")," "),d(4),g(" ",v(12,15,i.config.rebusKey)," "),d(2),I(i.config.hintKey?13:-1),d(),I(i.showHint&&i.config.hintKey?14:-1),d(3),g(" ",v(18,17,"challenges.rebus.answerLabel")," "),d(2),cn("ngModel",i.userAnswer),x("placeholder",v(20,19,"challenges.rebus.placeholder")),d(2),I(i.showError?21:-1),d(2),I(i.isCompleted?24:23))},dependencies:[X,me,$i,fn,Gi,ti,J,se,oe,Q],styles:["[_nghost-%COMP%]{display:block}"]})};var V5=t=>({moves:t}),H5=(t,e)=>e.id;function j5(t,e){if(t&1&&(p(0,"span",15),L(1,"lucide-icon",16),y(2),k(3,"translate"),h()),t&2){let n=C();d(),x("img",n.Check)("strokeWidth",4),d(),g(" ",v(3,3,"calendar.completed")," ")}}function B5(t,e){if(t&1){let n=T();p(0,"button",17),w("click",function(){let a=S(n).$implicit,r=C();return _(r.onCardClick(a))}),p(1,"div",18)(2,"div",19)(3,"span",20),y(4,"\u{1F384}"),h()(),p(5,"div",21)(6,"span",22),y(7),h()()()()}if(t&2){let n=e.$implicit,i=C();le("flipped",n.flipped)("matched",n.matched),x("disabled",n.matched||i.gameWon),d(7),de(n.icon)}}function z5(t,e){if(t&1&&(p(0,"div",12)(1,"p",23),y(2),k(3,"translate"),h(),p(4,"p",24),y(5),k(6,"translate"),h()()),t&2){let n=C();d(2),g(" ",v(3,2,"challenges.memoryCard.win")," "),d(3),g(" ",fe(6,4,"challenges.memoryCard.finalMoves",Vt(7,V5,n.moves))," ")}}function q5(t,e){if(t&1){let n=T();p(0,"button",25),w("click",function(){S(n);let a=C();return _(a.resetGame())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" ",v(2,1,"ui.playAgain")," "))}var Hs=class t{constructor(e){this.stateService=e}config;isCompleted=!1;day;completed=new W;cards=[];flippedCards=[];moves=0;matches=0;isChecking=!1;gameWon=!1;completedMoves=0;Check=ue;ngOnInit(){this.initializeGame()}initializeGame(e=!0){let n=this.config.gridSize*this.config.gridSize/2,i=this.config.icons.slice(0,n),a=[];if(i.forEach((r,o)=>{a.push({id:o*2,icon:r,flipped:!1,matched:!1},{id:o*2+1,icon:r,flipped:!1,matched:!1})}),this.cards=this.shuffleArray(a),this.flippedCards=[],this.moves=0,this.matches=0,this.isChecking=!1,this.gameWon=!1,this.isCompleted&&e&&(this.cards.forEach(r=>{r.flipped=!0,r.matched=!0}),this.matches=n,this.gameWon=!0,this.day!==void 0)){let r=this.stateService.getGameStats(this.day);r&&r.moves&&(this.moves=r.moves,this.completedMoves=r.moves)}}onCardClick(e){this.gameWon||e.matched||e.flipped||this.isChecking||this.flippedCards.length>=2||(e.flipped=!0,this.flippedCards.push(e),this.flippedCards.length===2&&(this.moves++,this.checkForMatch()))}checkForMatch(){this.isChecking=!0;let[e,n]=this.flippedCards;e.icon===n.icon?setTimeout(()=>{e.matched=!0,n.matched=!0,this.matches++,this.flippedCards=[],this.isChecking=!1,this.matches===this.config.gridSize*this.config.gridSize/2&&(this.gameWon=!0,this.completedMoves=this.moves,this.day!==void 0&&this.stateService.saveGameStats(this.day,{moves:this.moves}),this.completed.emit())},500):setTimeout(()=>{e.flipped=!1,n.flipped=!1,this.flippedCards=[],this.isChecking=!1},1e3)}resetGame(){this.initializeGame(!1)}shuffleArray(e){let n=[...e];for(let i=n.length-1;i>0;i--){let a=Math.floor(Math.random()*(i+1));[n[i],n[a]]=[n[a],n[i]]}return n}getGridClass(){return`grid-cols-${this.config.gridSize}`}static \u0275fac=function(n){return new(n||t)(A(ke))};static \u0275cmp=Z({type:t,selectors:[["app-memory-card-challenge"]],inputs:{config:"config",isCompleted:"isCompleted",day:"day"},outputs:{completed:"completed"},decls:29,vars:19,consts:[[1,"memory-card-container"],[1,"header","mb-4","flex","flex-col","items-center"],[1,"flex","items-center","justify-center","gap-3","mb-2"],[1,"text-xl","sm:text-2xl","font-bold","text-gold"],["class","bg-accent-green text-white text-xs px-2 py-1 rounded-full font-bold animate-in fade-in zoom-in flex items-center gap-1",4,"ngIf"],[1,"text-sm","sm:text-base","text-text-muted","mb-3"],[1,"stats","flex","gap-4","justify-center","text-sm","sm:text-base"],[1,"stat"],[1,"text-text-muted"],[1,"text-gold","font-bold","ml-1"],[1,"card-grid","grid","gap-2","sm:gap-3","mb-4",3,"ngClass"],["type","button",1,"memory-card",3,"flipped","matched","disabled"],[1,"win-message","card","bg-accent-green","p-4","text-center","m-4"],[1,"actions","flex","flex-col","sm:flex-row","justify-center","gap-3","mt-4"],["type","button",1,"btn","btn-outline","w-full","sm:w-auto"],[1,"bg-accent-green","text-white","text-xs","px-2","py-1","rounded-full","font-bold","animate-in","fade-in","zoom-in","flex","items-center","gap-1"],[1,"w-3","h-3",3,"img","strokeWidth"],["type","button",1,"memory-card",3,"click","disabled"],[1,"card-inner"],[1,"card-face","card-back"],[1,"card-pattern"],[1,"card-face","card-front"],[1,"card-icon"],[1,"text-lg","sm:text-xl","font-bold","text-white","mb-2"],[1,"text-sm","sm:text-base","text-white","opacity-90"],["type","button",1,"btn","btn-outline","w-full","sm:w-auto",3,"click"]],template:function(n,i){n&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4),k(5,"translate"),h(),K(6,j5,4,5,"span",4),h(),p(7,"p",5),y(8),k(9,"translate"),h(),p(10,"div",6)(11,"div",7)(12,"span",8),y(13),k(14,"translate"),h(),p(15,"span",9),y(16),h()(),p(17,"div",7)(18,"span",8),y(19),k(20,"translate"),h(),p(21,"span",9),y(22),h()()()(),p(23,"div",10),be(24,B5,8,6,"button",11,H5),h(),b(26,z5,7,9,"div",12),p(27,"div",13),b(28,q5,3,3,"button",14),h()()),n&2&&(d(4),g(" \u{1F0CF} ",v(5,11,"challenges.memoryCard.title")," \u{1F0CF} "),d(2),x("ngIf",i.isCompleted),d(2),g(" ",v(9,13,"challenges.memoryCard.instruction")," "),d(5),g("",v(14,15,"challenges.memoryCard.moves"),":"),d(3),de(i.moves),d(3),g("",v(20,17,"challenges.memoryCard.matches"),":"),d(3),Pi("",i.matches," / ",i.config.gridSize*i.config.gridSize/2),d(),x("ngClass",i.getGridClass()),d(),Ie(i.cards),d(2),I(i.gameWon?26:-1),d(2),I(i.isCompleted?28:-1))},dependencies:[X,Xn,me,J,se,oe,Q],styles:[".memory-card-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:0 auto}.card-grid[_ngcontent-%COMP%]{perspective:1000px;max-width:500px;margin:0 auto}.card-grid.grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}.card-grid.grid-cols-6[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr)}.card-grid.grid-cols-8[_ngcontent-%COMP%]{grid-template-columns:repeat(8,1fr)}.memory-card[_ngcontent-%COMP%]{aspect-ratio:1;background:transparent;border:none;cursor:pointer;position:relative;transition:transform .2s}.memory-card[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05)}.memory-card[_ngcontent-%COMP%]:disabled{cursor:default}.card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition:transform .6s;transform-style:preserve-3d}.memory-card.flipped[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card-face[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;backface-visibility:hidden;display:flex;align-items:center;justify-content:center;border-radius:8px;border:2px solid rgba(255,255,255,.2);box-shadow:0 2px 8px #0000004d}.card-back[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-accent-red) 0%,var(--color-accent-green) 100%)}.card-back[_ngcontent-%COMP%]   .card-pattern[_ngcontent-%COMP%]{font-size:2rem;opacity:.5}@media (min-width: 640px){.card-back[_ngcontent-%COMP%]   .card-pattern[_ngcontent-%COMP%]{font-size:2.5rem}}.card-front[_ngcontent-%COMP%]{background:var(--color-surface);transform:rotateY(180deg)}.card-front[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2rem}@media (min-width: 640px){.card-front[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:3rem}}.memory-card.matched[_ngcontent-%COMP%]   .card-front[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-surface) 0%,rgba(42,157,143,.2) 100%);border-color:var(--color-accent-green)}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{background:#ffffff0d;padding:.5rem 1rem;border-radius:8px;border:1px solid rgba(255,255,255,.1)}.win-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .5s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})};var yn=class t{activeLoops=new Map;loopIdCounter=0;startGameLoop(e){let n=this.loopIdCounter++;this.activeLoops.set(n,!0);let i=performance.now(),a=r=>{if(!this.activeLoops.get(n))return;let o=(r-i)/1e3;i=r,e(o),requestAnimationFrame(a)};return requestAnimationFrame(a),n}stopGameLoop(e){this.activeLoops.delete(e)}stopAllLoops(){this.activeLoops.clear()}checkRectCollision(e,n){return e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y}checkCircleCollision(e,n){let i=e.x-n.x,a=e.y-n.y;return Math.sqrt(i*i+a*a)<e.radius+n.radius}checkCircleRectCollision(e,n){let i=Math.max(n.x,Math.min(e.x,n.x+n.width)),a=Math.max(n.y,Math.min(e.y,n.y+n.height)),r=e.x-i,o=e.y-a;return r*r+o*o<e.radius*e.radius}applyGravity(e,n,i){return e+n*i}applyFriction(e,n){return Math.abs(e)<.01?0:e*n}clamp(e,n,i){return Math.max(n,Math.min(i,e))}lerp(e,n,i){return e+(n-e)*i}isMobileDevice(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}getResponsiveCanvasSize(e,n=16/9){let i=e.clientWidth,a=e.clientHeight,r=i,o=i/n;return o>a&&(o=a,r=a*n),{width:r,height:o}}scaleCanvasForRetina(e){let n=window.devicePixelRatio||1,i=e.getBoundingClientRect();e.width=i.width*n,e.height=i.height*n;let a=e.getContext("2d");a&&a.scale(n,n)}randomInt(e,n){return Math.floor(Math.random()*(n-e+1))+e}randomFloat(e,n){return Math.random()*(n-e)+e}isPointInRect(e,n,i){return e>=i.x&&e<=i.x+i.width&&n>=i.y&&n<=i.y+i.height}distance(e,n,i,a){let r=i-e,o=a-n;return Math.sqrt(r*r+o*o)}degreesToRadians(e){return e*Math.PI/180}radiansToDegrees(e){return e*180/Math.PI}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var mn=class t{keysPressed=new Set;keyDownListener;keyUpListener;init(){this.keyDownListener||(this.keyDownListener=e=>{this.keysPressed.add(e.key.toLowerCase()),this.isGameKey(e.key)&&e.preventDefault()},this.keyUpListener=e=>{this.keysPressed.delete(e.key.toLowerCase())},window.addEventListener("keydown",this.keyDownListener),window.addEventListener("keyup",this.keyUpListener))}destroy(){this.keyDownListener&&window.removeEventListener("keydown",this.keyDownListener),this.keyUpListener&&window.removeEventListener("keyup",this.keyUpListener),this.keyDownListener=void 0,this.keyUpListener=void 0,this.keysPressed.clear()}isPressed(e){return this.keysPressed.has(e.toLowerCase())}isAnyPressed(e){return e.some(n=>this.isPressed(n))}areAllPressed(e){return e.every(n=>this.isPressed(n))}isUpPressed(){return this.isAnyPressed(["arrowup","w"])}isDownPressed(){return this.isAnyPressed(["arrowdown","s"])}isLeftPressed(){return this.isAnyPressed(["arrowleft","a"])}isRightPressed(){return this.isAnyPressed(["arrowright","d"])}isSpacePressed(){return this.isPressed(" ")||this.isPressed("space")}isEscapePressed(){return this.isPressed("escape")||this.isPressed("esc")}isPausePressed(){return this.isPressed("p")}getPressedKeys(){return Array.from(this.keysPressed)}clearAll(){this.keysPressed.clear()}isGameKey(e){return["arrowup","arrowdown","arrowleft","arrowright"," ","space","w","a","s","d"].includes(e.toLowerCase())}getHorizontalAxis(){let e=this.isLeftPressed(),n=this.isRightPressed();return e&&!n?-1:n&&!e?1:0}getVerticalAxis(){let e=this.isUpPressed(),n=this.isDownPressed();return e&&!n?-1:n&&!e?1:0}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var gn=class t{sprites=new Map;loadingPromises=new Map;loadSprite(e,n){return qt(this,null,function*(){if(this.sprites.has(e))return this.sprites.get(e);if(this.loadingPromises.has(e))return this.loadingPromises.get(e);let i=this.resolveAssetPath(n),a=new Promise((r,o)=>{let s=new Image;s.onload=()=>{this.sprites.set(e,s),this.loadingPromises.delete(e),r(s)},s.onerror=()=>{this.loadingPromises.delete(e),o(new Error(`Failed to load sprite: ${i}`))},s.src=i});return this.loadingPromises.set(e,a),a})}getSprite(e){return this.sprites.get(e)||null}isLoaded(e){return this.sprites.has(e)}getBasePath(){let e=document.baseURI||window.location.origin+"/";return e.endsWith("/")?e:e+"/"}resolveAssetPath(e){if(e.startsWith("http://")||e.startsWith("https://"))return e;let n=e.startsWith("/")?e.substring(1):e,i=document.querySelector("base");return i&&i.href?i.href+n:this.getBasePath()+n}preloadCommonSprites(){return qt(this,null,function*(){let e=[{name:"player",path:"assets/sprites/player.png"},{name:"obstacle",path:"assets/sprites/obstacle.png"},{name:"platform",path:"assets/sprites/platform.png"},{name:"collectible",path:"assets/sprites/collectible.png"},{name:"box",path:"assets/sprites/box.png"},{name:"target",path:"assets/sprites/target.png"}];try{yield Promise.all(e.map(n=>this.loadSprite(n.name,this.resolveAssetPath(n.path))))}catch(n){console.warn("Some sprites failed to preload:",n)}})}loadSprites(e){return qt(this,null,function*(){return Promise.all(e.map(n=>this.loadSprite(n.name,n.path)))})}clearCache(){this.sprites.clear(),this.loadingPromises.clear()}removeSprite(e){this.sprites.delete(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var W5=["gameCanvas"];function U5(t,e){if(t&1&&(p(0,"span",12),L(1,"lucide-icon",13),y(2),k(3,"translate"),h()),t&2){let n=C();d(),x("img",n.Check)("strokeWidth",4),d(),g(" ",v(3,3,"calendar.completed")," ")}}function G5(t,e){if(t&1){let n=T();p(0,"div",19)(1,"div",20)(2,"div",21),y(3,"\u{1F4A5}"),h(),p(4,"p",22),y(5),k(6,"translate"),h(),p(7,"button",23),w("click",function(){S(n);let a=C(2);return _(a.reset())}),y(8),k(9,"translate"),h()()()}t&2&&(d(5),g(" ",v(6,2,"challenges.geometryDash.crashed")," "),d(3),g(" ",v(9,4,"ui.tryAgain")," "))}function $5(t,e){if(t&1&&(p(0,"div",14)(1,"div",15)(2,"div",16),y(3,"\u{1F4A5}"),h(),p(4,"p",17),y(5),k(6,"translate"),h()()(),K(7,G5,10,6,"div",18)),t&2){let n=C();d(5),g(" ",v(6,2,"challenges.geometryDash.crashed")," "),d(2),x("ngIf",n.gameLost)}}function K5(t,e){if(t&1){let n=T();p(0,"div",9)(1,"div",20)(2,"div",24),y(3,"\u{1F389}\u{1F384}"),h(),p(4,"p",25),y(5),k(6,"translate"),h(),p(7,"button",26),w("click",function(){S(n);let a=C();return _(a.reset())}),y(8),k(9,"translate"),h()()()}t&2&&(d(5),g(" ",v(6,2,"challenges.geometryDash.victory")," "),d(3),g(" ",v(9,4,"ui.playAgain")," "))}function Z5(t,e){if(t&1){let n=T();p(0,"button",32),w("click",function(){S(n);let a=C(2);return _(a.reset())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" \u{1F4A5} ",v(2,1,"ui.tryAgain")," \u{1F4A5} "))}function X5(t,e){if(t&1){let n=T();p(0,"button",33),w("click",function(){S(n);let a=C(2);return _(a.jump())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" \u{1F384} ",v(2,1,"challenges.geometryDash.jumpButton")," \u{1F384} "))}function Y5(t,e){t&1&&(p(0,"p",31),y(1),k(2,"translate"),h()),t&2&&(d(),g(" ",v(2,1,"challenges.geometryDash.controlsDesktop")," "))}function Q5(t,e){if(t&1&&(p(0,"div",27),b(1,Z5,3,3,"button",28)(2,X5,3,3,"button",29),h(),p(3,"div",30),b(4,Y5,3,3,"p",31),h()),t&2){let n=C();d(),I(n.gameLost?1:n.gameWon?-1:2),d(3),I(n.gameWon?-1:4)}}function J5(t,e){if(t&1){let n=T();p(0,"button",34),w("click",function(){S(n);let a=C();return _(a.startGame())}),y(1),k(2,"translate"),h(),p(3,"button",35),w("click",function(){S(n);let a=C();return _(a.startGame())}),y(4),k(5,"translate"),h()}t&2&&(d(),g(" \u{1F3AE} ",v(2,2,"challenges.geometryDash.start")," \u{1F3AE} "),d(3),g(" ",v(5,4,"challenges.geometryDash.start")," "))}function e3(t,e){if(t&1){let n=T();p(0,"button",36),w("click",function(){S(n);let a=C();return _(a.reset())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" ",v(2,1,"ui.playAgain")," "))}var t3={easy:{levelLength:4e3,scrollSpeed:200,jumpForce:760,gravity:1800,minObstacleSpacing:200,maxObstacleSpacing:350,candyChance:.65,platformChance:.15,pitChance:.1,ceilingCandyChance:.1,minCandyHeight:60,maxCandyHeight:100,candyWidth:40,minPlatformWidth:80,maxPlatformWidth:140,platformHeightRange:[50,80],minPitWidth:80,maxPitWidth:120,ceilingCandyLength:[100,150],assistPlatformOffset:220},medium:{levelLength:4e3,scrollSpeed:240,jumpForce:850,gravity:2e3,minObstacleSpacing:220,maxObstacleSpacing:400,candyChance:.55,platformChance:.1,pitChance:.2,ceilingCandyChance:.15,minCandyHeight:70,maxCandyHeight:120,candyWidth:40,minPlatformWidth:70,maxPlatformWidth:120,platformHeightRange:[50,90],minPitWidth:90,maxPitWidth:140,ceilingCandyLength:[120,180],assistPlatformOffset:200},hard:{levelLength:8e3,scrollSpeed:280,jumpForce:800,gravity:2200,minObstacleSpacing:200,maxObstacleSpacing:380,candyChance:.5,platformChance:.1,pitChance:.2,ceilingCandyChance:.2,minCandyHeight:80,maxCandyHeight:140,candyWidth:40,minPlatformWidth:60,maxPlatformWidth:100,platformHeightRange:[60,100],minPitWidth:100,maxPitWidth:160,ceilingCandyLength:[140,220],assistPlatformOffset:180},custom:{levelLength:3e3,scrollSpeed:240,jumpForce:850,gravity:2e3,minObstacleSpacing:220,maxObstacleSpacing:400,candyChance:.4,platformChance:.3,pitChance:.15,ceilingCandyChance:.15,minCandyHeight:70,maxCandyHeight:120,candyWidth:40,minPlatformWidth:70,maxPlatformWidth:120,platformHeightRange:[50,90],minPitWidth:90,maxPitWidth:140,ceilingCandyLength:[120,180],assistPlatformOffset:200}},js=class t{constructor(e,n,i,a){this.gameService=e;this.keyboardService=n;this.spriteService=i;this.stateService=a}config;isCompleted=!1;day;levelId;completed=new W;canvasRef;Check=ue;canvas;ctx;gameLoopId;playerSprite=null;jumpKeyPressed=!1;isMobile=!1;scale=1;activeDifficulty;obstacles=[];isInfiniteMode=!1;survivalTime=0;lastObstacleX=0;lastObstacleType=null;bestTime=0;bestTimeFormatted="00:00.000";lastRunTime=0;lastRunTimeFormatted="00:00.000";player={x:100,y:300,width:40,height:40,velocityY:0,isOnGround:!1};cameraX=0;gameStarted=!1;gameWon=!1;gameLost=!1;groundY=450;ngOnInit(){if(this.isCompleted&&(this.gameWon=!0),this.initializeDifficulty(),this.isInfiniteMode=this.activeDifficulty.infiniteMode||!1,this.generateObstacles(),this.isInfiniteMode){let e=this.getStorageKey();if(e){let n=this.stateService.getGameStats(e);n&&(this.bestTime=n.bestTime||0,this.bestTimeFormatted=this.formatTime(this.bestTime))}}this.keyboardService.init()}ngAfterViewInit(){this.canvasRef&&setTimeout(()=>{this.initCanvas(this.canvasRef.nativeElement),this.spriteService.loadSprite("player","/assets/sprites/player.png").then(e=>{this.playerSprite=e,this.render()}).catch(()=>{this.render()})},50)}ngOnDestroy(){this.stopGame(),this.keyboardService.destroy()}initializeDifficulty(){if(this.config.obstacles&&this.config.obstacles.length>0){this.activeDifficulty={levelLength:this.config.levelLength||3e3,scrollSpeed:this.config.scrollSpeed||240,jumpForce:this.config.jumpForce||850,gravity:this.config.gravity||2e3,minObstacleSpacing:250,maxObstacleSpacing:500,candyChance:.35,platformChance:.3,pitChance:.2,ceilingCandyChance:.15,minCandyHeight:70,maxCandyHeight:130,candyWidth:40,minPlatformWidth:70,maxPlatformWidth:120,platformHeightRange:[50,90],minPitWidth:90,maxPitWidth:140,ceilingCandyLength:[120,180],assistPlatformOffset:180},this.obstacles=this.config.obstacles;return}let e=this.config.difficulty||"medium",n=t3[e];this.activeDifficulty=H(H({},n),this.config.difficultyConfig||{})}generateObstacles(){if(this.config.obstacles&&this.config.obstacles.length>0)return;this.obstacles=[];let e=this.activeDifficulty,n=this.calculateMaxJumpHeight(),i=500,a=this.isInfiniteMode?2e3:e.levelLength-300;for(this.lastObstacleX=i;i<a;){let r=e.minObstacleSpacing+Math.random()*(e.maxObstacleSpacing-e.minObstacleSpacing);if(i+=r,i>=a)break;let o=this.selectObstacleType();if(o==="candy"){let s=e.minCandyHeight+Math.random()*(e.maxCandyHeight-e.minCandyHeight);if(s>n){let c=i-e.assistPlatformOffset,l=this.obstacles.length>0?this.obstacles[this.obstacles.length-1].x:0,u=Math.max(c,l+100);if(i-u>120){let f=e.minPlatformWidth+Math.random()*(e.maxPlatformWidth-e.minPlatformWidth),M=e.platformHeightRange[0]+Math.random()*(e.platformHeightRange[1]-e.platformHeightRange[0]);this.obstacles.push({x:u,width:f,height:M,type:"platform"})}else{let f=n-10;this.obstacles.push({x:i,width:e.candyWidth,height:f,type:"candy"});continue}}this.obstacles.push({x:i,width:e.candyWidth,height:s,type:"candy"}),this.lastObstacleType="candy"}else if(o==="platform"){let s=e.minPlatformWidth+Math.random()*(e.maxPlatformWidth-e.minPlatformWidth),c=e.platformHeightRange[0]+Math.random()*(e.platformHeightRange[1]-e.platformHeightRange[0]);this.obstacles.push({x:i,width:s,height:c,type:"platform"}),this.lastObstacleType="platform"}else if(o==="pit"){let s=e.minPitWidth+Math.random()*(e.maxPitWidth-e.minPitWidth),c=this.calculateMaxJumpDistance(),l=Math.min(s,c);this.obstacles.push({x:i,width:l,height:0,type:"pit"}),this.lastObstacleType="pit",i+=l}else if(o==="ceilingCandy"){let s=e.ceilingCandyLength[0]+Math.random()*(e.ceilingCandyLength[1]-e.ceilingCandyLength[0]),c=200+Math.random()*200;this.obstacles.push({x:i,width:s,height:c,type:"ceilingCandy"}),this.lastObstacleType="ceilingCandy",i+=s}this.lastObstacleX=Math.max(this.lastObstacleX,i)}}generateMoreObstacles(){if(!this.isInfiniteMode)return;let e=this.activeDifficulty,n=this.calculateMaxJumpHeight(),a=this.cameraX+1500;for(;this.lastObstacleX<a;){let o=e.minObstacleSpacing+Math.random()*(e.maxObstacleSpacing-e.minObstacleSpacing);this.lastObstacleX+=o;let s=this.lastObstacleX,c=this.selectObstacleType();if(c==="candy"){let l=e.minCandyHeight+Math.random()*(e.maxCandyHeight-e.minCandyHeight);if(l>n){let u=s-e.assistPlatformOffset,f=this.obstacles.length>0?this.obstacles[this.obstacles.length-1].x:0,M=Math.max(u,f+100);if(s-M>120){let m=e.minPlatformWidth+Math.random()*(e.maxPlatformWidth-e.minPlatformWidth),D=e.platformHeightRange[0]+Math.random()*(e.platformHeightRange[1]-e.platformHeightRange[0]);this.obstacles.push({x:M,width:m,height:D,type:"platform"})}else{let m=n-10;this.obstacles.push({x:s,width:e.candyWidth,height:m,type:"candy"});continue}}this.obstacles.push({x:s,width:e.candyWidth,height:l,type:"candy"}),this.lastObstacleType="candy"}else if(c==="platform"){let l=e.minPlatformWidth+Math.random()*(e.maxPlatformWidth-e.minPlatformWidth),u=e.platformHeightRange[0]+Math.random()*(e.platformHeightRange[1]-e.platformHeightRange[0]);this.obstacles.push({x:s,width:l,height:u,type:"platform"}),this.lastObstacleType="platform"}else if(c==="pit"){let l=e.minPitWidth+Math.random()*(e.maxPitWidth-e.minPitWidth),u=this.calculateMaxJumpDistance(),f=Math.min(l,u);this.obstacles.push({x:s,width:f,height:0,type:"pit"}),this.lastObstacleType="pit",this.lastObstacleX+=f}else if(c==="ceilingCandy"){let l=e.ceilingCandyLength[0]+Math.random()*(e.ceilingCandyLength[1]-e.ceilingCandyLength[0]),u=200+Math.random()*200;this.obstacles.push({x:s,width:l,height:u,type:"ceilingCandy"}),this.lastObstacleType="ceilingCandy",this.lastObstacleX+=l}}let r=1e3;this.obstacles=this.obstacles.filter(o=>o.x>this.cameraX-r)}selectObstacleType(){let e=this.activeDifficulty,n=e.candyChance,i=e.platformChance,a=e.pitChance,r=this.lastObstacleType==="ceilingCandy"?0:e.ceilingCandyChance,o=n+i+a+r,s=n/o,c=i/o,l=a/o,u=Math.random();return u<s?"candy":u<s+c?"platform":u<s+c+l?"pit":"ceilingCandy"}calculateMaxJumpHeight(){let e=this.activeDifficulty.jumpForce,n=this.activeDifficulty.gravity;return e*e/(2*n)-this.player.height-20}calculateMaxJumpDistance(){let e=this.activeDifficulty.jumpForce,n=this.activeDifficulty.gravity,i=this.activeDifficulty.scrollSpeed,a=2*e/n;return i*a*.8}initCanvas(e){this.canvas=e;let n=e.getContext("2d");if(!n)return;this.ctx=n;let i=e.parentElement.clientWidth,a=i;this.isMobile=i<640,this.scale=this.isMobile?.5:1;let o=i*.5625;e.width=a,e.height=o,this.isMobile?this.groundY=e.height/this.scale*.7:this.groundY=e.height-50,this.player.y=this.groundY-this.player.height,this.player.x=this.isMobile?60:100,this.gameService.scaleCanvasForRetina(e)}startGame(){this.ctx&&(this.gameStarted=!0,this.gameWon=!1,this.gameLost=!1,this.cameraX=0,this.player.y=this.groundY-this.player.height,this.player.velocityY=0,this.player.isOnGround=!0,this.jumpKeyPressed=!1,this.generateObstacles(),this.gameLoopId=this.gameService.startGameLoop(e=>{this.update(e),this.render()}))}getStorageKey(){return this.levelId?this.levelId:this.day&&this.day>0?this.day:null}formatTime(e){if(!isFinite(e)||e<=0)return"00:00.000";let n=Math.floor(e/60),i=Math.floor(e%60),a=Math.floor(e%1*1e3);return`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}.${a.toString().padStart(3,"0")}`}stopGame(){if(this.gameLoopId!==void 0&&(this.gameService.stopGameLoop(this.gameLoopId),this.gameLoopId=void 0),this.isInfiniteMode&&this.gameLost){let e=this.survivalTime;this.lastRunTime=e,this.lastRunTimeFormatted=this.formatTime(e),e>this.bestTime&&(this.bestTime=e,this.bestTimeFormatted=this.lastRunTimeFormatted);let n=this.getStorageKey();n&&this.stateService.saveGameStats(n,{bestTime:this.bestTime})}}update(e){if(!this.gameStarted||this.gameWon||this.gameLost)return;this.isInfiniteMode&&(this.survivalTime+=e),this.cameraX+=this.activeDifficulty.scrollSpeed*e,this.isInfiniteMode&&this.generateMoreObstacles();let n=this.keyboardService.isSpacePressed()||this.keyboardService.isUpPressed();n&&!this.jumpKeyPressed&&this.player.isOnGround&&this.jump(),this.jumpKeyPressed=n,this.player.velocityY=this.gameService.applyGravity(this.player.velocityY,this.activeDifficulty.gravity,e),this.player.y+=this.player.velocityY*e;let i=!1;for(let a of this.obstacles)if(a.type==="pit"){let r=a.x-this.cameraX;if(this.player.x>r&&this.player.x<r+a.width){if(i=!0,this.player.y+this.player.height>this.groundY+80){this.gameLost=!0,setTimeout(()=>{this.stopGame()},300);return}break}}!i&&this.player.y>=this.groundY-this.player.height?(this.player.y=this.groundY-this.player.height,this.player.velocityY=0,this.player.isOnGround=!0):this.player.isOnGround=!1;for(let a of this.obstacles){let r=a.x-this.cameraX;if(a.type!=="pit")if(a.type==="platform"){let o=this.groundY-a.height,s={x:r,y:o,width:a.width,height:a.height},c={x:this.player.x,y:this.player.y,width:this.player.width,height:this.player.height};this.player.x+this.player.width>r&&this.player.x<r+a.width&&this.player.y+this.player.height<=o+10&&this.player.y+this.player.height>=o-5&&this.player.velocityY>=0&&(this.player.y=o-this.player.height,this.player.velocityY=0,this.player.isOnGround=!0)}else if(a.type==="ceilingCandy"){let o={x:r,y:0,width:a.width,height:a.height},s={x:this.player.x,y:this.player.y,width:this.player.width,height:this.player.height};if(this.gameService.checkRectCollision(s,o)){this.gameLost=!0,this.stopGame();return}}else{let o={x:r,y:this.groundY-a.height,width:a.width,height:a.height},s={x:this.player.x,y:this.player.y,width:this.player.width,height:this.player.height};if(this.gameService.checkRectCollision(s,o)){this.gameLost=!0,this.stopGame();return}}}if(!this.isInfiniteMode){let a=this.activeDifficulty.levelLength;this.cameraX+this.player.x+this.player.width>=a&&(this.gameWon=!0,this.stopGame(),setTimeout(()=>{this.completed.emit()},500))}}render(){if(!this.ctx||!this.canvas)return;this.ctx.fillStyle="#06121f",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.save(),this.ctx.scale(this.scale,this.scale);let e=this.isMobile?40:0;this.ctx.translate(0,e);let n=this.canvas.height/this.scale-e,i=this.ctx.createLinearGradient(0,0,0,n);i.addColorStop(0,"#1a2332"),i.addColorStop(1,"#06121f"),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,this.canvas.width/this.scale,n),this.ctx.fillStyle="#2a9d8f";let a=n-this.groundY;this.ctx.fillRect(0,this.groundY,this.canvas.width/this.scale,a),this.ctx.fillStyle="#ffffff";for(let o=0;o<this.canvas.width/this.scale;o+=40){let s=this.cameraX%40;this.ctx.fillRect(o-s,this.groundY,30,5)}for(let o of this.obstacles){let s=o.x-this.cameraX;if(s+o.width>0&&s<this.canvas.width/this.scale)if(o.type==="pit"){let c=n-this.groundY;this.ctx.fillStyle="#000000",this.ctx.fillRect(s,this.groundY,o.width,c),this.ctx.fillStyle="#f4d35e",this.ctx.fillRect(s,this.groundY,5,c),this.ctx.fillRect(s+o.width-5,this.groundY,5,c)}else if(o.type==="platform"){let c=this.groundY-o.height;this.ctx.fillStyle="#2a9d8f",this.ctx.fillRect(s,c,o.width,o.height),this.ctx.fillStyle="#ffffff",this.ctx.fillRect(s,c,o.width,5),this.ctx.strokeStyle="#1a7a6e",this.ctx.lineWidth=2,this.ctx.strokeRect(s,c,o.width,o.height)}else if(o.type==="ceilingCandy"){this.ctx.fillStyle="#e63946",this.ctx.fillRect(s,0,o.width,o.height),this.ctx.fillStyle="#ffffff";for(let c=0;c<o.height;c+=20)this.ctx.fillRect(s,c,o.width,10);this.ctx.strokeStyle="#ffffff",this.ctx.lineWidth=3,this.ctx.beginPath(),this.ctx.moveTo(s+o.width/2,0),this.ctx.lineTo(s+o.width/2,-20),this.ctx.stroke()}else{let c=this.groundY-o.height;this.ctx.fillStyle="#e63946",this.ctx.fillRect(s,c,o.width,o.height),this.ctx.fillStyle="#ffffff";for(let l=c;l<c+o.height;l+=20)this.ctx.fillRect(s,l,o.width,10)}}if(!this.isInfiniteMode){let o=this.activeDifficulty.levelLength-this.cameraX;o>0&&o<this.canvas.width/this.scale&&(this.ctx.strokeStyle="#f4d35e",this.ctx.lineWidth=4,this.ctx.setLineDash([10,5]),this.ctx.beginPath(),this.ctx.moveTo(o,0),this.ctx.lineTo(o,n),this.ctx.stroke(),this.ctx.setLineDash([]),this.drawStar(o,this.groundY-80,20,"#f4d35e"))}this.ctx.save(),this.ctx.translate(this.player.x+this.player.width/2,this.player.y+this.player.height/2);let r=this.player.velocityY*.001;if(this.ctx.rotate(r),this.playerSprite?this.ctx.drawImage(this.playerSprite,-this.player.width/2,-this.player.height/2,this.player.width,this.player.height):(this.ctx.fillStyle="#f4d35e",this.ctx.fillRect(-this.player.width/2,-this.player.height/2,this.player.width,this.player.height),this.ctx.strokeStyle="#ffffff",this.ctx.lineWidth=2,this.ctx.strokeRect(-this.player.width/2,-this.player.height/2,this.player.width,this.player.height)),this.ctx.restore(),this.ctx.restore(),this.isInfiniteMode){let o=Math.floor(this.survivalTime/60),s=Math.floor(this.survivalTime%60),c=Math.floor(this.survivalTime%1*1e3),l=`${o.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}.${c.toString().padStart(3,"0")}`,u=this.isMobile?10:20,f=this.isMobile?25:35;this.ctx.font=this.isMobile?"16px monospace":"20px monospace",this.ctx.fillStyle="#f4d35e",this.ctx.textAlign="left",this.ctx.fillText(l,u,f)}else{let o=Math.min(this.cameraX/this.activeDifficulty.levelLength,1),s=this.isMobile?10:20,c=this.isMobile?350:20,l=this.canvas.width-s-c,u=10,f=this.isMobile?10:20;this.ctx.fillStyle="#102437",this.ctx.fillRect(s,f,l,u),this.ctx.fillStyle="#f4d35e",this.ctx.fillRect(s,f,l*o,u),this.ctx.strokeStyle="#ffffff",this.ctx.lineWidth=2,this.ctx.strokeRect(s,f,l,u)}}drawStar(e,n,i,a){this.ctx.fillStyle=a,this.ctx.beginPath();for(let r=0;r<5;r++){let o=r*4*Math.PI/5-Math.PI/2,s=e+Math.cos(o)*i,c=n+Math.sin(o)*i;r===0?this.ctx.moveTo(s,c):this.ctx.lineTo(s,c)}this.ctx.closePath(),this.ctx.fill()}jump(){this.player.isOnGround&&this.gameStarted&&!this.gameWon&&!this.gameLost&&(this.player.velocityY=-this.activeDifficulty.jumpForce,this.player.isOnGround=!1,this.jumpKeyPressed=!0,this.render())}handleCanvasTap(){this.gameStarted?!this.gameWon&&!this.gameLost&&this.player.isOnGround&&(this.player.velocityY=-this.activeDifficulty.jumpForce,this.player.isOnGround=!1):this.startGame()}reset(){this.stopGame(),this.gameStarted=!1,this.gameWon=!1,this.gameLost=!1,this.cameraX=0,this.canvas&&(this.player.y=this.groundY-this.player.height,this.player.velocityY=0,this.player.isOnGround=!0,this.render())}static \u0275fac=function(n){return new(n||t)(A(yn),A(mn),A(gn),A(ke))};static \u0275cmp=Z({type:t,selectors:[["app-geometry-dash-challenge"]],viewQuery:function(n,i){if(n&1&&Rt(W5,5),n&2){let a;Ft(a=Nt())&&(i.canvasRef=a.first)}},inputs:{config:"config",isCompleted:"isCompleted",day:"day",levelId:"levelId"},outputs:{completed:"completed"},decls:19,vars:16,consts:[["gameCanvas",""],[1,"geometry-dash-container"],[1,"header","mb-4","text-center"],[1,"flex","items-center","justify-center","gap-3","mb-2"],[1,"text-xl","sm:text-2xl","font-bold","text-gold"],["class","bg-accent-green text-white text-xs px-2 py-1 rounded-full font-bold animate-in fade-in zoom-in flex items-center gap-1",4,"ngIf"],[1,"text-sm","sm:text-base","text-text-muted","mb-3"],[1,"canvas-container","mb-4","bg-bg","rounded-lg","overflow-hidden","border-2","border-gray-700","relative","mx-auto","w-full"],[1,"w-full","h-full",3,"click"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center","bg-black","bg-opacity-70","backdrop-blur-sm"],[1,"actions","flex","flex-col","sm:flex-row","justify-center","gap-3"],["type","button",1,"btn","btn-outline","w-full","sm:w-auto","px-8"],[1,"bg-accent-green","text-white","text-xs","px-2","py-1","rounded-full","font-bold","animate-in","fade-in","zoom-in","flex","items-center","gap-1"],[1,"w-3","h-3",3,"img","strokeWidth"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center","bg-black","bg-opacity-70","backdrop-blur-sm","sm:hidden"],[1,"text-center","space-y-4","p-4"],[1,"text-2xl","mb-4"],[1,"text-text","text-lg","font-bold","mb-6"],["class","hidden sm:flex absolute inset-0 flex-col items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm",4,"ngIf"],[1,"hidden","sm:flex","absolute","inset-0","flex-col","items-center","justify-center","bg-black","bg-opacity-70","backdrop-blur-sm"],[1,"text-center","space-y-6","p-8"],[1,"text-5xl","lg:text-6xl","mb-4"],[1,"text-text","text-2xl","lg:text-3xl","font-bold","mb-6"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-6xl","mb-4"],[1,"text-text","text-2xl","sm:text-3xl","font-bold","mb-6"],["type","button",1,"btn","btn-outline","px-12","py-4","text-lg","hover:scale-105","transition-transform",3,"click"],[1,"sm:hidden","mb-4","flex-1","flex"],["type","button",1,"btn","btn-secondary","w-full","h-full","min-h-[200px]","text-2xl","font-bold"],["type","button",1,"btn","btn-primary","w-full","h-full","min-h-[200px]","text-2xl","font-bold"],[1,"hidden","sm:block","text-center","mb-4","p-4","bg-surface","rounded-lg","border","border-gray-600"],[1,"text-text-muted","text-sm"],["type","button",1,"btn","btn-secondary","w-full","h-full","min-h-[200px]","text-2xl","font-bold",3,"click"],["type","button",1,"btn","btn-primary","w-full","h-full","min-h-[200px]","text-2xl","font-bold",3,"click"],["type","button",1,"btn","btn-primary","sm:hidden","w-full","min-h-[200px]","text-2xl","font-bold",3,"click"],["type","button",1,"hidden","sm:block","btn","btn-primary","w-auto","px-8",3,"click"],["type","button",1,"btn","btn-outline","w-full","sm:w-auto","px-8",3,"click"]],template:function(n,i){if(n&1){let a=T();p(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),y(4),k(5,"translate"),h(),K(6,U5,4,5,"span",5),h(),p(7,"p",6),y(8),k(9,"translate"),h()(),p(10,"div",7)(11,"canvas",8,0),w("click",function(){return S(a),_(i.handleCanvasTap())}),h(),b(13,$5,8,4),b(14,K5,10,6,"div",9),h(),b(15,Q5,5,2),p(16,"div",10),b(17,J5,6,6),b(18,e3,3,3,"button",11),h()()}n&2&&(d(4),g(" \u{1F385} ",v(5,12,"challenges.geometryDash.title")," \u{1F385} "),d(2),x("ngIf",i.isCompleted),d(2),g(" ",v(9,14,"challenges.geometryDash.instruction")," "),d(3),le("cursor-pointer",!i.gameStarted)("cursor-not-allowed",i.gameWon||i.gameLost),d(2),I(i.gameLost?13:-1),d(),I(i.gameWon&&!i.isCompleted?14:-1),d(),I(i.gameStarted?15:-1),d(2),I(!i.gameStarted&&!i.gameWon&&!i.gameLost?17:-1),d(),I(i.isCompleted&&i.gameWon?18:-1))},dependencies:[X,me,J,se,oe,Q],styles:[".geometry-dash-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto}.canvas-container[_ngcontent-%COMP%]{position:relative;aspect-ratio:16/9}.canvas-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:block;touch-action:none}.controls-info[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}"]})};var n3=t=>({moves:t});function i3(t,e){if(t&1&&(p(0,"span",28),L(1,"lucide-icon",29),y(2),k(3,"translate"),h()),t&2){let n=C();d(),x("img",n.Check)("strokeWidth",4),d(),g(" ",v(3,3,"calendar.completed")," ")}}function a3(t,e){if(t&1&&(p(0,"span",30),L(1,"lucide-icon",29),h()),t&2){let n=C();d(),x("img",n.Check)("strokeWidth",4)}}function r3(t,e){if(t&1&&L(0,"div",33),t&2){let n=e.index,i=C().index,a=C();x("ngClass",a.getCellClass(i,n))}}function o3(t,e){if(t&1&&(p(0,"div",31),K(1,r3,1,1,"div",32),h()),t&2){let n=e.$implicit;d(),x("ngForOf",n)}}function s3(t,e){if(t&1){let n=T();Na(0),p(1,"button",34),k(2,"translate"),w("click",function(){S(n);let a=C();return _(a.undo())}),L(3,"lucide-icon",35),h(),p(4,"button",36),k(5,"translate"),w("click",function(){S(n);let a=C();return _(a.reset())}),L(6,"lucide-icon",35),h(),Oa()}if(t&2){let n=C();d(),x("title",Ot(v(2,7,"challenges.sokoban.undo")))("disabled",n.moveHistory.length<=1),d(2),x("img",n.Undo2),d(),x("title",Ot(v(5,9,"ui.reset"))),d(2),x("img",n.RotateCcw)}}function c3(t,e){if(t&1){let n=T();p(0,"button",37),w("click",function(){S(n);let a=C();return _(a.reset())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" ",v(2,1,"ui.playAgain")," "))}function l3(t,e){if(t&1){let n=T();p(0,"div",38)(1,"div",39)(2,"h3",40),y(3),k(4,"translate"),h(),p(5,"p",41),y(6),k(7,"translate"),h(),p(8,"button",37),w("click",function(){S(n);let a=C();return _(a.completed.emit())}),y(9),k(10,"translate"),h()()()}if(t&2){let n=C();d(3),g(" ",v(4,3,"challenges.sokoban.success")," "),d(3),g(" ",fe(7,5,"challenges.sokoban.completedIn",Vt(10,n3,n.moveCount))," "),d(3),g(" ",v(10,8,"ui.continue")," ")}}var Bs=class t{constructor(e){this.calendarStateService=e}ArrowUp=ws;ArrowDown=Cs;ArrowLeft=qi;ArrowRight=xs;RotateCcw=Ds;Undo2=bp;Check=ue;challengeData;isCompleted=!1;day;completed=new W;grid=[];playerPos={row:0,col:0};boxPositions=[];targetPositions=[];moveHistory=[];moveCount=0;isWon=!1;savedMoves=0;ngOnInit(){if(this.challengeData&&(this.initializeGame(),this.isCompleted&&this.day)){let e=this.calendarStateService.getGameStats(this.day);e&&e.moves!==void 0&&(this.savedMoves=e.moves,this.moveCount=this.savedMoves),this.isWon=!0}}ngOnDestroy(){}initializeGame(){if(!this.challengeData||!this.challengeData.level)return;let e=this.challengeData.level;this.grid=[],this.boxPositions=[],this.targetPositions=[];let n=[];for(let i=0;i<e.length;i++){let a=[];for(let r=0;r<e[i].length;r++)switch(e[i][r][0]){case"W":a.push("wall");break;case"B":a.push("empty"),n.push({row:i,col:r});break;case"P":a.push("empty"),this.playerPos={row:i,col:r};break;case"G":a.push("empty"),this.targetPositions.push({row:i,col:r});break;case" ":default:a.push("empty");break}this.grid.push(a)}this.boxPositions=n.map(i=>H({},i)),this.moveHistory=[],this.moveCount=0,this.isWon=!1,this.saveState()}handleKeyPress(e){if(this.isWon)return;let n=e.key.toLowerCase(),i=null;n==="arrowup"||n==="w"?i="up":n==="arrowdown"||n==="s"?i="down":n==="arrowleft"||n==="a"?i="left":(n==="arrowright"||n==="d")&&(i="right"),i&&(e.preventDefault(),this.move(i))}move(e){let n=this.getNewPosition(this.playerPos,e);if(!this.isValidPosition(n))return;let i=this.boxPositions.findIndex(a=>a.row===n.row&&a.col===n.col);if(i!==-1){let a=this.getNewPosition(n,e);if(!this.isValidPosition(a)||this.hasBox(a))return;this.boxPositions[i]=a}this.playerPos=n,this.moveCount++,this.saveState(),this.checkWinCondition()}getNewPosition(e,n){let i=H({},e);return n==="up"?i.row--:n==="down"?i.row++:n==="left"?i.col--:n==="right"&&i.col++,i}isValidPosition(e){return e.row<0||e.row>=this.grid.length||e.col<0||e.col>=this.grid[0].length?!1:this.grid[e.row][e.col]!=="wall"}hasBox(e){return this.boxPositions.some(n=>n.row===e.row&&n.col===e.col)}isTarget(e){return this.targetPositions.some(n=>n.row===e.row&&n.col===e.col)}isPlayerPosition(e,n){return this.playerPos.row===e&&this.playerPos.col===n}getBoxAt(e,n){return this.boxPositions.find(i=>i.row===e&&i.col===n)}getCellClass(e,n){let i=this.grid[e][n],a=this.getBoxAt(e,n),r=this.isPlayerPosition(e,n),o=this.isTarget({row:e,col:n});return i==="wall"?"wall":r&&o?"player-on-target":r?"player":a&&o?"box-on-target":a?"box":o?"target":"empty"}saveState(){this.moveHistory.push({playerPos:H({},this.playerPos),boxPositions:this.boxPositions.map(e=>H({},e))})}undo(){if(this.moveHistory.length<=1)return;this.moveHistory.pop();let e=this.moveHistory[this.moveHistory.length-1];this.playerPos=H({},e.playerPos),this.boxPositions=e.boxPositions.map(n=>H({},n)),this.moveCount=Math.max(0,this.moveCount-1)}checkWinCondition(){this.boxPositions.every(n=>this.targetPositions.some(i=>i.row===n.row&&i.col===n.col))&&(this.isWon=!0,this.day&&(this.calendarStateService.saveGameStats(this.day,{moves:this.moveCount}),this.savedMoves=this.moveCount),this.isCompleted||this.completed.emit())}reset(){this.initializeGame()}static \u0275fac=function(n){return new(n||t)(A(ke))};static \u0275cmp=Z({type:t,selectors:[["app-sokoban-challenge"]],hostBindings:function(n,i){n&1&&w("keydown",function(r){return i.handleKeyPress(r)},_i)},inputs:{challengeData:"challengeData",isCompleted:"isCompleted",day:"day"},outputs:{completed:"completed"},decls:42,vars:27,consts:[[1,"flex","flex-col","items-center","gap-2","sm:gap-4","p-2","w-full","h-full","max-h-full","overflow-hidden"],[1,"text-center","shrink-0","landscape:hidden","lg:landscape:block"],[1,"flex","items-center","justify-center","gap-3","mb-1"],[1,"text-xl","sm:text-2xl","font-bold","text-gold"],["class","bg-accent-green text-white text-xs px-2 py-1 rounded-full font-bold animate-in fade-in zoom-in flex items-center gap-1",4,"ngIf"],[1,"text-text-muted","text-xs","sm:text-base","hidden","sm:block"],[1,"text-center","shrink-0","hidden","landscape:block","lg:landscape:hidden"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-lg","font-bold","text-gold"],["class","bg-accent-green text-white text-[10px] px-1.5 py-0.5 rounded-full font-bold flex items-center gap-1",4,"ngIf"],[1,"flex","flex-col","landscape:flex-row","lg:flex-row","items-center","justify-center","gap-2","sm:gap-4","w-full","flex-1","min-h-0"],[1,"relative","flex","items-center","justify-center","max-w-full","max-h-full","overflow-auto","p-1","sm:p-2"],[1,"sokoban-grid","bg-surface","border-2","border-gray-700","rounded-lg","p-1","sm:p-2"],["class","sokoban-row flex",4,"ngFor","ngForOf"],[1,"flex","flex-col","landscape:justify-center","gap-2","sm:gap-4","shrink-0","z-10"],[1,"bg-surface","border","border-gray-700","rounded-lg","p-2","sm:p-3","min-w-[100px]","sm:min-w-[120px]","shadow-lg"],[1,"text-xs","text-text-muted","text-center","mb-1"],[1,"text-xl","sm:text-2xl","font-bold","text-gold","text-center"],[1,"grid","grid-cols-3","gap-1","sm:gap-2","p-1","sm:p-2","bg-surface/50","rounded-xl","border","border-gray-700/50","lg:hidden"],["aria-label","Move Up",1,"btn","btn-secondary","p-2","sm:p-3","landscape:p-1.5","flex","items-center","justify-center","active:scale-95","transition-transform","touch-manipulation",3,"click","disabled"],[1,"w-6","h-6","landscape:w-5","landscape:h-5",3,"img"],["aria-label","Move Left",1,"btn","btn-secondary","p-2","sm:p-3","landscape:p-1.5","flex","items-center","justify-center","active:scale-95","transition-transform","touch-manipulation",3,"click","disabled"],["aria-label","Move Down",1,"btn","btn-secondary","p-2","sm:p-3","landscape:p-1.5","flex","items-center","justify-center","active:scale-95","transition-transform","touch-manipulation",3,"click","disabled"],["aria-label","Move Right",1,"btn","btn-secondary","p-2","sm:p-3","landscape:p-1.5","flex","items-center","justify-center","active:scale-95","transition-transform","touch-manipulation",3,"click","disabled"],[1,"flex","gap-2","justify-center"],[4,"ngIf"],["class","btn btn-primary w-full",3,"click",4,"ngIf"],["class","absolute inset-0 flex items-center justify-center bg-black/80 z-50 backdrop-blur-sm",4,"ngIf"],[1,"bg-accent-green","text-white","text-xs","px-2","py-1","rounded-full","font-bold","animate-in","fade-in","zoom-in","flex","items-center","gap-1"],[1,"w-3","h-3",3,"img","strokeWidth"],[1,"bg-accent-green","text-white","text-[10px]","px-1.5","py-0.5","rounded-full","font-bold","flex","items-center","gap-1"],[1,"sokoban-row","flex"],["class","sokoban-cell",3,"ngClass",4,"ngFor","ngForOf"],[1,"sokoban-cell",3,"ngClass"],[1,"btn","btn-outline","p-2","flex-1","flex","justify-center",3,"click","disabled","title"],[1,"w-5","h-5",3,"img"],[1,"btn","btn-outline","p-2","flex-1","flex","justify-center",3,"click","title"],[1,"btn","btn-primary","w-full",3,"click"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-black/80","z-50","backdrop-blur-sm"],[1,"bg-surface","border-2","border-accent-green","rounded-xl","p-8","text-center","shadow-2xl","transform","scale-100","animate-in","fade-in","zoom-in","duration-300"],[1,"text-3xl","font-bold","text-accent-green","mb-2"],[1,"text-text-muted","mb-6"]],template:function(n,i){n&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4),k(5,"translate"),h(),K(6,i3,4,5,"span",4),h(),p(7,"p",5),y(8),k(9,"translate"),h()(),p(10,"div",6)(11,"div",7)(12,"h2",8),y(13),k(14,"translate"),h(),K(15,a3,2,2,"span",9),h()(),p(16,"div",10)(17,"div",11)(18,"div",12),K(19,o3,2,1,"div",13),h()(),p(20,"div",14)(21,"div",15)(22,"div",16),y(23),k(24,"translate"),h(),p(25,"div",17),y(26),h()(),p(27,"div",18),L(28,"div"),p(29,"button",19),w("click",function(){return i.move("up")}),L(30,"lucide-icon",20),h(),L(31,"div"),p(32,"button",21),w("click",function(){return i.move("left")}),L(33,"lucide-icon",20),h(),p(34,"button",22),w("click",function(){return i.move("down")}),L(35,"lucide-icon",20),h(),p(36,"button",23),w("click",function(){return i.move("right")}),L(37,"lucide-icon",20),h()(),p(38,"div",24),K(39,s3,7,11,"ng-container",25)(40,c3,3,3,"button",26),h()()(),K(41,l3,11,12,"div",27),h()),n&2&&(d(4),g(" \u{1F381} ",v(5,19,"challenges.sokoban.title")," \u{1F381} "),d(2),x("ngIf",i.isCompleted),d(2),g(" ",v(9,21,"challenges.sokoban.instruction")," "),d(5),g(" \u{1F381} ",v(14,23,"challenges.sokoban.title")," \u{1F381} "),d(2),x("ngIf",i.isCompleted),d(4),x("ngForOf",i.grid),d(4),g(" ",v(24,25,"challenges.sokoban.moves")," "),d(3),de(i.moveCount),d(3),x("disabled",i.isWon),d(),x("img",i.ArrowUp),d(2),x("disabled",i.isWon),d(),x("img",i.ArrowLeft),d(),x("disabled",i.isWon),d(),x("img",i.ArrowDown),d(),x("disabled",i.isWon),d(),x("img",i.ArrowRight),d(2),x("ngIf",!i.isWon),d(),x("ngIf",i.isWon),d(),x("ngIf",i.isWon&&!i.isCompleted))},dependencies:[X,Xn,Fi,me,J,se,oe,Q],styles:['.sokoban-grid[_ngcontent-%COMP%]{display:inline-block;touch-action:none;-webkit-user-select:none;user-select:none}.sokoban-row[_ngcontent-%COMP%]{display:flex}.sokoban-cell[_ngcontent-%COMP%]{width:clamp(15px,4.5vmin,40px);height:clamp(15px,4.5vmin,40px);position:relative;transition:all .15s ease}.sokoban-cell.wall[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4a5568,#2d3748);border:1px solid #1a202c;box-shadow:inset 0 1px 3px #00000080}.sokoban-cell.empty[_ngcontent-%COMP%]{background:#0f1f33;border:1px solid #1a2942}.sokoban-cell.target[_ngcontent-%COMP%]{background:#0f1f33;border:1px solid #1a2942;position:relative}.sokoban-cell.target[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:80%;background-image:url("./media/tree-SJUGYVMN.png");background-size:contain;background-repeat:no-repeat;background-position:center;opacity:.6}.sokoban-cell.player[_ngcontent-%COMP%]{background:#0f1f33;border:1px solid #1a2942;position:relative}.sokoban-cell.player[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:85%;height:85%;background-image:url("./media/player-OY4MTEBZ.png");background-size:contain;background-repeat:no-repeat;background-position:center}.sokoban-cell.player-on-target[_ngcontent-%COMP%]{background:#0f1f33;border:1px solid #1a2942;position:relative}.sokoban-cell.player-on-target[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:80%;background-image:url("./media/tree-SJUGYVMN.png");background-size:contain;background-repeat:no-repeat;background-position:center;opacity:.6;z-index:0}.sokoban-cell.player-on-target[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:85%;height:85%;background-image:url("./media/player-OY4MTEBZ.png");background-size:contain;background-repeat:no-repeat;background-position:center;z-index:1}.sokoban-cell.box[_ngcontent-%COMP%]{background:#0f1f33;border:1px solid #1a2942;position:relative}.sokoban-cell.box[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:80%;background-image:url("./media/gift-6KDV6DVY.png");background-size:contain;background-repeat:no-repeat;background-position:center}.sokoban-cell.box-on-target[_ngcontent-%COMP%]{background:#0f1f33;border:2px solid var(--color-accent-green);box-shadow:0 0 10px #2a9d8f80;position:relative}.sokoban-cell.box-on-target[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:80%;background-image:url("./media/tree-completed-FDWSX2GY.png");background-size:contain;background-repeat:no-repeat;background-position:center;z-index:0}.sokoban-cell.box-on-target[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:80%;background-image:url("./media/gift-6KDV6DVY.png");background-size:contain;background-repeat:no-repeat;background-position:center;z-index:1;filter:brightness(1.2)}']})};var d3=["gameCanvas"];function u3(t,e){if(t&1&&(p(0,"span",13),L(1,"lucide-icon",14),y(2),k(3,"translate"),h()),t&2){let n=C();d(),x("img",n.Check)("strokeWidth",4),d(),g(" ",v(3,3,"calendar.completed")," ")}}function h3(t,e){t&1&&(p(0,"p",6),y(1),k(2,"translate"),h()),t&2&&(d(),g(" ",v(2,1,"challenges.flappySleigh.endless.tagline")," "))}function p3(t,e){t&1&&(p(0,"p",6),y(1),k(2,"translate"),h()),t&2&&(d(),g(" ",v(2,1,"challenges.flappySleigh.instruction")," "))}function f3(t,e){if(t&1&&(y(0),k(1,"number")),t&2){let n=C(2);g(" ",fe(1,1,n.lastDistance,"1.0-0")," m ")}}function y3(t,e){t&1&&y(0," -- ")}function m3(t,e){if(t&1&&y(0),t&2){let n=C(2);g(" ",n.lastTimeFormatted," ")}}function g3(t,e){t&1&&y(0," -- ")}function k3(t,e){if(t&1&&(p(0,"div",7)(1,"div",15)(2,"p",16),y(3),k(4,"translate"),h(),p(5,"p",17),y(6),k(7,"number"),h()(),p(8,"div",15)(9,"p",16),y(10),k(11,"translate"),h(),p(12,"p",17),y(13),h()(),p(14,"div",15)(15,"p",16),y(16),k(17,"translate"),h(),p(18,"p",17),b(19,f3,2,4)(20,y3,1,0),h()(),p(21,"div",15)(22,"p",16),y(23),k(24,"translate"),h(),p(25,"p",17),b(26,m3,1,1)(27,g3,1,0),h()()()),t&2){let n=C();d(3),g(" ",v(4,8,"challenges.flappySleigh.endless.bestDistance")," "),d(3),g("",fe(7,10,n.bestDistance,"1.0-0")," m"),d(4),g(" ",v(11,13,"challenges.flappySleigh.endless.bestTime")," "),d(3),g(" ",n.bestTimeFormatted," "),d(3),g(" ",v(17,15,"challenges.flappySleigh.endless.lastDistance")," "),d(3),I(n.lastDistance>0?19:20),d(4),g(" ",v(24,17,"challenges.flappySleigh.endless.lastTime")," "),d(3),I(n.lastTime>0?26:27)}}function v3(t,e){t&1&&(y(0),k(1,"translate")),t&2&&g(" ",v(1,1,"challenges.flappySleigh.endless.gameLost")," ")}function M3(t,e){t&1&&(y(0),k(1,"translate")),t&2&&g(" ",v(1,1,"challenges.flappySleigh.crashed")," ")}function C3(t,e){if(t&1&&(p(0,"div",22)(1,"p"),y(2),k(3,"translate"),p(4,"span",24),y(5),k(6,"number"),h()(),p(7,"p"),y(8),k(9,"translate"),p(10,"span",24),y(11),h()()()),t&2){let n=C(2);d(2),g(" ",v(3,4,"challenges.flappySleigh.endless.lastDistance"),": "),d(3),g("",fe(6,6,n.lastDistance,"1.0-0")," m"),d(3),g(" ",v(9,9,"challenges.flappySleigh.endless.lastTime"),": "),d(3),de(n.lastTimeFormatted)}}function x3(t,e){t&1&&(y(0),k(1,"translate")),t&2&&g(" ",v(1,1,"challenges.flappySleigh.endless.gameLost")," ")}function w3(t,e){t&1&&(y(0),k(1,"translate")),t&2&&g(" ",v(1,1,"challenges.flappySleigh.crashed")," ")}function b3(t,e){if(t&1&&(p(0,"div",29)(1,"p"),y(2),k(3,"translate"),p(4,"span",24),y(5),k(6,"number"),h()(),p(7,"p"),y(8),k(9,"translate"),p(10,"span",24),y(11),h()()()),t&2){let n=C(3);d(2),g(" ",v(3,4,"challenges.flappySleigh.endless.lastDistance"),": "),d(3),g("",fe(6,6,n.lastDistance,"1.0-0")," m"),d(3),g(" ",v(9,9,"challenges.flappySleigh.endless.lastTime"),": "),d(3),de(n.lastTimeFormatted)}}function I3(t,e){if(t&1){let n=T();p(0,"div",25)(1,"div",26)(2,"div",27),y(3,"\u{1F4A5}"),h(),p(4,"p",28),b(5,x3,2,3)(6,w3,2,3),h(),b(7,b3,12,11,"div",29),p(8,"button",30),w("click",function(){S(n);let a=C(2);return _(a.reset())}),y(9),k(10,"translate"),h()()()}if(t&2){let n=C(2);d(5),I(n.isInfiniteMode?5:6),d(2),I(n.isInfiniteMode?7:-1),d(2),g(" ",v(10,3,"ui.tryAgain")," ")}}function D3(t,e){if(t&1&&(p(0,"div",18)(1,"div",19)(2,"div",20),y(3,"\u{1F4A5}"),h(),p(4,"p",21),b(5,v3,2,3)(6,M3,2,3),h(),b(7,C3,12,11,"div",22),h()(),K(8,I3,11,5,"div",23)),t&2){let n=C();d(5),I(n.isInfiniteMode?5:6),d(2),I(n.isInfiniteMode?7:-1),d(),x("ngIf",n.gameLost)}}function S3(t,e){if(t&1){let n=T();p(0,"div",10)(1,"div",26)(2,"div",31),y(3,"\u{1F384}\u{1F389}"),h(),p(4,"p",32),y(5),k(6,"translate"),h(),p(7,"button",33),w("click",function(){S(n);let a=C();return _(a.reset())}),y(8),k(9,"translate"),h()()()}t&2&&(d(5),g(" ",v(6,2,"challenges.flappySleigh.victory")," "),d(3),g(" ",v(9,4,"ui.playAgain")," "))}function _3(t,e){if(t&1){let n=T();p(0,"button",39),w("click",function(){S(n);let a=C(2);return _(a.reset())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" \u{1F4A5} ",v(2,1,"ui.tryAgain")," \u{1F4A5} "))}function L3(t,e){if(t&1){let n=T();p(0,"button",40),w("click",function(){S(n);let a=C(2);return _(a.flap())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" \u{1F6F7} ",v(2,1,"challenges.flappySleigh.flapButton")," \u{1F6F7} "))}function E3(t,e){t&1&&(p(0,"p",38),y(1),k(2,"translate"),h()),t&2&&(d(),g(" ",v(2,1,"challenges.flappySleigh.controlsDesktop")," "))}function T3(t,e){if(t&1&&(p(0,"div",34),b(1,_3,3,3,"button",35)(2,L3,3,3,"button",36),h(),p(3,"div",37),b(4,E3,3,3,"p",38),h()),t&2){let n=C();d(),I(n.gameLost?1:n.gameWon?-1:2),d(3),I(n.gameWon?-1:4)}}function A3(t,e){if(t&1){let n=T();p(0,"button",41),w("click",function(){S(n);let a=C();return _(a.startGame())}),y(1),k(2,"translate"),h(),p(3,"button",42),w("click",function(){S(n);let a=C();return _(a.startGame())}),y(4),k(5,"translate"),h()}t&2&&(d(),g(" \u{1F3AE} ",v(2,2,"challenges.flappySleigh.start")," \u{1F3AE} "),d(3),g(" ",v(5,4,"challenges.flappySleigh.start")," "))}function P3(t,e){if(t&1){let n=T();p(0,"button",43),w("click",function(){S(n);let a=C();return _(a.reset())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" ",v(2,1,"ui.playAgain")," "))}var zs=class t{constructor(e,n,i,a){this.gameService=e;this.keyboardService=n;this.spriteService=i;this.stateService=a}config;isCompleted=!1;day;levelId;completed=new W;canvasRef;Check=ue;canvas;ctx;gameLoopId;playerSprite=null;treeSprite=null;isMobile=!1;scale=1;mobileOffset=0;playableHeight=0;wasSpacePressed=!1;isInfiniteMode=!1;survivalTime=0;furthestDistance=0;nextObstacleX=0;INFINITE_LOOKAHEAD=4e3;INFINITE_PRUNE_OFFSET=200;bestDistance=0;bestTime=0;bestTimeFormatted="00:00.000";lastDistance=0;lastTime=0;lastTimeFormatted="00:00.000";player={x:100,y:300,width:50,height:35,velocityY:0,rotation:0};cameraX=0;gameStarted=!1;gameWon=!1;gameLost=!1;obstacles=[];ngOnChanges(e){}ngOnInit(){if(console.log("[Flappy] ngOnInit. levelId:",this.levelId,"day:",this.day,"isInfinite:",this.isInfiniteMode),this.isCompleted&&(this.gameWon=!0),this.keyboardService.init(),this.config||(this.config={levelLength:3e3,scrollSpeed:200,flapForce:350,gravity:1e3,gapSize:180,obstacleFrequency:350}),this.isInfiniteMode=!!this.config.infiniteMode,this.isInfiniteMode&&(this.gameWon=!1,this.lastDistance=0,this.lastTime=0,this.lastTimeFormatted="00:00.000",this.survivalTime=0,this.furthestDistance=0),this.isInfiniteMode){let e=this.getStorageKey();if(e){let n=this.stateService.getGameStats(e);n&&(this.bestDistance=n.bestDistance||0,this.bestTime=n.bestTime||0,this.bestTimeFormatted=this.formatTime(this.bestTime))}}}ngAfterViewInit(){this.canvasRef&&setTimeout(()=>{this.initCanvas(this.canvasRef.nativeElement),Promise.all([this.spriteService.loadSprite("sleigh","/assets/sprites/sleigh.png"),this.spriteService.loadSprite("tree","/assets/sprites/tree.png")]).then(([e,n])=>{this.playerSprite=e,this.treeSprite=n,this.render()}).catch(()=>{this.render()})},50),window.addEventListener("resize",this.onResize.bind(this))}ngOnDestroy(){this.stopGame(),this.keyboardService.destroy(),window.removeEventListener("resize",this.onResize.bind(this))}onResize(){this.canvasRef&&(this.initCanvas(this.canvasRef.nativeElement),this.gameStarted||this.render())}initCanvas(e){this.canvas=e;let n=e.getContext("2d");if(!n)return;this.ctx=n;let i=e.parentElement.clientWidth;this.isMobile=i<640,this.scale=this.isMobile?.5:1;let a=.5625;e.width=i,e.height=i*a,this.mobileOffset=this.isMobile?40:0,this.playableHeight=e.height/this.scale-this.mobileOffset,this.playableHeight<=0&&(this.playableHeight=e.height/this.scale),this.gameStarted||this.resetPlayer(),this.generateObstacles(),this.gameService.scaleCanvasForRetina(e)}resetPlayer(){let e=this.playableHeight||(this.canvas?this.canvas.height/this.scale:400);this.player.y=e/2,this.player.velocityY=0,this.player.rotation=0,this.player.x=this.isMobile?60:100}generateObstacles(){if(this.obstacles=[],!this.canvas)return;let e=500,n=this.playableHeight||this.canvas.height/this.scale,i=this.isInfiniteMode?this.cameraX+this.INFINITE_LOOKAHEAD:this.config.levelLength-300,a=e;for(;a<i;){this.obstacles.push(this.createObstacle(a,n));let r=this.isInfiniteMode?this.getInfiniteSpacing():this.config.obstacleFrequency;a+=r}this.nextObstacleX=a}createObstacle(e,n){let a=Math.max(n-this.config.gapSize-30,80),r=30+Math.random()*(a-30);return{x:e,topHeight:r,bottomY:r+this.config.gapSize,width:40}}getInfiniteSpacing(){let e=this.config.obstacleFrequency,n=e*.3,i=e+(Math.random()*2-1)*n;return Math.max(220,i)}extendInfiniteObstacles(){if(!this.canvas)return;let e=this.playableHeight||this.canvas.height/this.scale,n=this.cameraX+this.INFINITE_LOOKAHEAD;for(;this.nextObstacleX<n;)this.obstacles.push(this.createObstacle(this.nextObstacleX,e)),this.nextObstacleX+=this.getInfiniteSpacing();let i=this.cameraX-this.INFINITE_PRUNE_OFFSET;this.obstacles=this.obstacles.filter(a=>a.x>i)}startGame(){this.ctx&&(this.gameStarted=!0,this.gameWon=!1,this.gameLost=!1,this.cameraX=0,this.survivalTime=0,this.furthestDistance=0,this.resetPlayer(),this.generateObstacles(),this.flap(),this.gameLoopId=this.gameService.startGameLoop(e=>{this.update(e),this.render()}))}stopGame(){this.gameLoopId!==void 0&&(this.gameService.stopGameLoop(this.gameLoopId),this.gameLoopId=void 0)}flap(){this.gameLost||this.gameWon||(this.player.velocityY=-this.config.flapForce)}handleCanvasTap(){this.gameStarted?this.flap():this.startGame()}reset(){this.stopGame(),this.gameStarted=!1,this.gameWon=!1,this.gameLost=!1,this.cameraX=0,this.survivalTime=0,this.furthestDistance=0,this.canvas&&(this.resetPlayer(),this.render())}update(e){if(!this.gameStarted||this.gameWon||this.gameLost)return;this.isInfiniteMode&&(this.survivalTime+=e),this.cameraX+=this.config.scrollSpeed*e,this.isInfiniteMode&&(this.extendInfiniteObstacles(),this.furthestDistance=Math.max(this.furthestDistance,this.cameraX));let n=this.keyboardService.isSpacePressed()||this.keyboardService.isUpPressed();n&&!this.wasSpacePressed&&this.flap(),this.wasSpacePressed=n,this.player.velocityY+=this.config.gravity*e,this.player.y+=this.player.velocityY*e,this.player.rotation=Math.min(Math.PI/4,Math.max(-Math.PI/4,this.player.velocityY*.1*Math.PI/180));let i=this.playableHeight||this.canvas.height/this.scale;if(this.player.y+this.player.height>i||this.player.y<0){this.crash();return}let a={x:this.player.x,y:this.player.y+5,width:this.player.width-10,height:this.player.height-10};for(let r of this.obstacles){let o=r.x-this.cameraX;if(o>-r.width&&o<this.canvas.width/this.scale){if(this.gameService.checkRectCollision(a,{x:o,y:0,width:r.width,height:r.topHeight})){this.crash();return}if(this.gameService.checkRectCollision(a,{x:o,y:r.bottomY,width:r.width,height:i-r.bottomY})){this.crash();return}}}!this.isInfiniteMode&&this.cameraX>=this.config.levelLength-200&&(this.gameWon=!0,this.stopGame(),setTimeout(()=>this.completed.emit(),500))}crash(){if(!this.gameLost){if(this.gameLost=!0,this.isInfiniteMode){let e=Math.floor(this.furthestDistance/100),n=this.survivalTime;this.lastDistance=e,this.lastTime=n,this.lastTimeFormatted=this.formatTime(n),e>this.bestDistance&&(this.bestDistance=e),n>this.bestTime&&(this.bestTime=n,this.bestTimeFormatted=this.lastTimeFormatted);let i=this.getStorageKey();console.log("[Flappy] crash. Saving stats? Key:",i,"Stats:",{bestDistance:this.bestDistance,bestTime:this.bestTime}),i&&this.stateService.saveGameStats(i,{bestDistance:this.bestDistance,bestTime:this.bestTime})}this.stopGame()}}render(){if(!this.ctx||!this.canvas)return;this.ctx.fillStyle="#06121f",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.save(),this.ctx.scale(this.scale,this.scale);let e=this.isMobile?40:0;this.ctx.translate(0,e);let n=this.playableHeight||this.canvas.height/this.scale,i=this.ctx.createLinearGradient(0,0,0,n);i.addColorStop(0,"#1a2332"),i.addColorStop(1,"#06121f"),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,this.canvas.width/this.scale,n);for(let u of this.obstacles){let f=u.x-this.cameraX;f+u.width>0&&f<this.canvas.width/this.scale&&(this.drawCandyPipe(f,0,u.width,u.topHeight,!0),this.drawCandyPipe(f,u.bottomY,u.width,n-u.bottomY,!1))}if(!this.isInfiniteMode){let u=this.config.levelLength-180-this.cameraX;u>-100&&u<this.canvas.width/this.scale&&(this.treeSprite?this.ctx.drawImage(this.treeSprite,u,n/2-550/2,400,550):(this.ctx.fillStyle="#2a9d8f",this.ctx.fillRect(u,n/2-75,100,150)))}if(this.ctx.save(),this.ctx.translate(this.player.x+this.player.width/2,this.player.y+this.player.height/2),this.ctx.rotate(this.player.rotation),this.playerSprite?this.ctx.drawImage(this.playerSprite,-this.player.width/2,-this.player.height/2,this.player.width,this.player.height):(this.ctx.fillStyle="#e63946",this.ctx.fillRect(-this.player.width/2,-this.player.height/2,this.player.width,this.player.height)),this.ctx.restore(),this.ctx.restore(),this.isInfiniteMode){this.drawInfiniteHud();return}let a=Math.min(this.cameraX/(this.config.levelLength-200),1),r=this.isMobile?10:20,o=this.isMobile?350:20,s=this.canvas.width-r-o,c=10,l=this.isMobile?10:20;this.ctx.fillStyle="#102437",this.ctx.fillRect(r,l,s,c),this.ctx.fillStyle="#f4d35e",this.ctx.fillRect(r,l,s*a,c),this.ctx.strokeStyle="#ffffff",this.ctx.lineWidth=2,this.ctx.strokeRect(r,l,s,c)}drawInfiniteHud(){let e=this.formatTime(this.survivalTime),n=Math.max(0,Math.floor(this.cameraX/10)),i=Math.max(this.bestDistance,Math.floor(this.furthestDistance/10)),a=this.isMobile?10:20,r=this.canvas.width;this.ctx.fillStyle="rgba(0, 0, 0, 0.5)",this.ctx.fillRect(a,a,210,70),this.ctx.fillRect(r-170-a,a,170,50),this.ctx.fillStyle="#f4d35e",this.ctx.font=this.isMobile?"16px monospace":"20px monospace",this.ctx.textAlign="left",this.ctx.fillText(`\u23F1 ${e}`,a+10,a+(this.isMobile?24:30)),this.ctx.fillText(`\u{1F6F7} ${n}m`,a+10,a+(this.isMobile?50:56)),this.ctx.textAlign="right",this.ctx.fillText(`\u2B50 ${i}m`,r-a-10,a+(this.isMobile?36:42))}formatTime(e){if(!isFinite(e)||e<=0)return"00:00.000";let n=Math.floor(e/60),i=Math.floor(e%60),a=Math.floor(e%1*1e3);return`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}.${a.toString().padStart(3,"0")}`}resetEndlessStats(){this.lastDistance=0,this.lastTime=0,this.lastTimeFormatted="00:00.000",this.survivalTime=0,this.furthestDistance=0}getStorageKey(){return this.levelId?this.levelId:this.day&&this.day>0?this.day:null}drawCandyPipe(e,n,i,a,r){this.ctx.fillStyle="#e63946",this.ctx.fillRect(e,n,i,a),this.ctx.fillStyle="#ffffff",this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(e,n,i,a),this.ctx.clip();for(let c=-a;c<i+a;c+=20)this.ctx.beginPath(),this.ctx.moveTo(e+c,n),this.ctx.lineTo(e+c+10,n),this.ctx.lineTo(e+c-a+10,n+a),this.ctx.lineTo(e+c-a,n+a),this.ctx.fill();this.ctx.restore(),this.ctx.fillStyle="#e63946";let o=20,s=r?n+a-o:n;this.ctx.fillRect(e-5,s,i+10,o),this.ctx.strokeStyle="#ffffff",this.ctx.strokeRect(e-5,s,i+10,o)}static \u0275fac=function(n){return new(n||t)(A(yn),A(mn),A(gn),A(ke))};static \u0275cmp=Z({type:t,selectors:[["app-flappy-sleigh-challenge"]],viewQuery:function(n,i){if(n&1&&Rt(d3,5),n&2){let a;Ft(a=Nt())&&(i.canvasRef=a.first)}},inputs:{config:"config",isCompleted:"isCompleted",day:"day",levelId:"levelId"},outputs:{completed:"completed"},features:[wt],decls:19,vars:15,consts:[["gameCanvas",""],[1,"flappy-sleigh-container"],[1,"header","mb-4","text-center"],[1,"flex","items-center","justify-center","gap-3","mb-2"],[1,"text-xl","sm:text-2xl","font-bold","text-gold"],["class","bg-accent-green text-white text-xs px-2 py-1 rounded-full font-bold animate-in fade-in zoom-in flex items-center gap-1",4,"ngIf"],[1,"text-sm","sm:text-base","text-text-muted","mb-3"],[1,"mb-4","grid","grid-cols-1","sm:grid-cols-2","gap-3"],[1,"canvas-container","mb-4","bg-bg","rounded-lg","overflow-hidden","border-2","border-gray-700","relative","mx-auto","w-full"],[1,"w-full","h-full",3,"click"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center","bg-black","bg-opacity-70","backdrop-blur-sm"],[1,"actions","flex","flex-col","sm:flex-row","justify-center","gap-3"],["type","button",1,"btn","btn-outline","w-full","sm:w-auto","px-8"],[1,"bg-accent-green","text-white","text-xs","px-2","py-1","rounded-full","font-bold","animate-in","fade-in","zoom-in","flex","items-center","gap-1"],[1,"w-3","h-3",3,"img","strokeWidth"],[1,"rounded-lg","border","border-gray-700","bg-surface/70","p-3","text-left"],[1,"text-xs","uppercase","tracking-wide","text-text-muted"],[1,"text-xl","font-bold","text-gold"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center","bg-black","bg-opacity-70","backdrop-blur-sm","sm:hidden"],[1,"text-center","space-y-4","p-4"],[1,"text-2xl","mb-4"],[1,"text-text","text-lg","font-bold","mb-6"],[1,"text-text","text-sm","space-y-1"],["class","hidden sm:flex absolute inset-0 flex-col items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm",4,"ngIf"],[1,"font-semibold"],[1,"hidden","sm:flex","absolute","inset-0","flex-col","items-center","justify-center","bg-black","bg-opacity-70","backdrop-blur-sm"],[1,"text-center","space-y-6","p-8"],[1,"text-5xl","lg:text-6xl","mb-4"],[1,"text-text","text-2xl","lg:text-3xl","font-bold","mb-6"],[1,"text-text","text-base","space-y-1"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-6xl","mb-4"],[1,"text-text","text-2xl","sm:text-3xl","font-bold","mb-6"],["type","button",1,"btn","btn-outline","px-12","py-4","text-lg","hover:scale-105","transition-transform",3,"click"],[1,"sm:hidden","mb-4","flex-1","flex"],["type","button",1,"btn","btn-secondary","w-full","h-full","min-h-[200px]","text-2xl","font-bold"],["type","button",1,"btn","btn-primary","w-full","h-full","min-h-[200px]","text-2xl","font-bold"],[1,"hidden","sm:block","text-center","mb-4","p-4","bg-surface","rounded-lg","border","border-gray-600"],[1,"text-text-muted","text-sm"],["type","button",1,"btn","btn-secondary","w-full","h-full","min-h-[200px]","text-2xl","font-bold",3,"click"],["type","button",1,"btn","btn-primary","w-full","h-full","min-h-[200px]","text-2xl","font-bold",3,"click"],["type","button",1,"btn","btn-primary","sm:hidden","w-full","min-h-[200px]","text-2xl","font-bold",3,"click"],["type","button",1,"hidden","sm:block","btn","btn-primary","w-auto","px-8",3,"click"],["type","button",1,"btn","btn-outline","w-full","sm:w-auto","px-8",3,"click"]],template:function(n,i){if(n&1){let a=T();p(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),y(4),k(5,"translate"),h(),K(6,u3,4,5,"span",5),h(),b(7,h3,3,3,"p",6)(8,p3,3,3,"p",6),h(),b(9,k3,28,19,"div",7),p(10,"div",8)(11,"canvas",9,0),w("click",function(){return S(a),_(i.handleCanvasTap())}),h(),b(13,D3,9,3),b(14,S3,10,6,"div",10),h(),b(15,T3,5,2),p(16,"div",11),b(17,A3,6,6),b(18,P3,3,3,"button",12),h()()}n&2&&(d(4),g(" \u{1F385} ",v(5,13,"challenges.flappySleigh.title")," \u{1F385} "),d(2),x("ngIf",i.isCompleted),d(),I(i.isInfiniteMode?7:8),d(2),I(i.isInfiniteMode?9:-1),d(2),le("cursor-pointer",!i.gameStarted)("cursor-not-allowed",i.gameWon||i.gameLost),d(2),I(i.gameLost?13:-1),d(),I(i.gameWon&&!i.isCompleted&&!i.isInfiniteMode?14:-1),d(),I(i.gameStarted?15:-1),d(2),I(!i.gameStarted&&!i.gameWon&&!i.gameLost?17:-1),d(),I(i.isCompleted&&i.gameWon?18:-1))},dependencies:[X,me,J,se,oe,Ua,Q],styles:[".flappy-sleigh-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto}.canvas-container[_ngcontent-%COMP%]{position:relative;aspect-ratio:16/9}.canvas-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:block;touch-action:none}"]})};function R3(t,e){if(t&1){let n=T();Te(0,"div",5),sn("touchstart",function(a){S(n);let r=C();return _(r.onJoystickTouchStart(a))})("touchmove",function(a){S(n);let r=C();return _(r.onJoystickTouchMove(a))})("touchend",function(a){S(n);let r=C();return _(r.onJoystickTouchEnd(a))})("touchcancel",function(a){S(n);let r=C();return _(r.onJoystickTouchEnd(a))})("contextmenu",function(a){S(n);let r=C();return _(r.onContextMenu(a))}),Te(1,"div",6),es(2,"div",7),Be()()}if(t&2){let n=C();d(2),Ai("transform","translate("+n.knobOffsetX+"px, "+n.knobOffsetY+"px)"),le("active",n.joystickActive)}}function F3(t,e){if(t&1){let n=T();Te(0,"button",8),sn("touchstart",function(a){return S(n),C().onJumpPress(),_(a.preventDefault())})("contextmenu",function(a){S(n);let r=C();return _(r.onContextMenu(a))}),y(1),Be()}if(t&2){let n=C();d(),g(" ",n.jumpButtonLabel," ")}}function N3(t,e){if(t&1){let n=T();Te(0,"button",9),sn("touchstart",function(a){return S(n),C().onActionPress(),_(a.preventDefault())})("contextmenu",function(a){S(n);let r=C();return _(r.onContextMenu(a))}),y(1),Be()}if(t&2){let n=C();d(),g(" ",n.actionButtonLabel," ")}}var qs=class t{showJoystick=!0;showJumpButton=!0;showActionButton=!1;jumpButtonLabel="\u2191";actionButtonLabel="A";directionChange=new W;jump=new W;action=new W;joystickActive=!1;joystickX=0;joystickY=0;knobOffsetX=0;knobOffsetY=0;JOYSTICK_RADIUS=50;touchIdentifier=null;ngOnInit(){}ngOnDestroy(){this.joystickActive=!1}onJoystickTouchStart(e){e.preventDefault();let n=e.touches[0];this.touchIdentifier=n.identifier,this.joystickActive=!0,this.updateJoystickPosition(n.clientX,n.clientY,e.target)}onJoystickTouchMove(e){if(!this.joystickActive)return;e.preventDefault();let n=Array.from(e.touches).find(i=>i.identifier===this.touchIdentifier);n&&this.updateJoystickPosition(n.clientX,n.clientY,e.target)}onJoystickTouchEnd(e){e.preventDefault(),this.resetJoystick()}updateJoystickPosition(e,n,i){let a=i.getBoundingClientRect(),r=a.left+a.width/2,o=a.top+a.height/2,s=e-r,c=n-o;if(Math.sqrt(s*s+c*c)>this.JOYSTICK_RADIUS){let u=Math.atan2(c,s);s=Math.cos(u)*this.JOYSTICK_RADIUS,c=Math.sin(u)*this.JOYSTICK_RADIUS}this.knobOffsetX=s,this.knobOffsetY=c,this.joystickX=s/this.JOYSTICK_RADIUS,this.joystickY=c/this.JOYSTICK_RADIUS,this.directionChange.emit({x:this.joystickX,y:this.joystickY})}resetJoystick(){this.joystickActive=!1,this.joystickX=0,this.joystickY=0,this.knobOffsetX=0,this.knobOffsetY=0,this.touchIdentifier=null,this.directionChange.emit({x:0,y:0})}onJumpPress(){this.jump.emit()}onActionPress(){this.action.emit()}onContextMenu(e){e.preventDefault()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Z({type:t,selectors:[["app-touch-controls"]],inputs:{showJoystick:"showJoystick",showJumpButton:"showJumpButton",showActionButton:"showActionButton",jumpButtonLabel:"jumpButtonLabel",actionButtonLabel:"actionButtonLabel"},outputs:{directionChange:"directionChange",jump:"jump",action:"action"},decls:5,vars:3,consts:[[1,"touch-controls"],[1,"joystick-container"],[1,"button-container"],["type","button",1,"control-button","jump-button"],["type","button",1,"control-button","action-button"],[1,"joystick-container",3,"touchstart","touchmove","touchend","touchcancel","contextmenu"],[1,"joystick-base"],[1,"joystick-knob"],["type","button",1,"control-button","jump-button",3,"touchstart","contextmenu"],["type","button",1,"control-button","action-button",3,"touchstart","contextmenu"]],template:function(n,i){n&1&&(Te(0,"div",0),b(1,R3,3,4,"div",1),Te(2,"div",2),b(3,F3,2,1,"button",3),b(4,N3,2,1,"button",4),Be()()),n&2&&(d(),I(i.showJoystick?1:-1),d(2),I(i.showJumpButton?3:-1),d(),I(i.showActionButton?4:-1))},dependencies:[X],styles:[".touch-controls[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;height:200px;pointer-events:none;z-index:100;display:flex;justify-content:space-between;align-items:flex-end;padding:1rem}@media (min-width: 1024px){.touch-controls[_ngcontent-%COMP%]{display:none}}.joystick-container[_ngcontent-%COMP%]{pointer-events:all;width:120px;height:120px;display:flex;align-items:center;justify-content:center;user-select:none;-webkit-user-select:none;touch-action:none}.joystick-base[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;background:#ffffff26;border:3px solid rgba(255,255,255,.3);position:relative;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #0000004d}.joystick-knob[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:var(--color-accent-red);border:3px solid rgba(255,255,255,.8);transition:transform .1s ease-out,background-color .2s;box-shadow:0 2px 8px #0006}.joystick-knob.active[_ngcontent-%COMP%]{background:var(--color-accent-green)}.button-container[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-end}.control-button[_ngcontent-%COMP%]{pointer-events:all;width:70px;height:70px;border-radius:50%;border:3px solid rgba(255,255,255,.8);background:var(--color-accent-red);color:#fff;font-size:1.5rem;font-weight:700;display:flex;align-items:center;justify-content:center;cursor:pointer;user-select:none;-webkit-user-select:none;touch-action:manipulation;box-shadow:0 4px 12px #0000004d;transition:transform .1s,background-color .2s}.control-button[_ngcontent-%COMP%]:active{transform:scale(.9);background:var(--color-accent-green)}.control-button.action-button[_ngcontent-%COMP%]{background:var(--color-gold);color:var(--color-bg)}"]})};var O3=["gameCanvas"];function V3(t,e){t&1&&(p(0,"p",4),y(1),k(2,"translate"),h()),t&2&&(d(),g(" ",v(2,1,"challenges.climber.endless.tagline")," "))}function H3(t,e){t&1&&(p(0,"p",4),y(1),k(2,"translate"),h()),t&2&&(d(),de(v(2,1,"challenges.climber.instruction")))}function j3(t,e){t&1&&(p(0,"p"),y(1),k(2,"translate"),h()),t&2&&(d(),de(v(2,1,"challenges.climber.controlsMobile")))}function B3(t,e){t&1&&(p(0,"p"),y(1),k(2,"translate"),h()),t&2&&(d(),de(v(2,1,"challenges.climber.controlsDesktop")))}function z3(t,e){if(t&1&&(y(0),k(1,"number")),t&2){let n=C(2);g(" ",fe(1,1,n.lastRunHeight,"1.0-0")," m ")}}function q3(t,e){t&1&&y(0," -- ")}function W3(t,e){if(t&1&&y(0),t&2){let n=C(2);g(" ",n.lastRunTimeFormatted," ")}}function U3(t,e){t&1&&y(0," -- ")}function G3(t,e){if(t&1&&(p(0,"div",12)(1,"div",19)(2,"p",20),y(3),k(4,"translate"),h(),p(5,"p",21),y(6),k(7,"number"),h()(),p(8,"div",19)(9,"p",20),y(10),k(11,"translate"),h(),p(12,"p",21),y(13),h()(),p(14,"div",19)(15,"p",20),y(16),k(17,"translate"),h(),p(18,"p",21),b(19,z3,2,4)(20,q3,1,0),h()(),p(21,"div",19)(22,"p",20),y(23),k(24,"translate"),h(),p(25,"p",21),b(26,W3,1,1)(27,U3,1,0),h()()()),t&2){let n=C();d(3),g(" ",v(4,8,"challenges.climber.endless.bestHeight")," "),d(3),g("",fe(7,10,n.bestHeight,"1.0-0")," m"),d(4),g(" ",v(11,13,"challenges.climber.endless.bestTime")," "),d(3),g(" ",n.bestTimeFormatted," "),d(3),g(" ",v(17,15,"challenges.climber.endless.lastHeight")," "),d(3),I(n.lastRunHeight>0?19:20),d(4),g(" ",v(24,17,"challenges.climber.endless.lastTime")," "),d(3),I(n.lastRunTime>0?26:27)}}function $3(t,e){if(t&1){let n=T();p(0,"button",22),w("click",function(){S(n);let a=C();return _(a.startGame())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" ",v(2,1,"challenges.climber.startGame")," "))}function K3(t,e){t&1&&(y(0),k(1,"translate")),t&2&&g(" ",v(1,1,"challenges.climber.endless.gameLost")," ")}function Z3(t,e){t&1&&(y(0),k(1,"translate")),t&2&&g(" ",v(1,1,"challenges.climber.gameLost")," ")}function X3(t,e){if(t&1&&(p(0,"div",24)(1,"p"),y(2),k(3,"translate"),p(4,"span",25),y(5),k(6,"number"),h()(),p(7,"p"),y(8),k(9,"translate"),p(10,"span",25),y(11),h()()()),t&2){let n=C(2);d(2),g(" ",v(3,4,"challenges.climber.endless.lastHeight"),": "),d(3),g("",fe(6,6,n.lastRunHeight,"1.0-0")," m"),d(3),g(" ",v(9,9,"challenges.climber.endless.lastTime"),": "),d(3),de(n.lastRunTimeFormatted)}}function Y3(t,e){if(t&1){let n=T();p(0,"div",16)(1,"p",23),b(2,K3,2,3)(3,Z3,2,3),h(),b(4,X3,12,11,"div",24),p(5,"button",22),w("click",function(){S(n);let a=C();return _(a.restartGame())}),y(6),k(7,"translate"),h()()}if(t&2){let n=C();d(2),I(n.isInfiniteMode?2:3),d(2),I(n.isInfiniteMode?4:-1),d(2),g(" ",v(7,3,"ui.tryAgain")," ")}}function Q3(t,e){if(t&1&&(p(0,"div",16)(1,"p",26),y(2),k(3,"translate"),h(),p(4,"p",27),y(5),k(6,"translate"),h()()),t&2){let n=C();d(2),g(" ",v(3,4,"challenges.climber.success")," "),d(3),$n(" ",v(6,6,"challenges.climber.ornamentsCollected"),": ",n.collectedCount,"/",n.totalCollectibles," ")}}function J3(t,e){if(t&1){let n=T();p(0,"app-touch-controls",28),w("directionChange",function(a){S(n);let r=C();return _(r.onDirectionChange(a))})("jump",function(){S(n);let a=C();return _(a.onJump())}),h()}t&2&&x("showJoystick",!1)("showActionButton",!1)}function eM(t,e){if(t&1){let n=T();p(0,"button",29),w("click",function(){S(n);let a=C();return _(a.restartGame())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" ",v(2,1,"ui.playAgain")," "))}var E1={worldHeight:2e3,platformGap:100,platformGapVariance:15,minPlatformWidth:80,maxPlatformWidth:130,startingPlatformWidth:140,movingPlatformChance:.28,icePlatformChance:.18,collectibles:3,movingRange:90,movingSpeed:1.5,gravity:.6,jumpForce:-12,moveSpeed:5,iceAcceleration:.16,iceFriction:.992,normalFriction:.5,maxIceSpeedMultiplier:1.8,goalOffset:80,collectibleStartOffset:320,collectibleSpacing:360},dr=class t{constructor(e,n,i,a){this.gameService=e;this.keyboardService=n;this.spriteService=i;this.stateService=a}config;isCompleted=!1;day=0;levelId;completed=new W;canvasRef;gameStarted=ot(!1);gameWon=ot(!1);gameLost=ot(!1);isMobile=ot(!1);isInfiniteMode=!1;ctx;gameLoopId=null;CANVAS_WIDTH=400;CANVAS_HEIGHT=600;settings=H({},E1);initialized=!1;jumpBuffer=0;survivalTime=0;maxHeightReached=0;startingY=0;nextPlatformY=0;highestGeneratedY=0;INFINITE_GENERATION_BUFFER=900;INFINITE_PRUNE_DISTANCE=1200;player={x:200,y:500,width:32,height:32,velocityX:0,velocityY:0,onGround:!1,onIce:!1,platformVelocityX:0};MAX_FALL_SPEED=15;cameraY=0;platforms=[];collectibles=[];goalZone={x:0,y:50,width:400,height:60};touchDirection={x:0,y:0};collectedCount=0;totalCollectibles=E1.collectibles;bestHeight=0;bestTime=0;bestTimeFormatted="00:00.000";lastRunHeight=0;lastRunTime=0;lastRunTimeFormatted="00:00.000";ngOnChanges(e){e.config&&(this.applyConfig(this.config),this.initialized&&(this.generateLevel(),this.resetPlayer(),this.collectedCount=0,!this.gameStarted()&&this.ctx&&this.renderGame()))}ngOnInit(){if(console.log("[Climber] ngOnInit. levelId:",this.levelId,"day:",this.day,"isInfinite:",this.isInfiniteMode),this.isMobile.set(this.gameService.isMobileDevice()),this.applyConfig(this.config),this.generateLevel(),this.initialized=!0,this.isCompleted&&this.day>0){let e=this.stateService.getGameStats(this.day);e&&(this.collectedCount=e.collected||0)}if(this.isInfiniteMode){let e=this.getStorageKey();if(e){let n=this.stateService.getGameStats(e);n&&(this.bestHeight=n.bestHeight||0,this.bestTime=n.bestTime||0,this.bestTimeFormatted=this.formatTime(this.bestTime))}}}ngAfterViewInit(){setTimeout(()=>{this.setupCanvas(),this.spriteService.loadSprite("player","assets/sprites/player.png").then(()=>{this.gameStarted()||this.renderGame()}).catch(()=>{console.warn("Could not load player sprite, using fallback")})},0)}ngOnDestroy(){this.stopGame(),this.keyboardService.destroy()}startGame(){this.gameStarted()||(this.gameStarted.set(!0),this.gameWon.set(!1),this.gameLost.set(!1),this.keyboardService.init(),this.resetPlayer(),this.gameLoopId=this.gameService.startGameLoop(e=>this.gameLoop(e)))}restartGame(){this.stopGame(),this.gameWon.set(!1),this.gameLost.set(!1),this.generateLevel(),this.resetPlayer(),this.collectedCount=0,this.startGame()}setupCanvas(){if(!this.canvasRef){console.error("Canvas element not found");return}let e=this.canvasRef.nativeElement,n=e.getContext("2d");if(!n){console.error("Could not get canvas context");return}this.ctx=n,e.width=this.CANVAS_WIDTH,e.height=this.CANVAS_HEIGHT,this.resetPlayer(),this.renderGame()}stopGame(){this.gameLoopId!==null&&(this.gameService.stopGameLoop(this.gameLoopId),this.gameLoopId=null),this.keyboardService.destroy(),this.gameStarted.set(!1)}applyConfig(e){let n={},i=!1;if(e)if(this.hasSettings(e))n=e.settings??{},i=!!e.infiniteMode;else{let a=e,{infiniteMode:r}=a;n=$s(a,["infiniteMode"]),i=!!r}this.settings=H(H({},E1),n),this.isInfiniteMode=i,this.survivalTime=0,this.maxHeightReached=0,this.totalCollectibles=this.isInfiniteMode?0:this.settings.collectibles}hasSettings(e){return typeof e=="object"&&e!==null&&"settings"in e}resetPlayer(){this.player.x=this.CANVAS_WIDTH/2-this.player.width/2,this.player.y=this.settings.worldHeight-100,this.player.velocityX=0,this.player.velocityY=0,this.player.onGround=!1,this.player.onIce=!1,this.player.platformVelocityX=0,this.player.currentPlatform=void 0,this.isInfiniteMode?this.cameraY=this.player.y-this.CANVAS_HEIGHT/2:this.cameraY=Math.max(0,this.settings.worldHeight-this.CANVAS_HEIGHT),this.jumpBuffer=0,this.startingY=this.player.y,this.survivalTime=0,this.maxHeightReached=0}generateLevel(){if(this.platforms=[],this.collectibles=[],this.isInfiniteMode){this.generateInfiniteLevel(),this.totalCollectibles=0;return}let e=this.settings.startingPlatformWidth;this.platforms.push({x:(this.CANVAS_WIDTH-e)/2,y:this.settings.worldHeight-50,width:e,height:15,type:"static"});let n=this.settings.worldHeight-this.settings.platformGap,i="static";for(;n>this.settings.goalOffset+100;){let a="static";if(i==="static")a="moving";else{let f=Math.random();f<this.settings.movingPlatformChance?a="moving":f<this.settings.movingPlatformChance+this.settings.icePlatformChance&&(a="ice")}let r=this.settings.maxPlatformWidth-this.settings.minPlatformWidth,o=this.settings.minPlatformWidth+Math.random()*Math.max(10,r),c={x:Math.random()*(this.CANVAS_WIDTH-o),y:n,width:o,height:15,type:a};if(a==="moving"||a==="ice"){let f=(this.CANVAS_WIDTH-o)/2;c.initialX=f,c.moveRange=(this.CANVAS_WIDTH-o)/2,c.moveSpeed=this.settings.movingSpeed*(.8+Math.random()*.6),c.phase=Math.random()*Math.PI*2}this.platforms.push(c),i=a;let l=(Math.random()*2-1)*this.settings.platformGapVariance,u=Math.max(80,this.settings.platformGap+l);n-=u}for(let a=0;a<this.totalCollectibles;a++){let r=this.settings.worldHeight-this.settings.collectibleStartOffset-a*this.settings.collectibleSpacing;if(r<=this.settings.goalOffset+40)break;let o=this.CANVAS_WIDTH/2;this.collectibles.push({x:o,y:r,width:20,height:20,collected:!1,initialX:o,moveRange:this.CANVAS_WIDTH/2-40,moveSpeed:this.settings.movingSpeed*.5,phase:Math.random()*Math.PI*2})}this.goalZone.x=0,this.goalZone.width=this.CANVAS_WIDTH,this.goalZone.y=this.settings.goalOffset,this.totalCollectibles=this.collectibles.length}generateInfiniteLevel(){let e=this.settings.startingPlatformWidth,n=this.settings.worldHeight-50;this.platforms.push({x:(this.CANVAS_WIDTH-e)/2,y:n,width:e,height:15,type:"static"}),this.nextPlatformY=n-this.settings.platformGap,this.highestGeneratedY=this.nextPlatformY,this.extendInfinitePlatforms(n-this.INFINITE_GENERATION_BUFFER*2),this.goalZone.x=0,this.goalZone.y=-1e4,this.goalZone.width=this.CANVAS_WIDTH,this.goalZone.height=0,this.collectibles=[]}extendInfinitePlatforms(e){let n=this.platforms.length>0?this.platforms[this.platforms.length-1].type:"static";for(;this.nextPlatformY>e;){let i="static";if(n==="static")i="moving";else{let u=Math.random();u<this.settings.movingPlatformChance?i="moving":u<this.settings.movingPlatformChance+this.settings.icePlatformChance&&(i="ice")}let a=this.settings.maxPlatformWidth-this.settings.minPlatformWidth,r=this.settings.minPlatformWidth+Math.random()*Math.max(10,a),s={x:Math.random()*(this.CANVAS_WIDTH-r),y:this.nextPlatformY,width:r,height:15,type:i};if(i==="moving"||i==="ice"){let u=(this.CANVAS_WIDTH-r)/2;s.initialX=u,s.moveRange=(this.CANVAS_WIDTH-r)/2,s.moveSpeed=this.settings.movingSpeed*(.8+Math.random()*.6),s.phase=Math.random()*Math.PI*2}this.platforms.push(s),n=i;let c=(Math.random()*2-1)*this.settings.platformGapVariance,l=Math.max(80,this.settings.platformGap+c);this.nextPlatformY-=l}this.highestGeneratedY=Math.min(this.highestGeneratedY,this.nextPlatformY)}pruneInfinitePlatforms(){let e=this.player.y+this.INFINITE_PRUNE_DISTANCE;this.platforms=this.platforms.filter(n=>n.y<=e)}resetEndlessStats(){this.lastRunHeight=0,this.lastRunTime=0,this.lastRunTimeFormatted="00:00.000",this.survivalTime=0,this.maxHeightReached=0}gameLoop(e){this.updateGame(e),this.renderGame()}updateGame(e){let n=Date.now()/1e3;if(this.isInfiniteMode&&(this.survivalTime+=e),this.platforms.forEach(a=>{if((a.type==="moving"||a.type==="ice")&&a.initialX!==void 0){let r=a.x;if(a.x=a.initialX+Math.sin(n*(a.moveSpeed??this.settings.movingSpeed)+(a.phase??0))*(a.moveRange??this.settings.movingRange),this.player.onGround&&this.player.currentPlatform===a){let o=a.x-r;this.player.platformVelocityX=o,a.type==="moving"&&(this.player.x+=o)}}}),this.collectibles.forEach(a=>{a.initialX!==void 0&&(a.x=a.initialX+Math.sin(n*(a.moveSpeed??1)+(a.phase??0))*(a.moveRange??50))}),this.jumpBuffer>0&&(this.jumpBuffer-=e),!this.isMobile()&&(this.keyboardService.isSpacePressed()||this.keyboardService.isUpPressed())&&(this.jumpBuffer=.1),this.player.onGround&&(this.player.velocityX=0),this.player.onGround||(this.player.velocityY+=this.settings.gravity,this.player.velocityY=Math.min(this.player.velocityY,this.MAX_FALL_SPEED)),this.jumpBuffer>0&&this.player.onGround&&(this.player.velocityY=this.settings.jumpForce,this.player.onGround=!1,this.player.velocityX=0,this.jumpBuffer=0),this.player.x+=this.player.velocityX,this.player.y+=this.player.velocityY,this.isInfiniteMode){let a=this.player.y-this.INFINITE_GENERATION_BUFFER;this.extendInfinitePlatforms(a);let r=Math.max(0,this.startingY-this.player.y);r>this.maxHeightReached&&(this.maxHeightReached=r)}this.player.x<-this.player.width/2?this.player.x=this.CANVAS_WIDTH-this.player.width/2:this.player.x>this.CANVAS_WIDTH-this.player.width/2&&(this.player.x=-this.player.width/2),this.player.onGround=!1,this.player.onIce=!1,this.player.platformVelocityX=0,this.player.currentPlatform=void 0;for(let a of this.platforms)this.checkPlatformCollision(this.player,a)&&this.player.velocityY>=0&&(this.player.y=a.y-this.player.height,this.player.velocityY=0,this.player.velocityX=0,this.player.onGround=!0,this.player.onIce=a.type==="ice",this.player.currentPlatform=a);this.collectibles.forEach(a=>{a.collected||this.gameService.checkRectCollision({x:this.player.x,y:this.player.y,width:this.player.width,height:this.player.height},a)&&(a.collected=!0,this.collectedCount++)}),this.isInfiniteMode&&this.pruneInfinitePlatforms(),this.isInfiniteMode||this.gameService.checkRectCollision({x:this.player.x,y:this.player.y,width:this.player.width,height:this.player.height},this.goalZone)&&this.winGame();let i=this.player.y-this.CANVAS_HEIGHT/2;if(this.cameraY=this.gameService.lerp(this.cameraY,i,.1),this.isInfiniteMode){let a=this.settings.worldHeight-this.CANVAS_HEIGHT;this.cameraY=Math.min(this.cameraY,a)}else this.cameraY=Math.max(0,Math.min(this.cameraY,this.settings.worldHeight-this.CANVAS_HEIGHT));this.player.y>this.settings.worldHeight+100&&this.loseGame()}checkPlatformCollision(e,n){return e.x+e.width>n.x&&e.x<n.x+n.width&&e.y+e.height>=n.y&&e.y+e.height<n.y+n.height+10&&e.velocityY>=0}renderGame(){this.ctx.fillStyle="#0a1929",this.ctx.fillRect(0,0,this.CANVAS_WIDTH,this.CANVAS_HEIGHT),this.drawStars(),this.ctx.save(),this.ctx.translate(0,-this.cameraY),this.platforms.forEach(e=>{this.drawPlatform(e)}),this.collectibles.forEach(e=>{e.collected||this.drawCollectible(e)}),this.isInfiniteMode||this.drawGoal(),this.drawPlayer(),this.ctx.restore(),this.drawUI()}drawStars(){this.ctx.fillStyle="rgba(255, 255, 255, 0.3)";for(let e=0;e<50;e++){let n=e*73%this.CANVAS_WIDTH,i=e*117%this.CANVAS_HEIGHT;this.ctx.fillRect(n,i,2,2)}}drawPlatform(e){let n="#2a9d8f";e.type==="ice"?n="#a8dadc":e.type==="moving"&&(n="#f4d35e"),this.ctx.fillStyle=n,this.ctx.fillRect(e.x,e.y,e.width,e.height),this.ctx.strokeStyle="rgba(255, 255, 255, 0.3)",this.ctx.lineWidth=2,this.ctx.strokeRect(e.x,e.y,e.width,e.height)}drawCollectible(e){this.ctx.fillStyle="#e63946",this.ctx.beginPath(),this.ctx.arc(e.x+e.width/2,e.y+e.height/2,e.width/2,0,Math.PI*2),this.ctx.fill(),this.ctx.fillStyle="rgba(255, 255, 255, 0.5)",this.ctx.beginPath(),this.ctx.arc(e.x+e.width/2-3,e.y+e.height/2-3,3,0,Math.PI*2),this.ctx.fill()}drawGoal(){this.ctx.fillStyle="rgba(244, 211, 94, 0.2)",this.ctx.fillRect(this.goalZone.x,this.goalZone.y,this.goalZone.width,this.goalZone.height),this.ctx.fillStyle="rgba(244, 211, 94, 0.6)";let e=20,n=40,i=Math.ceil(this.CANVAS_WIDTH/n);for(let l=0;l<i;l++){let u=l*n+10,f=this.goalZone.y+this.goalZone.height/2-e/2;this.ctx.fillRect(u,f,e,e)}let a=this.CANVAS_WIDTH/2,r=this.goalZone.y+this.goalZone.height/2,o=5,s=25,c=12;this.ctx.fillStyle="#f4d35e",this.ctx.beginPath();for(let l=0;l<o*2;l++){let u=l%2===0?s:c,f=Math.PI/o*l-Math.PI/2,M=a+Math.cos(f)*u,m=r+Math.sin(f)*u;l===0?this.ctx.moveTo(M,m):this.ctx.lineTo(M,m)}this.ctx.closePath(),this.ctx.fill(),this.ctx.strokeStyle="rgba(244, 211, 94, 0.8)",this.ctx.lineWidth=3,this.ctx.stroke()}drawPlayer(){let e=this.spriteService.getSprite("player");e&&e.complete?this.ctx.drawImage(e,this.player.x,this.player.y,this.player.width,this.player.height):(this.ctx.fillStyle="#e63946",this.ctx.fillRect(this.player.x,this.player.y,this.player.width,this.player.height))}drawUI(){if(this.isInfiniteMode){this.drawInfiniteUI();return}let e=Math.max(0,Math.min(1,1-this.player.y/Math.max(this.settings.worldHeight,1))),n=this.CANVAS_WIDTH-40,i=10,a=20,r=20;this.ctx.fillStyle="rgba(0, 0, 0, 0.5)",this.ctx.fillRect(a,r,n,i),this.ctx.fillStyle="#2a9d8f",this.ctx.fillRect(a,r,n*e,i),this.ctx.fillStyle="#f8f9fa",this.ctx.font="16px Arial",this.ctx.fillText(`Ornaments: ${this.collectedCount}/${this.totalCollectibles}`,a,r+i+25)}drawInfiniteUI(){let e=this.formatTime(this.survivalTime),n=Math.max(0,this.startingY-this.player.y),i=`${Math.max(0,Math.floor(n))}m`,a=`${Math.max(0,Math.floor(Math.max(this.bestHeight,this.maxHeightReached)))}m`;this.ctx.save(),this.ctx.fillStyle="rgba(0, 0, 0, 0.5)",this.ctx.fillRect(15,15,180,70),this.ctx.fillRect(this.CANVAS_WIDTH-135,15,120,50),this.ctx.fillStyle="#f4d35e",this.ctx.font="18px monospace",this.ctx.textAlign="left",this.ctx.fillText(`\u23F1 ${e}`,25,38),this.ctx.fillText(`\u2B06\uFE0F ${i}`,25,63),this.ctx.textAlign="right",this.ctx.fillText(`\u2B50 ${a}`,this.CANVAS_WIDTH-25,45),this.ctx.restore()}formatTime(e){if(!isFinite(e)||e<=0)return"00:00.000";let n=Math.floor(e/60),i=Math.floor(e%60),a=Math.floor(e%1*1e3);return`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}.${a.toString().padStart(3,"0")}`}getStorageKey(){return this.levelId?this.levelId:this.day>0?this.day:null}getInput(){return this.isMobile()?{x:0,jump:!1}:{x:0,jump:this.keyboardService.isSpacePressed()||this.keyboardService.isUpPressed()}}onDirectionChange(e){this.touchDirection=e}onJump(e){e&&e.preventDefault(),this.jumpBuffer=.15}winGame(){this.gameWon.set(!0),this.stopGame(),this.day>0&&this.stateService.saveGameStats(this.day,{collected:this.collectedCount}),this.completed.emit()}loseGame(){if(this.gameLost.set(!0),this.isInfiniteMode){let e=Math.max(0,Math.floor(this.maxHeightReached)),n=this.survivalTime;this.lastRunHeight=e,this.lastRunTime=n,this.lastRunTimeFormatted=this.formatTime(n),e>this.bestHeight&&(this.bestHeight=e),n>this.bestTime&&(this.bestTime=n,this.bestTimeFormatted=this.lastRunTimeFormatted);let i=this.getStorageKey();console.log("[Climber] loseGame. Saving stats? Key:",i,"Stats:",{bestHeight:this.bestHeight,bestTime:this.bestTime}),i&&this.stateService.saveGameStats(i,{bestHeight:this.bestHeight,bestTime:this.bestTime})}this.stopGame()}static \u0275fac=function(n){return new(n||t)(A(yn),A(mn),A(gn),A(ke))};static \u0275cmp=Z({type:t,selectors:[["app-climber-challenge"]],viewQuery:function(n,i){if(n&1&&Rt(O3,5),n&2){let a;Ft(a=Nt())&&(i.canvasRef=a.first)}},inputs:{config:"config",isCompleted:"isCompleted",day:"day",levelId:"levelId"},outputs:{completed:"completed"},features:[wt],decls:35,vars:20,consts:[["gameCanvas",""],[1,"flex","flex-col","items-center","gap-6","p-4"],[1,"text-2xl","font-bold","text-center","text-gold"],[1,"card","max-w-md","text-center","space-y-4"],[1,"text-text-muted"],[1,"text-sm","text-text-muted","space-y-2"],[1,"flex","items-center","justify-center","gap-3","mt-4"],[1,"flex","items-center","gap-2"],[1,"w-4","h-4","rounded",2,"background-color","#2a9d8f"],[1,"text-xs"],[1,"w-4","h-4","rounded",2,"background-color","#f4d35e"],[1,"w-4","h-4","rounded",2,"background-color","#a8dadc"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3","text-left"],[1,"btn","btn-primary"],[1,"relative",3,"pointerdown"],[1,"border-2","border-gold","rounded-lg","shadow-lg",2,"image-rendering","pixelated"],[1,"absolute","inset-0","bg-black","bg-opacity-75","flex","flex-col","items-center","justify-center","gap-4","rounded-lg"],[3,"showJoystick","showActionButton"],[1,"btn","btn-outline"],[1,"rounded-lg","border","border-gray-700","bg-surface/70","p-3"],[1,"text-xs","uppercase","tracking-wide","text-text-muted"],[1,"text-xl","font-bold","text-gold"],[1,"btn","btn-primary",3,"click"],[1,"text-xl","font-bold","text-accent-red"],[1,"text-text","text-sm","sm:text-base","space-y-1"],[1,"font-semibold"],[1,"text-2xl","font-bold","text-gold"],[1,"text-text-muted","text-sm"],[3,"directionChange","jump","showJoystick","showActionButton"],[1,"btn","btn-outline",3,"click"]],template:function(n,i){if(n&1){let a=T();p(0,"div",1)(1,"h2",2),y(2),k(3,"translate"),h(),p(4,"div",3),b(5,V3,3,3,"p",4)(6,H3,3,3,"p",4),p(7,"div",5),b(8,j3,3,3,"p")(9,B3,3,3,"p"),p(10,"div",6)(11,"div",7),L(12,"div",8),p(13,"span",9),y(14),k(15,"translate"),h()(),p(16,"div",7),L(17,"div",10),p(18,"span",9),y(19),k(20,"translate"),h()(),p(21,"div",7),L(22,"div",11),p(23,"span",9),y(24),k(25,"translate"),h()()()(),b(26,G3,28,19,"div",12),b(27,$3,3,3,"button",13),h(),p(28,"div",14),w("pointerdown",function(o){return S(a),_(i.onJump(o))}),L(29,"canvas",15,0),b(31,Y3,8,5,"div",16),b(32,Q3,7,8,"div",16),h(),b(33,J3,1,2,"app-touch-controls",17),b(34,eM,3,3,"button",18),h()}n&2&&(d(2),g(" ",v(3,12,"challenges.climber.title")," "),d(3),I(i.isInfiniteMode?5:6),d(3),I(i.isMobile()?8:9),d(6),de(v(15,14,"challenges.climber.staticPlatform")),d(5),de(v(20,16,"challenges.climber.movingPlatform")),d(5),de(v(25,18,"challenges.climber.icePlatform")),d(2),I(i.isInfiniteMode?26:-1),d(),I(!i.isCompleted&&!i.gameStarted()?27:-1),d(4),I(i.gameLost()?31:-1),d(),I(i.gameWon()&&!i.isInfiniteMode?32:-1),d(),I(i.isMobile()&&i.gameStarted()&&!i.gameWon()&&!i.gameLost()?33:-1),d(),I(i.isCompleted&&!i.gameStarted()?34:-1))},dependencies:[X,J,qs,Ua,Q],encapsulation:2})};var tM=t=>({moves:t});function nM(t,e){if(t&1&&(p(0,"span",30),L(1,"lucide-icon",31),y(2),k(3,"translate"),h()),t&2){let n=C();d(),x("img",n.Check)("strokeWidth",4),d(),g(" ",v(3,3,"calendar.completed")," ")}}function iM(t,e){if(t&1&&(p(0,"span",32),L(1,"lucide-icon",31),h()),t&2){let n=C();d(),x("img",n.Check)("strokeWidth",4)}}function aM(t,e){t&1&&(p(0,"div",39),L(1,"img",40),h())}function rM(t,e){t&1&&(p(0,"div",41),L(1,"img",42),h())}function oM(t,e){if(t&1&&(p(0,"div",43),L(1,"img",44),h()),t&2){let n=C(3);le("opacity-50",n.collectibles.length>0)}}function sM(t,e){if(t&1&&(p(0,"div",35),K(1,aM,2,0,"div",36)(2,rM,2,0,"div",37)(3,oM,2,2,"div",38),h()),t&2){let n=e.index,i=C().index,a=C();x("ngClass",a.getCellClass(i,n)),d(),x("ngIf",a.playerPos.x===n&&a.playerPos.y===i),d(),x("ngIf",a.isCollectible(n,i)),d(),x("ngIf",a.grid[i][n]==="goal")}}function cM(t,e){if(t&1&&(p(0,"div",33),K(1,sM,4,4,"div",34),h()),t&2){let n=e.$implicit;d(),x("ngForOf",n)}}function lM(t,e){if(t&1&&(p(0,"div",16)(1,"div",17),y(2),k(3,"translate"),h(),p(4,"div",45),y(5),h()()),t&2){let n=C();d(2),g(" ",v(3,3,"challenges.mazeRunner.gifts")," "),d(3),Pi(" ",n.collectedCount," / ",n.collectibleCount," ")}}function dM(t,e){if(t&1){let n=T();p(0,"button",46),k(1,"translate"),w("click",function(){S(n);let a=C();return _(a.reset())}),L(2,"lucide-icon",47),h()}if(t&2){let n=C();x("title",Ot(v(1,3,"ui.reset"))),d(2),x("img",n.RotateCcw)}}function uM(t,e){if(t&1){let n=T();p(0,"button",48),w("click",function(){S(n);let a=C();return _(a.reset())}),y(1),k(2,"translate"),h()}t&2&&(d(),g(" ",v(2,1,"ui.playAgain")," "))}function hM(t,e){if(t&1){let n=T();p(0,"div",49)(1,"div",50)(2,"h3",51),y(3),k(4,"translate"),h(),p(5,"p",52),y(6),k(7,"translate"),h(),p(8,"button",53),w("click",function(){S(n);let a=C();return _(a.completed.emit())}),y(9),k(10,"translate"),h()()()}if(t&2){let n=C();d(3),g(" ",v(4,3,"challenges.mazeRunner.success")," "),d(3),g(" ",fe(7,5,"challenges.mazeRunner.completedIn",Vt(10,tM,n.moveCount))," "),d(3),g(" ",v(10,8,"ui.continue")," ")}}var Ws=class t{constructor(e){this.calendarState=e}config={};completed=new W;ArrowUp=ws;ArrowDown=Cs;ArrowLeft=qi;ArrowRight=xs;Check=ue;RotateCcw=Ds;Trophy=wp;grid=[];playerPos={x:1,y:1};goalPos={x:0,y:0};collectibles=[];collectedCount=0;isWon=!1;moveCount=0;rows=15;cols=15;collectibleCount=0;isCompleted=!1;day=0;showWinOverlay=!1;activeKeys=new Set;moveInterval;moveSpeed=80;ngOnInit(){if(this.config.rows&&(this.rows=this.config.rows),this.config.cols&&(this.cols=this.config.cols),this.config.collectibleCount&&(this.collectibleCount=this.config.collectibleCount),this.rows%2===0&&this.rows++,this.cols%2===0&&this.cols++,this.isCompleted){let e=this.calendarState.getGameStats(this.day);e&&e.moves&&(this.moveCount=e.moves),this.generateMaze(),this.collectedCount=this.collectibleCount,this.isWon=!0,this.showWinOverlay=!1}else this.startNewGame()}startNewGame(){this.generateMaze(),this.playerPos={x:1,y:1},this.moveCount=0,this.collectedCount=0,this.isWon=!1,this.showWinOverlay=!1,this.activeKeys.clear(),this.stopMoveLoop()}handleKeyDown(e){if(this.isWon)return;let n=e.key.toLowerCase();["arrowup","w","arrowdown","s","arrowleft","a","arrowright","d"].includes(n)&&(e.preventDefault(),this.activeKeys.has(n)||(this.activeKeys.add(n),this.processMove(),this.startMoveLoop()))}handleKeyUp(e){let n=e.key.toLowerCase();this.activeKeys.delete(n),this.activeKeys.size===0&&this.stopMoveLoop()}startMoveLoop(){this.moveInterval||(this.moveInterval=setInterval(()=>{this.processMove()},this.moveSpeed))}stopMoveLoop(){this.moveInterval&&(clearInterval(this.moveInterval),this.moveInterval=null)}processMove(){if(this.isWon)return;let e=0,n=0;this.activeKeys.has("arrowup")||this.activeKeys.has("w")?n=-1:this.activeKeys.has("arrowdown")||this.activeKeys.has("s")?n=1:this.activeKeys.has("arrowleft")||this.activeKeys.has("a")?e=-1:(this.activeKeys.has("arrowright")||this.activeKeys.has("d"))&&(e=1),(e!==0||n!==0)&&this.attemptMove(e,n)}attemptMove(e,n){let i={x:this.playerPos.x+e,y:this.playerPos.y+n};this.isValidMove(i)&&(this.playerPos=i,this.moveCount++,this.checkCollectibles(),this.checkWin())}ngOnDestroy(){this.stopMoveLoop()}move(e){if(this.isWon)return;let n=0,i=0;switch(e){case"up":i=-1;break;case"down":i=1;break;case"left":n=-1;break;case"right":n=1;break}this.attemptMove(n,i)}isValidMove(e){return e.x<0||e.x>=this.cols||e.y<0||e.y>=this.rows?!1:this.grid[e.y][e.x]!=="wall"}checkCollectibles(){let e=this.collectibles.findIndex(n=>n.x===this.playerPos.x&&n.y===this.playerPos.y);e!==-1&&(this.collectibles.splice(e,1),this.collectedCount++)}checkWin(){this.playerPos.x===this.goalPos.x&&this.playerPos.y===this.goalPos.y&&this.collectibles.length===0&&(this.isWon=!0,this.showWinOverlay=!0,this.calendarState.saveGameStats(this.day,{moves:this.moveCount}))}reset(){this.startNewGame()}generateMaze(){this.grid=Array(this.rows).fill(null).map(()=>Array(this.cols).fill("wall"));let e=[],n={x:1,y:1};for(this.grid[n.y][n.x]="path",e.push(n);e.length>0;){let o=e[e.length-1],s=this.getUnvisitedNeighbors(o);if(s.length>0){let c=s[Math.floor(Math.random()*s.length)],l=o.y+(c.y-o.y)/2,u=o.x+(c.x-o.x)/2;this.grid[l][u]="path",this.grid[c.y][c.x]="path",e.push(c)}else e.pop()}this.grid[1][1]="start";let i=!1;for(let o=this.rows-2;o>0&&!i;o--)for(let s=this.cols-2;s>0&&!i;s--)this.grid[o][s]==="path"&&(this.grid[o][s]="goal",this.goalPos={x:s,y:o},i=!0);this.collectibles=[];let a=0,r=0;for(;a<this.collectibleCount&&r<1e3;){let o=Math.floor(Math.random()*this.cols),s=Math.floor(Math.random()*this.rows);this.grid[s][o]==="path"&&!(o===1&&s===1)&&!(o===this.goalPos.x&&s===this.goalPos.y)&&!this.collectibles.some(c=>c.x===o&&c.y===s)&&(this.collectibles.push({x:o,y:s}),a++),r++}}getUnvisitedNeighbors(e){let n=[],i=[{dx:0,dy:-2},{dx:0,dy:2},{dx:-2,dy:0},{dx:2,dy:0}];for(let a of i){let r=e.x+a.dx,o=e.y+a.dy;r>0&&r<this.cols-1&&o>0&&o<this.rows-1&&this.grid[o][r]==="wall"&&n.push({x:r,y:o})}return n}getCellClass(e,n){let i=this.grid[e][n],a="w-[4.2vw] h-[4.2vw] sm:w-6 sm:h-6 lg:w-8 lg:h-8 border border-white/5 ";return i==="wall"?a+="bg-slate-600 shadow-inner":a+="bg-black/40",(i==="start"||i==="goal")&&(a+=" relative"),a}isCollectible(e,n){return this.collectibles.some(i=>i.x===e&&i.y===n)}static \u0275fac=function(n){return new(n||t)(A(ke))};static \u0275cmp=Z({type:t,selectors:[["app-maze-runner-challenge"]],hostBindings:function(n,i){n&1&&w("keydown",function(r){return i.handleKeyDown(r)},_i)("keyup",function(r){return i.handleKeyUp(r)},_i)},inputs:{config:"config",isCompleted:"isCompleted",day:"day"},outputs:{completed:"completed"},decls:44,vars:28,consts:[[1,"flex","flex-col","items-center","gap-2","sm:gap-4","p-2","w-full","h-full","max-h-full","overflow-hidden"],[1,"text-center","shrink-0","landscape:hidden","lg:landscape:block"],[1,"flex","items-center","justify-center","gap-3","mb-1"],[1,"text-xl","sm:text-2xl","font-bold","text-gold"],["class","bg-accent-green text-white text-xs px-2 py-1 rounded-full font-bold animate-in fade-in zoom-in flex items-center gap-1",4,"ngIf"],[1,"text-text-muted","text-xs","sm:text-base","hidden","sm:block"],[1,"text-center","shrink-0","hidden","landscape:block","lg:landscape:hidden"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-lg","font-bold","text-gold"],["class","bg-accent-green text-white text-[10px] px-1.5 py-0.5 rounded-full font-bold flex items-center gap-1",4,"ngIf"],[1,"flex","flex-col","landscape:flex-row","lg:flex-row","items-center","justify-center","gap-2","sm:gap-4","w-full","flex-1","min-h-0"],[1,"relative","flex","items-center","justify-center","max-w-full","max-h-full","overflow-auto","p-1","sm:p-2"],[1,"maze-grid","bg-surface","border-2","border-gray-700","rounded-lg","p-1","sm:p-2","shadow-2xl"],["class","flex",4,"ngFor","ngForOf"],[1,"flex","flex-col","landscape:justify-center","gap-1","sm:gap-4","shrink-0","z-10","w-full","sm:w-auto"],[1,"flex","flex-row","sm:flex-col","gap-2","w-full","justify-center"],[1,"bg-surface","border","border-gray-700","rounded-lg","p-1","sm:p-3","flex-1","sm:flex-none","min-w-[80px]","sm:min-w-[120px]","shadow-lg"],[1,"text-[10px]","sm:text-xs","text-text-muted","text-center","mb-0.5"],[1,"text-base","sm:text-2xl","font-bold","text-gold","text-center","leading-tight"],["class","bg-surface border border-gray-700 rounded-lg p-1 sm:p-3 flex-1 sm:flex-none min-w-[80px] sm:min-w-[120px] shadow-lg",4,"ngIf"],[1,"grid","grid-cols-3","gap-1","sm:gap-2","p-1","sm:p-2","bg-surface/50","rounded-xl","border","border-gray-700/50","lg:hidden"],["aria-label","Move Up",1,"btn","btn-secondary","p-1","sm:p-3","landscape:p-1.5","flex","items-center","justify-center","active:scale-95","transition-transform","touch-manipulation",3,"click","disabled"],[1,"w-5","h-5","sm:w-6","sm:h-6","landscape:w-5","landscape:h-5",3,"img"],["aria-label","Move Left",1,"btn","btn-secondary","p-1","sm:p-3","landscape:p-1.5","flex","items-center","justify-center","active:scale-95","transition-transform","touch-manipulation",3,"click","disabled"],["aria-label","Move Down",1,"btn","btn-secondary","p-1","sm:p-3","landscape:p-1.5","flex","items-center","justify-center","active:scale-95","transition-transform","touch-manipulation",3,"click","disabled"],["aria-label","Move Right",1,"btn","btn-secondary","p-1","sm:p-3","landscape:p-1.5","flex","items-center","justify-center","active:scale-95","transition-transform","touch-manipulation",3,"click","disabled"],[1,"flex","gap-2","justify-center"],["class","btn btn-outline p-1 sm:p-2 flex-1 flex justify-center",3,"title","click",4,"ngIf"],["class","btn btn-primary w-full py-1 sm:py-2 text-sm sm:text-base",3,"click",4,"ngIf"],["class","absolute inset-0 flex items-center justify-center bg-black/80 z-50 backdrop-blur-sm",4,"ngIf"],[1,"bg-accent-green","text-white","text-xs","px-2","py-1","rounded-full","font-bold","animate-in","fade-in","zoom-in","flex","items-center","gap-1"],[1,"w-3","h-3",3,"img","strokeWidth"],[1,"bg-accent-green","text-white","text-[10px]","px-1.5","py-0.5","rounded-full","font-bold","flex","items-center","gap-1"],[1,"flex"],["class","relative transition-colors duration-200",3,"ngClass",4,"ngFor","ngForOf"],[1,"relative","transition-colors","duration-200",3,"ngClass"],["class","absolute inset-0.5 z-20",4,"ngIf"],["class","absolute inset-0 sm:inset-1 z-10 animate-pulse",4,"ngIf"],["class","absolute inset-0 flex items-center justify-center z-0",3,"opacity-50",4,"ngIf"],[1,"absolute","inset-0.5","z-20"],["src","assets/sprites/player.png","alt","Player",1,"w-full","h-full","object-contain","drop-shadow-lg","animate-bounce"],[1,"absolute","inset-0","sm:inset-1","z-10","animate-pulse"],["src","assets/sprites/gift.png","alt","Gift",1,"w-full","h-full","object-contain","drop-shadow-md"],[1,"absolute","inset-0","flex","items-center","justify-center","z-0"],["src","assets/sprites/tree.png","alt","Goal",1,"w-full","h-full","object-contain","drop-shadow-lg"],[1,"text-base","sm:text-2xl","font-bold","text-accent-red","text-center","leading-tight"],[1,"btn","btn-outline","p-1","sm:p-2","flex-1","flex","justify-center",3,"click","title"],[1,"w-4","h-4","sm:w-5","sm:h-5",3,"img"],[1,"btn","btn-primary","w-full","py-1","sm:py-2","text-sm","sm:text-base",3,"click"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-black/80","z-50","backdrop-blur-sm"],[1,"bg-surface","border-2","border-accent-green","rounded-xl","p-8","text-center","shadow-2xl","transform","scale-100","animate-in","fade-in","zoom-in","duration-300"],[1,"text-3xl","font-bold","text-accent-green","mb-2"],[1,"text-text-muted","mb-6"],[1,"btn","btn-primary","w-full",3,"click"]],template:function(n,i){n&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4),k(5,"translate"),h(),K(6,nM,4,5,"span",4),h(),p(7,"p",5),y(8),k(9,"translate"),h()(),p(10,"div",6)(11,"div",7)(12,"h2",8),y(13),k(14,"translate"),h(),K(15,iM,2,2,"span",9),h()(),p(16,"div",10)(17,"div",11)(18,"div",12),K(19,cM,2,1,"div",13),h()(),p(20,"div",14)(21,"div",15)(22,"div",16)(23,"div",17),y(24),k(25,"translate"),h(),p(26,"div",18),y(27),h()(),K(28,lM,6,5,"div",19),h(),p(29,"div",20),L(30,"div"),p(31,"button",21),w("click",function(){return i.move("up")}),L(32,"lucide-icon",22),h(),L(33,"div"),p(34,"button",23),w("click",function(){return i.move("left")}),L(35,"lucide-icon",22),h(),p(36,"button",24),w("click",function(){return i.move("down")}),L(37,"lucide-icon",22),h(),p(38,"button",25),w("click",function(){return i.move("right")}),L(39,"lucide-icon",22),h()(),p(40,"div",26),K(41,dM,3,5,"button",27)(42,uM,3,3,"button",28),h()()(),K(43,hM,11,12,"div",29),h()),n&2&&(d(4),g(" \u{1F381} ",v(5,20,"challenges.mazeRunner.title")," \u{1F381} "),d(2),x("ngIf",i.isCompleted),d(2),g(" ",v(9,22,"challenges.mazeRunner.instruction")," "),d(5),g(" \u{1F381} ",v(14,24,"challenges.mazeRunner.title")," \u{1F381} "),d(2),x("ngIf",i.isCompleted),d(4),x("ngForOf",i.grid),d(5),g(" ",v(25,26,"challenges.mazeRunner.moves")," "),d(3),g(" ",i.moveCount," "),d(),x("ngIf",i.collectibleCount>0),d(3),x("disabled",i.isWon),d(),x("img",i.ArrowUp),d(2),x("disabled",i.isWon),d(),x("img",i.ArrowLeft),d(),x("disabled",i.isWon),d(),x("img",i.ArrowDown),d(),x("disabled",i.isWon),d(),x("img",i.ArrowRight),d(2),x("ngIf",!i.isWon),d(),x("ngIf",i.isWon),d(),x("ngIf",i.isWon&&!i.isCompleted))},dependencies:[X,Xn,Fi,me,J,se,oe,Q],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.maze-grid[_ngcontent-%COMP%]{display:inline-block;background-color:var(--color-surface)}"]})};var pM=["challengeContainer"],fM=t=>({day:t});function yM(t,e){if(t&1&&(y(0),k(1,"translate")),t&2){let n=C();g(" \u{1F384} ",fe(1,1,"calendar.dayLabel",Vt(4,fM,n.dayConfig.day))," \u{1F381} ")}}function mM(t,e){t&1&&(y(0),k(1,"translate")),t&2&&g(" \u{1F381} ",v(1,1,"extras.challengeTitle")," \u{1F381} ")}function gM(t,e){if(t&1&&(p(0,"div",9)(1,"p",10),y(2," Challenge type: "),p(3,"span",11),y(4),h()(),p(5,"p",12),y(6,"This challenge type is not yet implemented."),h()()),t&2){let n=C(2);d(4),de(n.dayConfig.challengeType)}}function kM(t,e){if(t&1&&(p(0,"div",7),ts(1,null,0),b(3,gM,7,1,"div",9),h()),t&2){let n=jd(2);d(3),I(n?-1:3)}}function vM(t,e){if(t&1){let n=T();p(0,"app-fun-fact-reveal",13),w("continue",function(){S(n);let a=C();return _(a.onCloseFunFact())}),h()}if(t&2){let n=C();x("funFactKey",n.dayConfig.funFactKey)}}var Ki=class t{X=Ss;dayConfig;isCompleted=!1;close=new W;challengeCompleted=new W;challengeContainer;showFunFact=!1;challengeComponentRef;ngOnInit(){setTimeout(()=>this.loadChallengeComponent(),0)}loadChallengeComponent(){if(!this.challengeContainer)return;this.challengeContainer.clear();let e;switch(this.dayConfig.challengeType){case"riddle":e=Rs;break;case"wordScramble":e=Fs;break;case"hangman":e=Ns;break;case"wordSearch":e=Os;break;case"rebus":e=Vs;break;case"memoryCard":e=Hs;break;case"geometryDash":e=js;break;case"sokoban":e=Bs;break;case"flappySleigh":e=zs;break;case"climber":e=dr;break;case"mazeRunner":e=Ws;break;default:return}this.challengeComponentRef=this.challengeContainer.createComponent(e),this.dayConfig.challengeData&&(this.dayConfig.challengeType==="sokoban"?this.challengeComponentRef.instance.challengeData=this.dayConfig.challengeData:this.challengeComponentRef.instance.config=this.dayConfig.challengeData),this.challengeComponentRef.instance.isCompleted!==void 0&&(this.challengeComponentRef.instance.isCompleted=this.isCompleted),"day"in this.challengeComponentRef.instance&&(this.challengeComponentRef.instance.day=this.dayConfig.day),"levelId"in this.challengeComponentRef.instance&&this.dayConfig.levelId&&(this.challengeComponentRef.instance.levelId=this.dayConfig.levelId),this.challengeComponentRef.instance.completed.subscribe(()=>{this.onChallengeComplete()})}onClose(){this.close.emit()}onChallengeComplete(){this.dayConfig.funFactKey?this.showFunFact=!0:this.close.emit(),this.challengeCompleted.emit()}onCloseFunFact(){this.close.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Z({type:t,selectors:[["app-challenge-host"]],viewQuery:function(n,i){if(n&1&&Rt(pM,5,Pt),n&2){let a;Ft(a=Nt())&&(i.challengeContainer=a.first)}},inputs:{dayConfig:"dayConfig",isCompleted:"isCompleted"},outputs:{close:"close",challengeCompleted:"challengeCompleted"},decls:10,vars:4,consts:[["challengeContainer",""],[1,"modal-overlay",3,"click"],[1,"modal-content","w-full","h-full","lg:rounded-2xl","flex","flex-col","overflow-hidden","lg:w-[1500px]","lg:max-w-[1400px]","lg:h-[90vh]",3,"click"],[1,"flex","items-center","justify-between","mb-1","md:mb-4","lg:mb-6","flex-shrink-0","sticky","top-0","bg-surface","z-10","py-1","lg:py-0","lg:static"],[1,"text-sm","sm:text-lg","md:text-3xl","font-bold","text-text"],["aria-label","Close",1,"btn","btn-outline","p-1","md:p-2","min-w-0","text-xs","md:text-base",3,"click"],[1,"size-3","sm:size-4","md:size-6",3,"img","strokeWidth"],[1,"challenge-content","flex-1","overflow-y-auto","pb-4","sm:pb-0"],[3,"funFactKey"],[1,"text-center","py-12"],[1,"text-lg","text-text-muted","mb-4"],[1,"text-gold","font-semibold"],[1,"text-sm","text-text-muted"],[3,"continue","funFactKey"]],template:function(n,i){n&1&&(p(0,"div",1),w("click",function(){return i.onClose()}),p(1,"div",2),w("click",function(r){return r.stopPropagation()}),p(2,"div",3)(3,"h2",4),b(4,yM,2,6)(5,mM,2,3),h(),p(6,"button",5),w("click",function(){return i.onClose()}),L(7,"lucide-icon",6),h()(),b(8,kM,4,1,"div",7)(9,vM,1,1,"app-fun-fact-reveal",8),h()()),n&2&&(d(4),I(i.dayConfig.day>0?4:5),d(3),x("img",i.X)("strokeWidth",2),d(),I(i.showFunFact?9:8))},dependencies:[X,se,oe,J,_s,Q],styles:["[_nghost-%COMP%]{display:block}"]})};var MM=(t,e)=>e.day;function CM(t,e){if(t&1&&(p(0,"div",10),y(1),h()),t&2){let n=C().$implicit,i=C();le("grayscale",!i.isDayCompleted(n.day)),d(),g(" ",i.getChallengeEmoji(n.challengeType)," ")}}function xM(t,e){t&1&&(p(0,"div",7),y(1),k(2,"translate"),h()),t&2&&(d(),g(" ",v(2,1,"calendar.comingSoon")," "))}function wM(t,e){if(t&1&&(p(0,"div",8),L(1,"lucide-icon",11),h()),t&2){let n=C(2);d(),x("img",n.Check)("strokeWidth",3)}}function bM(t,e){if(t&1){let n=T();p(0,"button",4),w("click",function(){let a=S(n).$implicit,r=C();return _(r.onDaySelected(a))}),b(1,CM,2,3,"div",5),p(2,"div",6),y(3),h(),b(4,xM,3,3,"div",7),b(5,wM,2,2,"div",8),L(6,"div",9),h()}if(t&2){let n=e.$implicit,i=C();le("completed",i.isDayCompleted(n.day))("unpopulated",!n.challengeType)("hover:scale-105",n.challengeType)("hover:shadow-xl",n.challengeType),x("disabled",!n.challengeType),ct("aria-label","Day "+n.day),d(),I(n.challengeType?1:-1),d(2),g(" ",n.day," "),d(),I(n.challengeType?-1:4),d(),I(i.isDayCompleted(n.day)?5:-1)}}function IM(t,e){if(t&1){let n=T();p(0,"app-challenge-host",12),w("close",function(){S(n);let a=C();return _(a.onCloseChallenge())})("challengeCompleted",function(){S(n);let a=C();return _(a.onChallengeCompleted())}),h()}if(t&2){let n=C();x("dayConfig",n.selectedDay)("isCompleted",n.isDayCompleted(n.selectedDay.day))}}var Us=class t{constructor(e){this.stateService=e}Check=ue;calendarDays=Ip;selectedDay=null;challengeEmojiMap={riddle:"\u{1F914}",hangman:"\u{1F524}",wordScramble:"\u{1F500}",wordSearch:"\u{1F50D}",rebus:"\u{1F9E9}",memoryCard:"\u{1F0CF}",geometryDash:"\u{1F385}",sokoban:"\u{1F381}",climber:"\u{1F9D7}",mazeRunner:"\u{1F3C3}",flappySleigh:"\u{1F6F7}"};ngOnInit(){}onDaySelected(e){e.challengeType&&(this.selectedDay=e)}onCloseChallenge(){this.selectedDay=null}onChallengeCompleted(){this.selectedDay&&this.stateService.markDayComplete(this.selectedDay.day)}isDayCompleted(e){return this.stateService.isDayCompleted(e)}getChallengeEmoji(e){return e?this.challengeEmojiMap[e]:""}static \u0275fac=function(n){return new(n||t)(A(ke))};static \u0275cmp=Z({type:t,selectors:[["app-calendar"]],decls:5,vars:1,consts:[[1,"calendar-container"],[1,"grid","grid-cols-3","sm:grid-cols-4","lg:grid-cols-6","gap-3","sm:gap-4","lg:gap-6"],[1,"day-tile","card","relative","overflow-hidden","transition-all","duration-300",3,"completed","unpopulated","hover:scale-105","hover:shadow-xl","disabled"],[3,"dayConfig","isCompleted"],[1,"day-tile","card","relative","overflow-hidden","transition-all","duration-300",3,"click","disabled"],[1,"challenge-emoji",3,"grayscale"],[1,"day-number","text-2xl","sm:text-3xl","lg:text-4xl","font-bold","text-gold","mb-2"],[1,"text-xs","sm:text-sm","text-text-muted","opacity-70","mt-1"],[1,"absolute","top-1","right-1","md:top-2","md:right-2","bg-accent-green","rounded-full","p-1.5"],[1,"absolute","inset-0","bg-accent-red","opacity-0","hover:opacity-10","transition-opacity","duration-300","pointer-events-none"],[1,"challenge-emoji"],[1,"w-3","h-3","sm:w-4","sm:h-4","text-white",3,"img","strokeWidth"],[3,"close","challengeCompleted","dayConfig","isCompleted"]],template:function(n,i){n&1&&(p(0,"div",0)(1,"div",1),be(2,bM,7,14,"button",2,MM),h(),b(4,IM,1,2,"app-challenge-host",3),h()),n&2&&(d(2),Ie(i.calendarDays),d(2),I(i.selectedDay?4:-1))},dependencies:[X,J,Ki,se,oe,Q],styles:[".calendar-container[_ngcontent-%COMP%]{width:100%}.day-tile[_ngcontent-%COMP%]{aspect-ratio:1;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;border:2px solid transparent}.day-tile[_ngcontent-%COMP%]:hover{border-color:var(--color-accent-red)}.day-tile.completed[_ngcontent-%COMP%]{border-color:var(--color-accent-green);background:linear-gradient(135deg,var(--color-surface) 0%,rgba(42,157,143,.1) 100%)}.day-tile.unpopulated[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;border-color:var(--color-text-muted);background:linear-gradient(135deg,var(--color-surface) 0%,rgba(173,181,189,.05) 100%)}.day-tile.unpopulated[_ngcontent-%COMP%]:hover{border-color:var(--color-text-muted);transform:none;box-shadow:none}.day-tile.unpopulated[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{opacity:.7}.day-number[_ngcontent-%COMP%]{text-shadow:0 2px 4px rgba(0,0,0,.3)}.challenge-emoji[_ngcontent-%COMP%]{position:absolute;bottom:-10%;right:-15%;font-size:3rem;transform:rotate(15deg);opacity:.8;pointer-events:none;transition:all .3s ease;filter:drop-shadow(2px 2px 4px rgba(0,0,0,.3))}@media (min-width: 640px){.challenge-emoji[_ngcontent-%COMP%]{font-size:4.5rem;bottom:-12%;right:-18%}}@media (min-width: 1024px){.challenge-emoji[_ngcontent-%COMP%]{font-size:5rem;bottom:-15%;right:-20%}}.challenge-emoji.grayscale[_ngcontent-%COMP%]{filter:grayscale(100%) brightness(.7) drop-shadow(2px 2px 4px rgba(0,0,0,.3));opacity:.5}.day-tile[_ngcontent-%COMP%]:hover   .challenge-emoji[_ngcontent-%COMP%]:not(.grayscale){transform:rotate(15deg) scale(1.1);opacity:1}"]})};var T1=[{type:"riddle",levels:[{id:"extra-riddle-1",nameKey:"extras.games.riddle.levels.extra-riddle-1.name",descriptionKey:"extras.games.riddle.levels.extra-riddle-1.description",challengeType:"riddle",challengeData:{riddleKey:"extras.games.riddle.extra-riddle-1.question",answerKey:["gift","present","paket","julklapp"],hintKey:"extras.games.riddle.extra-riddle-1.hint"}},{id:"extra-riddle-2",nameKey:"extras.games.riddle.levels.extra-riddle-2.name",descriptionKey:"extras.games.riddle.levels.extra-riddle-2.description",challengeType:"riddle",challengeData:{riddleKey:"extras.games.riddle.extra-riddle-2.question",answerKey:["chimney","skorsten"],hintKey:"extras.games.riddle.extra-riddle-2.hint"}},{id:"extra-riddle-3",nameKey:"extras.games.riddle.levels.extra-riddle-3.name",descriptionKey:"extras.games.riddle.levels.extra-riddle-3.description",challengeType:"riddle",challengeData:{riddleKey:"extras.games.riddle.extra-riddle-3.question",answerKey:["sleigh bells","bells","bj\xE4llror","klockor"],hintKey:"extras.games.riddle.extra-riddle-3.hint"}}]},{type:"hangman",levels:[{id:"extra-hangman-1",nameKey:"extras.games.hangman.levels.extra-hangman-1.name",descriptionKey:"extras.games.hangman.levels.extra-hangman-1.description",challengeType:"hangman",challengeData:{word:"ornament",wordSv:"julgransprydnad",clueKey:"extras.games.hangman.extra-hangman-1.clue",hintKey:"extras.games.hangman.extra-hangman-1.hint"}},{id:"extra-hangman-2",nameKey:"extras.games.hangman.levels.extra-hangman-2.name",descriptionKey:"extras.games.hangman.levels.extra-hangman-2.description",challengeType:"hangman",challengeData:{word:"tinsel",wordSv:"glitter",clueKey:"extras.games.hangman.extra-hangman-2.clue",hintKey:"extras.games.hangman.extra-hangman-2.hint"}},{id:"extra-hangman-3",nameKey:"extras.games.hangman.levels.extra-hangman-3.name",descriptionKey:"extras.games.hangman.levels.extra-hangman-3.description",challengeType:"hangman",challengeData:{word:"wreath",wordSv:"krans",clueKey:"extras.games.hangman.extra-hangman-3.clue",hintKey:"extras.games.hangman.extra-hangman-3.hint"}}]},{type:"wordScramble",levels:[{id:"extra-scramble-1",nameKey:"extras.games.wordScramble.levels.extra-scramble-1.name",descriptionKey:"extras.games.wordScramble.levels.extra-scramble-1.description",challengeType:"wordScramble",challengeData:{word:"fireplace",wordSv:"eldstad",clueKey:"extras.games.wordScramble.extra-scramble-1.clue",hintKey:"extras.games.wordScramble.extra-scramble-1.hint"}},{id:"extra-scramble-2",nameKey:"extras.games.wordScramble.levels.extra-scramble-2.name",descriptionKey:"extras.games.wordScramble.levels.extra-scramble-2.description",challengeType:"wordScramble",challengeData:{word:"evergreen",wordSv:"vintergr\xF6nt",clueKey:"extras.games.wordScramble.extra-scramble-2.clue",hintKey:"extras.games.wordScramble.extra-scramble-2.hint"}},{id:"extra-scramble-3",nameKey:"extras.games.wordScramble.levels.extra-scramble-3.name",descriptionKey:"extras.games.wordScramble.levels.extra-scramble-3.description",challengeType:"wordScramble",challengeData:{word:"garland",wordSv:"girlang",clueKey:"extras.games.wordScramble.extra-scramble-3.clue",hintKey:"extras.games.wordScramble.extra-scramble-3.hint"}}]},{type:"memoryCard",levels:[{id:"extra-memory-1",nameKey:"extras.games.memoryCard.levels.extra-memory-1.name",descriptionKey:"extras.games.memoryCard.levels.extra-memory-1.description",challengeType:"memoryCard",challengeData:{gridSize:4,icons:["\u{1F385}","\u26C4","\u{1F384}","\u{1F381}","\u2B50","\u{1F514}","\u{1F56F}\uFE0F","\u{1F98C}"]}},{id:"extra-memory-2",nameKey:"extras.games.memoryCard.levels.extra-memory-2.name",descriptionKey:"extras.games.memoryCard.levels.extra-memory-2.description",challengeType:"memoryCard",challengeData:{gridSize:6,icons:["\u{1F385}","\u26C4","\u{1F384}","\u{1F381}","\u2B50","\u{1F514}","\u{1F56F}\uFE0F","\u{1F98C}","\u2744\uFE0F","\u{1F380}","\u{1F9E6}","\u{1F36A}","\u{1F95B}","\u{1F3B6}","\u{1F31F}","\u{1F38A}","\u{1F6F7}","\u{1F9E4}"]}},{id:"extra-memory-3",nameKey:"extras.games.memoryCard.levels.extra-memory-3.name",descriptionKey:"extras.games.memoryCard.levels.extra-memory-3.description",challengeType:"memoryCard",challengeData:{gridSize:8,icons:["\u{1F385}","\u26C4","\u{1F384}","\u{1F381}","\u2B50","\u{1F514}","\u{1F56F}\uFE0F","\u{1F98C}","\u2744\uFE0F","\u{1F380}","\u{1F9E6}","\u{1F36A}","\u{1F95B}","\u{1F3B6}","\u{1F31F}","\u{1F38A}","\u{1F6F7}","\u{1F9E4}","\u{1F3BA}","\u{1F36C}","\u{1F3B9}","\u2603\uFE0F","\u{1F328}\uFE0F","\u26F7\uFE0F","\u{1F3C2}","\u{1F3BF}","\u{1F9E3}","\u{1F3A9}","\u{1F54E}","\u{1F397}\uFE0F","\u{1F390}","\u{1F391}"]}}]},{type:"geometryDash",levels:[{id:"extra-dash-1",nameKey:"extras.games.geometryDash.levels.extra-dash-1.name",descriptionKey:"extras.games.geometryDash.levels.extra-dash-1.description",challengeType:"geometryDash",challengeData:{difficulty:"easy",difficultyConfig:{levelLength:3200}}},{id:"extra-dash-2",nameKey:"extras.games.geometryDash.levels.extra-dash-2.name",descriptionKey:"extras.games.geometryDash.levels.extra-dash-2.description",challengeType:"geometryDash",challengeData:{difficulty:"medium",difficultyConfig:{levelLength:6e3,scrollSpeed:280}}},{id:"extra-dash-3",nameKey:"extras.games.geometryDash.levels.extra-dash-3.name",descriptionKey:"extras.games.geometryDash.levels.extra-dash-3.description",challengeType:"geometryDash",challengeData:{difficulty:"hard",difficultyConfig:{levelLength:1e4,scrollSpeed:320}}},{id:"extra-dash-infinite-easy",nameKey:"extras.games.geometryDash.levels.extra-dash-infinite-easy.name",descriptionKey:"extras.games.geometryDash.levels.extra-dash-infinite-easy.description",challengeType:"geometryDash",isInfinite:!0,challengeData:{difficulty:"easy",difficultyConfig:{infiniteMode:!0}}},{id:"extra-dash-infinite-medium",nameKey:"extras.games.geometryDash.levels.extra-dash-infinite-medium.name",descriptionKey:"extras.games.geometryDash.levels.extra-dash-infinite-medium.description",challengeType:"geometryDash",isInfinite:!0,challengeData:{difficulty:"medium",difficultyConfig:{infiniteMode:!0}}},{id:"extra-dash-infinite-hard",nameKey:"extras.games.geometryDash.levels.extra-dash-infinite-hard.name",descriptionKey:"extras.games.geometryDash.levels.extra-dash-infinite-hard.description",challengeType:"geometryDash",isInfinite:!0,challengeData:{difficulty:"hard",difficultyConfig:{infiniteMode:!0}}}]},{type:"climber",levels:[{id:"extra-climber-1",nameKey:"extras.games.climber.levels.extra-climber-1.name",descriptionKey:"extras.games.climber.levels.extra-climber-1.description",challengeType:"climber",challengeData:{settings:{worldHeight:1700,collectibles:2,platformGap:108,platformGapVariance:18,movingPlatformChance:.18,icePlatformChance:.1,minPlatformWidth:90,maxPlatformWidth:135,startingPlatformWidth:150,movingRange:70,movingSpeed:1.3,gravity:.55,jumpForce:-11.5,moveSpeed:5.2,iceAcceleration:.14,iceFriction:.988,normalFriction:.55,maxIceSpeedMultiplier:1.6,goalOffset:70,collectibleStartOffset:260,collectibleSpacing:320}}},{id:"extra-climber-2",nameKey:"extras.games.climber.levels.extra-climber-2.name",descriptionKey:"extras.games.climber.levels.extra-climber-2.description",challengeType:"climber",challengeData:{settings:{worldHeight:2800,collectibles:4,platformGap:118,platformGapVariance:24,movingPlatformChance:.32,icePlatformChance:.22,minPlatformWidth:85,maxPlatformWidth:130,startingPlatformWidth:140,movingRange:95,movingSpeed:1.7,gravity:.62,jumpForce:-12.8,moveSpeed:5.4,iceAcceleration:.17,iceFriction:.99,normalFriction:.5,maxIceSpeedMultiplier:1.9,goalOffset:70,collectibleStartOffset:320,collectibleSpacing:340}}},{id:"extra-climber-3",nameKey:"extras.games.climber.levels.extra-climber-3.name",descriptionKey:"extras.games.climber.levels.extra-climber-3.description",challengeType:"climber",challengeData:{settings:{worldHeight:3800,collectibles:6,platformGap:130,platformGapVariance:30,movingPlatformChance:.4,icePlatformChance:.32,minPlatformWidth:70,maxPlatformWidth:120,startingPlatformWidth:135,movingRange:120,movingSpeed:1.9,gravity:.65,jumpForce:-13.2,moveSpeed:5.6,iceAcceleration:.2,iceFriction:.992,normalFriction:.48,maxIceSpeedMultiplier:2.1,goalOffset:60,collectibleStartOffset:360,collectibleSpacing:480}}},{id:"extra-climber-infinite-easy",nameKey:"extras.games.climber.levels.extra-climber-infinite-easy.name",descriptionKey:"extras.games.climber.levels.extra-climber-infinite-easy.description",challengeType:"climber",isInfinite:!0,challengeData:{infiniteMode:!0,settings:{worldHeight:2100,platformGap:96,platformGapVariance:14,minPlatformWidth:90,maxPlatformWidth:140,startingPlatformWidth:165,movingPlatformChance:.24,icePlatformChance:.1,movingSpeed:1.4,gravity:.58,jumpForce:-11.8,moveSpeed:5.1,maxIceSpeedMultiplier:1.7}}},{id:"extra-climber-infinite-medium",nameKey:"extras.games.climber.levels.extra-climber-infinite-medium.name",descriptionKey:"extras.games.climber.levels.extra-climber-infinite-medium.description",challengeType:"climber",isInfinite:!0,challengeData:{infiniteMode:!0,settings:{worldHeight:2400,platformGap:112,platformGapVariance:22,minPlatformWidth:80,maxPlatformWidth:132,startingPlatformWidth:150,movingPlatformChance:.32,icePlatformChance:.2,movingSpeed:1.65,gravity:.62,jumpForce:-12.4,moveSpeed:5.4,iceAcceleration:.18,maxIceSpeedMultiplier:1.9}}},{id:"extra-climber-infinite-hard",nameKey:"extras.games.climber.levels.extra-climber-infinite-hard.name",descriptionKey:"extras.games.climber.levels.extra-climber-infinite-hard.description",challengeType:"climber",isInfinite:!0,challengeData:{infiniteMode:!0,settings:{worldHeight:2650,platformGap:128,platformGapVariance:28,minPlatformWidth:74,maxPlatformWidth:122,startingPlatformWidth:140,movingPlatformChance:.4,icePlatformChance:.28,movingSpeed:1.85,gravity:.66,jumpForce:-12.9,moveSpeed:5.7,iceAcceleration:.21,normalFriction:.46,maxIceSpeedMultiplier:2.2}}}]},{type:"rebus",levels:[{id:"extra-rebus-1",nameKey:"extras.games.rebus.levels.extra-rebus-1.name",descriptionKey:"extras.games.rebus.levels.extra-rebus-1.description",challengeType:"rebus",challengeData:{rebusKey:"extras.games.rebus.extra-rebus-1.puzzle",answerKey:["santa claus","santa","jultomten","tomten"],hintKey:"extras.games.rebus.extra-rebus-1.hint"}},{id:"extra-rebus-2",nameKey:"extras.games.rebus.levels.extra-rebus-2.name",descriptionKey:"extras.games.rebus.levels.extra-rebus-2.description",challengeType:"rebus",challengeData:{rebusKey:"extras.games.rebus.extra-rebus-2.puzzle",answerKey:["north pole","nordpolen"],hintKey:"extras.games.rebus.extra-rebus-2.hint"}},{id:"extra-rebus-3",nameKey:"extras.games.rebus.levels.extra-rebus-3.name",descriptionKey:"extras.games.rebus.levels.extra-rebus-3.description",challengeType:"rebus",challengeData:{rebusKey:"extras.games.rebus.extra-rebus-3.puzzle",answerKey:["candy cane","polkagris"],hintKey:"extras.games.rebus.extra-rebus-3.hint"}}]},{type:"wordSearch",levels:[{id:"extra-wordsearch-1",nameKey:"extras.games.wordSearch.levels.extra-wordsearch-1.name",descriptionKey:"extras.games.wordSearch.levels.extra-wordsearch-1.description",challengeType:"wordSearch",challengeData:{grid:[["G","I","F","T","X","M","Q","Z","K","P"],["V","B","N","W","Y","L","T","F","J","X"],["J","H","Y","M","K","P","V","B","O","W"],["Q","W","Z","X","L","T","Y","N","Y","K"],["S","R","O","A","P","S","N","O","W","X"],["E","L","F","Z","Q","W","M","K","Y","L"],["S","T","A","S","T","A","R","P","X","T"]],gridSv:[["G","\xC5","V","A","X","M","Q","Z","K","P"],["V","B","N","W","Y","L","T","F","D","X"],["G","L","\xC4","D","J","E","K","P","V","B"],["Q","W","Z","X","L","T","Y","N","M","K"],["S","N","\xD6","P","F","D","V","B","X","M"],["T","O","M","T","E","Q","W","M","K","Y"],["S","T","J","\xC4","R","N","A","V","B","L"]],words:["GIFT","JOY","SNOW","STAR","ELF"],wordsSv:["G\xC5VA","GL\xC4DJE","SN\xD6","STJ\xC4RNA","TOMTE"]}},{id:"extra-wordsearch-2",nameKey:"extras.games.wordSearch.levels.extra-wordsearch-2.name",descriptionKey:"extras.games.wordSearch.levels.extra-wordsearch-2.description",challengeType:"wordSearch",challengeData:{grid:[["P","H","E","S","A","R","C","X","P","Q","Z"],["K","V","B","N","W","Y","H","T","R","D","P"],["S","A","T","I","A","M","I","P","E","B","W"],["Q","W","Z","S","A","N","M","A","S","K","V"],["K","A","X","N","D","E","N","R","E","D","B"],["R","E","I","N","D","E","E","R","N","D","B"],["X","M","K","P","V","B","Y","Q","T","Y","L"],["S","L","E","I","G","H","Z","M","T","T","X"],["T","F","D","V","S","A","N","T","A","Q","Y"],["C","H","I","M","N","E","Y","K","L","M","Z"],["V","B","N","H","O","L","L","Y","P","T","F"]],gridSv:[["P","R","E","S","E","N","T","X","M","Q","Z"],["K","V","B","N","W","Y","L","T","F","D","P"],["T","O","M","T","E","N","M","K","P","V","B"],["Q","W","Z","X","L","T","Y","N","M","K","V"],["R","E","N","A","R","F","D","V","B","X","M"],["X","M","K","P","V","B","N","Q","W","Y","L"],["S","L","\xC4","D","E","Z","M","K","T","X","P"],["T","F","D","V","B","N","P","W","X","Q","Y"],["S","K","O","R","S","T","E","N","L","M","Z"],["K","R","I","S","T","O","R","N","V","B","F"]],words:["PRESENT","SANTA","REINDEER","SLEIGH","CHIMNEY","HOLLY"],wordsSv:["PRESENT","TOMTEN","RENAR","SL\xC4DE","SKORSTEN","KRISTORN"]}},{id:"extra-wordsearch-3",nameKey:"extras.games.wordSearch.levels.extra-wordsearch-3.name",descriptionKey:"extras.games.wordSearch.levels.extra-wordsearch-3.description",challengeType:"wordSearch",challengeData:{grid:[["X","Q","M","I","S","T","L","E","T","O","E","Z"],["K","P","V","B","N","W","Y","L","T","F","D","M"],["G","I","N","G","E","R","B","R","E","A","D","P"],["W","Q","Z","X","M","E","V","B","N","Y","L","T"],["W","R","E","A","T","A","F","D","P","W","X","Q"],["V","B","N","M","K","T","L","Y","T","Z","F","D"],["O","X","C","A","M","H","M","U","W","Q","V","B"],["O","R","N","A","M","E","N","T","W","Q","V","B"],["X","M","K","P","G","A","R","L","A","N","D","D"],["Z","M","E","V","E","R","G","R","E","E","N","K"],["V","B","N","L","Y","T","F","Q","W","X","P","V"],["T","I","N","S","E","L","Y","B","N","M","K","F"]],gridSv:[["M","I","S","T","E","L","X","Q","Z","M","K","P"],["K","P","V","B","N","W","Y","L","T","F","D","M"],["P","E","P","P","A","R","K","A","K","A","V","B"],["W","Q","Z","X","M","K","V","B","N","Y","L","T"],["K","R","A","N","S","F","D","P","W","X","Q","M"],["V","B","N","M","K","P","L","Y","T","Z","F","D"],["P","R","Y","D","N","A","D","W","Q","V","B","N"],["X","M","K","P","V","B","N","L","Y","T","F","D"],["B","A","R","R","T","R","\xC4","D","Z","M","K","P"],["G","I","R","L","A","N","G","Q","W","X","P","V"],["G","L","I","T","T","E","R","B","N","M","K","F"]],words:["MISTLETOE","GINGERBREAD","WREATH","ORNAMENT","EVERGREEN","GARLAND","TINSEL"],wordsSv:["MISTEL","PEPPARKAKA","KRANS","PRYDNAD","BARRTR\xC4D","GIRLANG","GLITTER"]}}]},{type:"flappySleigh",levels:[{id:"extra-flappy-1",nameKey:"extras.games.flappySleigh.levels.extra-flappy-1.name",descriptionKey:"extras.games.flappySleigh.levels.extra-flappy-1.description",challengeType:"flappySleigh",challengeData:{levelLength:3e3,scrollSpeed:180,flapForce:350,gravity:800,gapSize:170,obstacleFrequency:380}},{id:"extra-flappy-2",nameKey:"extras.games.flappySleigh.levels.extra-flappy-2.name",descriptionKey:"extras.games.flappySleigh.levels.extra-flappy-2.description",challengeType:"flappySleigh",challengeData:{levelLength:4500,scrollSpeed:220,flapForce:350,gravity:850,gapSize:140,obstacleFrequency:300}},{id:"extra-flappy-3",nameKey:"extras.games.flappySleigh.levels.extra-flappy-3.name",descriptionKey:"extras.games.flappySleigh.levels.extra-flappy-3.description",challengeType:"flappySleigh",challengeData:{levelLength:6e3,scrollSpeed:250,flapForce:370,gravity:900,gapSize:130,obstacleFrequency:280}},{id:"extra-flappy-infinite-easy",nameKey:"extras.games.flappySleigh.levels.extra-flappy-infinite-easy.name",descriptionKey:"extras.games.flappySleigh.levels.extra-flappy-infinite-easy.description",challengeType:"flappySleigh",isInfinite:!0,challengeData:{levelLength:6e3,scrollSpeed:185,flapForce:340,gravity:780,gapSize:190,obstacleFrequency:380,infiniteMode:!0}},{id:"extra-flappy-infinite-medium",nameKey:"extras.games.flappySleigh.levels.extra-flappy-infinite-medium.name",descriptionKey:"extras.games.flappySleigh.levels.extra-flappy-infinite-medium.description",challengeType:"flappySleigh",isInfinite:!0,challengeData:{levelLength:6e3,scrollSpeed:220,flapForce:360,gravity:880,gapSize:160,obstacleFrequency:320,infiniteMode:!0}},{id:"extra-flappy-infinite-hard",nameKey:"extras.games.flappySleigh.levels.extra-flappy-infinite-hard.name",descriptionKey:"extras.games.flappySleigh.levels.extra-flappy-infinite-hard.description",challengeType:"flappySleigh",isInfinite:!0,challengeData:{levelLength:6e3,scrollSpeed:260,flapForce:380,gravity:960,gapSize:135,obstacleFrequency:270,infiniteMode:!0}}]},{type:"sokoban",levels:[{id:"extra-sokoban-1",nameKey:"extras.games.sokoban.levels.extra-sokoban-1.name",descriptionKey:"extras.games.sokoban.levels.extra-sokoban-1.description",challengeType:"sokoban",challengeData:{level:[[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],["W"],["W"],["W"],["W"],["W"],[" "],["W"],["W"],["W"],["W"],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],["W"],["G"],["G"],["G"],["W"],[" "],["W"],[" "],[" "],["W"],["W"],["W"],["W"],[" "],[" "],[" "],[" "],[" "]],[[" "],["W"],["G"],["G"],["G"],["W"],["W"],["W"],[" "],[" "],["B"],[" "],[" "],["W"],[" "],[" "],[" "],[" "],[" "]],[[" "],["W"],["G"],["G"],["G"],["G"],["W"],["W"],[" "],["B"],[" "],[" "],["B"],["W"],["W"],["W"],[" "],[" "],[" "]],[[" "],["W"],["W"],["G"],["G"],["G"],["G"],["W"],["W"],[" "],[" "],[" "],["B"],[" "],[" "],["W"],[" "],[" "],[" "]],[[" "],["W"],["W"],["W"],["G"],["G"],["G"],[" "],["W"],["W"],[" "],["B"],[" "],["B"],[" "],["W"],[" "],[" "],[" "]],[[" "],["W"],[" "],["W"],["W"],[" "],[" "],[" "],[" "],["W"],[" "],[" "],["B"],[" "],[" "],["W"],[" "],[" "],[" "]],[[" "],["W"],[" "],[" "],["W"],["W"],[" "],["W"],[" "],["W"],["W"],["W"],[" "],["W"],["W"],["W"],["W"],[" "],[" "]],[[" "],["W"],[" "],["B"],[" "],["W"],[" "],["W"],["B"],[" "],[" "],["B"],[" "],[" "],[" "],[" "],["W"],[" "],[" "]],[[" "],["W"],[" "],[" "],["B"],[" "],["P"],[" "],["B"],[" "],[" "],[" "],[" "],["B"],[" "],[" "],["W"],[" "],[" "]],[[" "],["W"],[" "],[" "],[" "],["W"],[" "],["B"],[" "],["B"],["B"],[" "],["B"],[" "],["W"],["W"],["W"],[" "],[" "]],[[" "],["W"],[" "],[" "],["W"],["W"],["W"],["W"],["W"],["W"],[" "],[" "],["W"],["W"],["W"],[" "],[" "],[" "],[" "]],[[" "],["W"],[" "],["W"],["W"],[" "],[" "],[" "],[" "],["W"],["W"],["W"],["W"],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],["W"],["W"],["W"],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]]]}},{id:"extra-sokoban-2",nameKey:"extras.games.sokoban.levels.extra-sokoban-2.name",descriptionKey:"extras.games.sokoban.levels.extra-sokoban-2.description",challengeType:"sokoban",challengeData:{level:[[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],["W"],["G"],["G"],[" "],[" "],["W"],[" "],[" "],[" "],[" "],[" "],["W"],["W"],["W"],[" "],[" "],[" "]],[[" "],[" "],["W"],["G"],["G"],[" "],[" "],["W"],[" "],["B"],[" "],[" "],["B"],[" "],[" "],["W"],[" "],[" "],[" "]],[[" "],[" "],["W"],["G"],["G"],[" "],[" "],["W"],["B"],["W"],["W"],["W"],["W"],[" "],[" "],["W"],[" "],[" "],[" "]],[[" "],[" "],["W"],["G"],["G"],[" "],[" "],[" "],[" "],["P"],[" "],["W"],["W"],[" "],[" "],["W"],[" "],[" "],[" "]],[[" "],[" "],["W"],["G"],["G"],[" "],[" "],["W"],[" "],["W"],[" "],[" "],["B"],[" "],["W"],["W"],[" "],[" "],[" "]],[[" "],[" "],["W"],["W"],["W"],["W"],["W"],["W"],[" "],["W"],["W"],["B"],[" "],["B"],[" "],["W"],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],["W"],[" "],["B"],[" "],[" "],["B"],[" "],["B"],[" "],["B"],[" "],["W"],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],["W"],[" "],[" "],[" "],[" "],["W"],[" "],[" "],[" "],[" "],[" "],["W"],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]]]}},{id:"extra-sokoban-3",nameKey:"extras.games.sokoban.levels.extra-sokoban-3.name",descriptionKey:"extras.games.sokoban.levels.extra-sokoban-3.description",challengeType:"sokoban",challengeData:{level:[[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],["W"],[" "],[" "],[" "],[" "],[" "],["P"],["W"],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],["W"],[" "],["B"],["W"],["B"],[" "],["W"],["W"],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],["W"],[" "],["B"],[" "],[" "],["B"],["W"],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],["W"],["W"],["B"],[" "],["B"],[" "],["W"],[" "],[" "],[" "]],[[" "],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],[" "],["B"],[" "],["W"],[" "],["W"],["W"],["W"],[" "]],[[" "],["W"],["G"],["G"],["G"],["G"],[" "],[" "],["W"],["W"],[" "],["B"],[" "],[" "],["B"],[" "],[" "],["W"],[" "]],[[" "],["W"],["W"],["G"],["G"],["G"],[" "],[" "],[" "],[" "],["B"],[" "],[" "],["B"],[" "],[" "],[" "],["W"],[" "]],[[" "],["W"],["G"],["G"],["G"],["G"],[" "],[" "],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],[" "]],[[" "],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]]]}},{id:"extra-sokoban-4",nameKey:"extras.games.sokoban.levels.extra-sokoban-4.name",descriptionKey:"extras.games.sokoban.levels.extra-sokoban-4.description",challengeType:"sokoban",challengeData:{level:[[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],["W"],["W"],["W"],["W"],["W"],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],["W"],[" "],[" "],[" "],["W"],["W"],["W"],["W"],["W"],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],["W"],[" "],["W"],["B"],["W"],["W"],[" "],[" "],["W"],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],["W"],[" "],[" "],[" "],[" "],[" "],["B"],[" "],["W"],[" "]],[[" "],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],[" "],["W"],["W"],["W"],[" "],[" "],[" "],["W"],[" "]],[[" "],["W"],["G"],["G"],["G"],["G"],[" "],[" "],["W"],["W"],[" "],["B"],[" "],[" "],["B"],["W"],["W"],["W"],[" "]],[[" "],["W"],["G"],["G"],["G"],["G"],[" "],[" "],[" "],[" "],["B"],[" "],["B"],["B"],[" "],["W"],["W"],[" "],[" "]],[[" "],["W"],["G"],["G"],["G"],["G"],[" "],[" "],["W"],["W"],["B"],[" "],[" "],["B"],[" "],["P"],["W"],[" "],[" "]],[[" "],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],[" "],[" "],["B"],[" "],[" "],["W"],["W"],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],["W"],[" "],["B"],[" "],["B"],[" "],[" "],["W"],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],["W"],["W"],["W"],[" "],["W"],["W"],[" "],["W"],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],["W"],[" "],[" "],[" "],[" "],["W"],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],["W"],["W"],["W"],["W"],["W"],["W"],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]]]}},{id:"extra-sokoban-5",nameKey:"extras.games.sokoban.levels.extra-sokoban-5.name",descriptionKey:"extras.games.sokoban.levels.extra-sokoban-5.description",challengeType:"sokoban",challengeData:{level:[[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],["W"],["W"],["W"],["W"],["W"],[" "],[" "],["W"],["W"],["W"],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],["G"],["G"],[" "],[" "],["W"],[" "],["W"],["W"],["P"],["W"],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],["G"],["G"],[" "],[" "],["W"],["W"],["W"],[" "],[" "],[" "],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],["G"],["G"],[" "],[" "],[" "],[" "],[" "],["B"],["B"],[" "],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],["G"],["G"],[" "],[" "],["W"],[" "],["W"],[" "],["B"],[" "],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],["G"],["G"],["W"],["W"],["W"],[" "],["W"],[" "],["B"],[" "],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],["W"],["W"],["W"],[" "],["B"],[" "],["W"],["B"],[" "],[" "],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],["W"],[" "],[" "],["B"],["W"],[" "],["B"],[" "],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],["W"],[" "],["B"],[" "],[" "],["B"],[" "],[" "],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],["W"],[" "],[" "],["W"],["W"],[" "],[" "],[" "],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]]]}},{id:"extra-sokoban-6",nameKey:"extras.games.sokoban.levels.extra-sokoban-6.name",descriptionKey:"extras.games.sokoban.levels.extra-sokoban-6.description",challengeType:"sokoban",challengeData:{level:[[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],["W"],["W"],["W"],["W"],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],["W"],["W"],["W"],["W"],["W"],["W"],["W"],[" "],[" "],[" "],["W"],["W"],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],["W"],[" "],["W"],[" "],["P"],["W"],["W"],[" "],["B"],["B"],[" "],["W"],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],[" "],[" "],[" "],[" "],["B"],[" "],[" "],[" "],[" "],[" "],[" "],["W"],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],[" "],[" "],["B"],[" "],[" "],["W"],["W"],["W"],[" "],[" "],[" "],["W"],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],["W"],["W"],[" "],["W"],["W"],["W"],["W"],["W"],["B"],["W"],["W"],["W"],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],[" "],["B"],[" "],[" "],["W"],["W"],["W"],[" "],["G"],["G"],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],[" "],["B"],[" "],["B"],[" "],["B"],[" "],["G"],["G"],["G"],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],[" "],[" "],[" "],[" "],["W"],["W"],["W"],["G"],["G"],["G"],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],[" "],["B"],["B"],[" "],["W"],[" "],["W"],["G"],["G"],["G"],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],[" "],[" "],["W"],["W"],["W"],[" "],["W"],["W"],["W"],["W"],["W"],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],["W"],["W"],["W"],["W"],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]]]}}]},{type:"mazeRunner",levels:[{id:"extra-maze-1",nameKey:"extras.games.mazeRunner.levels.extra-maze-1.name",descriptionKey:"extras.games.mazeRunner.levels.extra-maze-1.description",challengeType:"mazeRunner",challengeData:{rows:15,cols:15,collectibleCount:3}},{id:"extra-maze-2",nameKey:"extras.games.mazeRunner.levels.extra-maze-2.name",descriptionKey:"extras.games.mazeRunner.levels.extra-maze-2.description",challengeType:"mazeRunner",challengeData:{rows:21,cols:21,collectibleCount:5}},{id:"extra-maze-3",nameKey:"extras.games.mazeRunner.levels.extra-maze-3.name",descriptionKey:"extras.games.mazeRunner.levels.extra-maze-3.description",challengeType:"mazeRunner",challengeData:{rows:25,cols:25,collectibleCount:8}}]}];var DM=(t,e)=>e.type,SM=(t,e)=>e.id;function _M(t,e){if(t&1&&(p(0,"div",21),y(1," \u2744 "),h()),t&2){let n=e.$implicit;Ai("left",n.left,"%")("top",n.startY,"px")("animation-duration",n.animationDuration,"s")("animation-delay",n.animationDelay,"s")("font-size",n.fontSize,"px")("opacity",n.opacity)}}function LM(t,e){if(t&1&&L(0,"lucide-icon",38),t&2){let n=C(4);x("img",n.Check)("strokeWidth",3)}}function EM(t,e){if(t&1){let n=T();p(0,"button",32),w("click",function(){let a=S(n).$implicit,r=C(3);return _(r.selectGame(a))}),p(1,"div",33)(2,"div",34)(3,"span",35),y(4),h(),p(5,"div")(6,"h3",36),y(7),k(8,"translate"),h(),p(9,"p",37),y(10),k(11,"translate"),h()()(),b(12,LM,1,2,"lucide-icon",38),h()()}if(t&2){let n=e.$implicit,i=C(3);le("border-2",i.getCompletionCount(n).completed===i.getCompletionCount(n).total)("border-accent-green",i.getCompletionCount(n).completed===i.getCompletionCount(n).total),d(4),de(i.getGameIcon(n.type)),d(3),g(" ",v(8,10,"extras.games."+n.type+".title")," "),d(3),$n(" ",i.getCompletionCount(n).completed,"/",i.getCompletionCount(n).total," ",v(11,12,"extras.levelsCompleted")," "),d(2),I(i.getCompletionCount(n).completed===i.getCompletionCount(n).total?12:-1)}}function TM(t,e){if(t&1&&(p(0,"div",30),be(1,EM,13,14,"button",31,DM),h()),t&2){let n=C(2);d(),Ie(n.extraLevels)}}function AM(t,e){if(t&1&&L(0,"lucide-icon",49),t&2){let n=C(4);x("img",n.Check)("strokeWidth",3)}}function PM(t,e){if(t&1){let n=T();p(0,"button",46),w("click",function(){let a=S(n).$implicit,r=C(3);return _(r.selectExtra(a))}),p(1,"div",47)(2,"h4",48),y(3),k(4,"translate"),h(),b(5,AM,1,2,"lucide-icon",49),h(),p(6,"p",37),y(7),k(8,"translate"),h()()}if(t&2){let n=e.$implicit,i=C(3);le("border-2",i.isExtraCompleted(n.id))("border-accent-green",i.isExtraCompleted(n.id)),d(3),g(" ",v(4,7,n.nameKey)," "),d(2),I(i.isExtraCompleted(n.id)?5:-1),d(2),g(" ",v(8,9,n.descriptionKey)," ")}}function RM(t,e){if(t&1){let n=T();p(0,"div",39)(1,"button",40),w("click",function(){S(n);let a=C(2);return _(a.backToGameSelection())}),L(2,"lucide-icon",28),h(),p(3,"span",41),y(4),h(),p(5,"div")(6,"h3",42),y(7),k(8,"translate"),h(),p(9,"p",43),y(10),k(11,"translate"),h()()(),p(12,"div",44),be(13,PM,9,11,"button",45,SM),h()}if(t&2){let n=C(2);d(2),x("img",n.ArrowLeft)("strokeWidth",2),d(2),de(n.getGameIcon(n.selectedGame.type)),d(3),g(" ",v(8,7,"extras.games."+n.selectedGame.type+".title")," "),d(3),$n(" ",n.getCompletionCount(n.selectedGame).completed,"/",n.getCompletionCount(n.selectedGame).total," ",v(11,9,"extras.levelsCompleted")," "),d(3),Ie(n.selectedGame.levels)}}function FM(t,e){if(t&1){let n=T();p(0,"div",22),w("click",function(){S(n);let a=C();return _(a.closeExtrasMenu())}),p(1,"div",23),w("click",function(a){return S(n),_(a.stopPropagation())}),p(2,"div",24)(3,"div",25)(4,"h2",26),y(5),k(6,"translate"),h()(),p(7,"button",27),w("click",function(){S(n);let a=C();return _(a.closeExtrasMenu())}),L(8,"lucide-icon",28),h()(),p(9,"div",29),b(10,TM,3,0,"div",30)(11,RM,15,11),h()()()}if(t&2){let n=C();d(5),g(" \u{1F381} ",v(6,4,"extras.title")," \u{1F381} "),d(3),x("img",n.X)("strokeWidth",2),d(2),I(n.selectedGame?11:10)}}function NM(t,e){if(t&1){let n=T();p(0,"app-challenge-host",50),w("close",function(){S(n);let a=C();return _(a.closeExtraChallenge())})("challengeCompleted",function(){S(n);let a=C();return _(a.onExtraChallengeCompleted())}),h()}if(t&2){let n=C();x("dayConfig",n.selectedExtraConfig)("isCompleted",n.selectedExtraId?n.isExtraCompleted(n.selectedExtraId):!1)}}var Gs=class t{constructor(e,n){this.translate=e;this.calendarState=n;let i=localStorage.getItem("language")||"sv";this.currentLanguage=i,this.translate.use(i),this.loadCompletedExtras()}X=Ss;ArrowLeft=qi;Check=ue;CheckCheck=Mp;XCircle=Cp;currentLanguage;snowflakes=[];showExtrasMenu=!1;showExtraChallenge=!1;selectedGame=null;selectedExtraConfig=null;selectedExtraId=null;extraLevels=T1;STORAGE_KEY="extras-completed";completedExtras=new Set;ngOnInit(){this.generateSnowflakes()}switchLanguage(e){this.currentLanguage=e,this.translate.use(e),localStorage.setItem("language",e)}toggleLanguage(){let e=this.currentLanguage==="sv"?"en":"sv";this.switchLanguage(e)}openExtras(){this.showExtrasMenu=!0,this.selectedGame=null}closeExtrasMenu(){this.showExtrasMenu=!1,this.selectedGame=null}selectGame(e){this.selectedGame=e}backToGameSelection(){this.selectedGame=null}selectExtra(e){this.selectedExtraId=e.id,this.selectedExtraConfig={day:0,challengeType:e.challengeType,funFactKey:"",challengeData:e.challengeData,levelId:e.id},this.showExtraChallenge=!0,this.showExtrasMenu=!1}closeExtraChallenge(){this.showExtraChallenge=!1,this.selectedExtraConfig=null,this.showExtrasMenu=!0}onExtraChallengeCompleted(){this.selectedExtraId&&(this.completedExtras.add(this.selectedExtraId),this.saveCompletedExtras())}isExtraCompleted(e){return this.completedExtras.has(e)}getCompletionCount(e){let n=e.levels.filter(a=>!a.isInfinite);return{completed:n.filter(a=>this.isExtraCompleted(a.id)).length,total:n.length}}getGameIcon(e){return{riddle:"\u{1F914}",hangman:"\u{1F524}",wordScramble:"\u{1F500}",wordSearch:"\u{1F50D}",rebus:"\u{1F9E9}",memoryCard:"\u{1F0CF}",geometryDash:"\u{1F385}",sokoban:"\u{1F381}",climber:"\u{1F9D7}",mazeRunner:"\u{1F3C3}",flappySleigh:"\u{1F6F7}"}[e]||"\u{1F381}"}markAllComplete(){confirm(this.translate.instant("admin.confirmMarkAll"))&&(this.calendarState.markAllDaysComplete(),T1.forEach(e=>{e.levels.forEach(n=>{n.isInfinite||this.completedExtras.add(n.id)})}),this.saveCompletedExtras(),alert(this.translate.instant("admin.allMarkedComplete")))}clearAllProgress(){confirm(this.translate.instant("admin.confirmClearAll"))&&(this.calendarState.clearAllProgress(),this.completedExtras.clear(),this.saveCompletedExtras(),alert(this.translate.instant("admin.allCleared")))}loadCompletedExtras(){let e=localStorage.getItem(this.STORAGE_KEY);if(e)try{let n=JSON.parse(e);this.completedExtras=new Set(n)}catch{this.completedExtras=new Set}}saveCompletedExtras(){let e=Array.from(this.completedExtras);localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}generateSnowflakes(){for(let n=0;n<100;n++)this.snowflakes.push({left:Math.random()*100,animationDuration:10+Math.random()*20,animationDelay:Math.random()*10,startY:-(Math.random()*100),fontSize:10+Math.random()*20,opacity:.3+Math.random()*.5})}static \u0275fac=function(n){return new(n||t)(A(dt),A(ke))};static \u0275cmp=Z({type:t,selectors:[["app-root"]],decls:33,vars:27,consts:[[1,"min-h-screen","flex","flex-col","bg-gradient-to-b","from-bg","to-surface","relative"],[1,"fixed","inset-0","pointer-events-none","overflow-hidden","z-0"],[1,"snowflake","absolute","text-white",3,"left","top","animation-duration","animation-delay","font-size","opacity"],[1,"bg-surface","border-b-2","border-accent-red","shadow-lg","relative","z-10"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-3","sm:py-4"],[1,"flex","items-center","justify-between","gap-4"],[1,"flex","items-center","gap-3","sm:gap-4","flex-1"],[1,"bg-white","rounded-lg","p-2","sm:p-2.5","shadow-md"],["src","assets/Jambiz_xmas_logo.png","alt","Jambiz Logo",1,"h-12","w-20","sm:h-14","sm:w-24","lg:h-16","lg:w-32","object-contain"],[1,"text-left"],[1,"text-xl","sm:text-2xl","lg:text-3xl","font-bold","text-text","leading-tight"],[1,"text-xs","sm:text-sm","text-text-muted","mt-0.5","sm:mt-1"],[1,"btn","btn-outline","shrink-0","text-xs","sm:text-sm","px-2","sm:px-3","py-1.5","sm:py-2","min-w-[3rem]","sm:min-w-[3.5rem]",3,"click"],[1,"btn","btn-secondary","shrink-0","text-xs","sm:text-sm","px-2","sm:px-3","py-1.5","sm:py-2",3,"click","title"],[1,"w-4","h-4","sm:w-5","sm:h-5",3,"img","strokeWidth"],[1,"btn","btn-primary","shrink-0","text-xs","sm:text-sm","px-2","sm:px-3","py-1.5","sm:py-2",3,"click","title"],[1,"flex-1","max-w-7xl","w-full","mx-auto","px-4","sm:px-6","lg:px-8","py-8","relative","z-10"],[1,"mt-8","text-center"],[1,"btn","btn-secondary","px-8","py-3","text-lg","font-bold",3,"click"],[1,"modal-overlay"],[3,"dayConfig","isCompleted"],[1,"snowflake","absolute","text-white"],[1,"modal-overlay",3,"click"],[1,"modal-content","w-full","h-full","lg:w-[90vw]","lg:max-w-5xl","lg:max-h-[90vh]","lg:rounded-2xl","flex","flex-col","overflow-hidden",3,"click"],[1,"flex","items-center","justify-between","mb-6","flex-shrink-0"],[1,"flex","items-center","gap-4"],[1,"text-2xl","sm:text-3xl","font-bold","text-text"],["aria-label","Close",1,"btn","btn-outline","p-2","min-w-0",3,"click"],[1,"w-6","h-6",3,"img","strokeWidth"],[1,"flex-1","overflow-y-auto"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"card","p-6","text-left","hover:bg-opacity-80","transition-all","cursor-pointer",3,"border-2","border-accent-green"],[1,"card","p-6","text-left","hover:bg-opacity-80","transition-all","cursor-pointer",3,"click"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],[1,"text-5xl"],[1,"text-xl","font-bold","text-text"],[1,"text-sm","text-text-muted"],[1,"w-8","h-8","text-accent-green",3,"img","strokeWidth"],[1,"mb-6","pb-6","border-b","border-surface","flex","items-center","gap-4"],["aria-label","Back",1,"btn","btn-outline","p-2","min-w-0",3,"click"],[1,"text-6xl"],[1,"text-2xl","font-bold","text-text","mb-2"],[1,"text-text-muted"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"card","p-6","text-left","hover:bg-opacity-80","transition-all",3,"border-2","border-accent-green"],[1,"card","p-6","text-left","hover:bg-opacity-80","transition-all",3,"click"],[1,"flex","items-start","justify-between","mb-3"],[1,"text-lg","font-bold","text-text"],[1,"w-6","h-6","text-accent-green",3,"img","strokeWidth"],[3,"close","challengeCompleted","dayConfig","isCompleted"]],template:function(n,i){n&1&&(p(0,"div",0)(1,"div",1),be(2,_M,2,12,"div",2,bt),h(),p(4,"header",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),L(9,"img",8),h(),p(10,"div",9)(11,"h1",10),y(12),k(13,"translate"),h(),p(14,"p",11),y(15),k(16,"translate"),h()()(),p(17,"button",12),w("click",function(){return i.toggleLanguage()}),y(18),h(),p(19,"button",13),k(20,"translate"),w("click",function(){return i.markAllComplete()}),L(21,"lucide-icon",14),h(),p(22,"button",15),k(23,"translate"),w("click",function(){return i.clearAllProgress()}),L(24,"lucide-icon",14),h()()()(),p(25,"main",16),L(26,"app-calendar"),p(27,"div",17)(28,"button",18),w("click",function(){return i.openExtras()}),y(29),k(30,"translate"),h()()()(),b(31,FM,12,6,"div",19),b(32,NM,1,2,"app-challenge-host",20)),n&2&&(d(2),Ie(i.snowflakes),d(10),g(" ",v(13,17,"app.title")," "),d(3),g(" ",v(16,19,"app.subtitle")," "),d(2),ct("aria-label","Switch to "+(i.currentLanguage==="sv"?"English":"Swedish")),d(),g(" ",i.currentLanguage==="sv"?"EN":"SV"," "),d(),x("title",Ot(v(20,21,"admin.markAllComplete"))),ct("aria-label","Mark all challenges as completed"),d(2),x("img",i.CheckCheck)("strokeWidth",2),d(),x("title",Ot(v(23,23,"admin.clearAll"))),ct("aria-label","Clear all progress"),d(2),x("img",i.XCircle)("strokeWidth",2),d(5),g(" \u{1F381} ",v(30,25,"extras.button")," \u{1F381} "),d(2),I(i.showExtrasMenu?31:-1),d(),I(i.showExtraChallenge&&i.selectedExtraConfig?32:-1))},dependencies:[X,J,Us,Ki,se,oe,Q],styles:["@keyframes _ngcontent-%COMP%_snowfall{0%{transform:translateY(0) rotate(0)}to{transform:translateY(100vh) rotate(360deg)}}.snowflake[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_snowfall linear infinite;-webkit-user-select:none;user-select:none;will-change:transform}"]})};d1(Gs,vp).catch(t=>console.error(t));
