<div class="rebus-container">
  <!-- Title -->
  <h3 class="text-xl sm:text-2xl font-bold text-gold mb-6 text-center">
    ğŸ {{ 'challenges.rebus.title' | translate }} ğŸ
  </h3>

  <!-- Instructions -->
  <p class="text-center text-text-muted mb-6">
    {{ 'challenges.rebus.instruction' | translate }}
  </p>

  <!-- Rebus Display -->
  <div class="bg-surface border-2 border-gold rounded-lg p-8 mb-6">
    <div class="text-center text-6xl sm:text-7xl lg:text-8xl leading-relaxed">
      {{ config.rebusKey | translate }}
    </div>
  </div>

  <!-- Hint Button (if available) -->
  @if (config.hintKey) {
  <div class="mb-4 text-center">
    <button class="btn btn-outline text-sm" (click)="toggleHint()">
      {{ (showHint ? 'challenges.rebus.hideHint' : 'challenges.rebus.showHint') | translate }}
    </button>
  </div>
  } @if (showHint && config.hintKey) {
  <div class="bg-accent-green bg-opacity-10 border border-accent-green rounded-lg p-4 mb-6">
    <p class="text-sm sm:text-base text-text text-center">ğŸ’¡ {{ config.hintKey | translate }}</p>
  </div>
  }

  <!-- Answer Input -->
  <div class="mb-6 max-w-96 mx-auto">
    <label for="rebus-answer" class="block text-sm font-medium text-text-muted mb-2">
      {{ 'challenges.rebus.answerLabel' | translate }}
    </label>
    <input
      id="rebus-answer"
      type="text"
      class="input"
      [(ngModel)]="userAnswer"
      (keypress)="onKeyPress($event)"
      [placeholder]="'challenges.rebus.placeholder' | translate"
      autocomplete="off"
    />
  </div>

  <!-- Error Message -->
  @if (showError) {
  <div class="mb-4 p-3 bg-accent-red bg-opacity-20 border border-accent-red rounded-lg">
    <p class="text-text text-center text-sm sm:text-base">
      âŒ {{ 'challenges.rebus.incorrect' | translate }}
    </p>
  </div>
  }

  <!-- Submit Button -->
  <div class="text-center flex flex-col sm:flex-row gap-3 justify-center">
    @if (!isCompleted) {
    <button
      class="btn btn-primary w-full sm:w-auto px-8"
      (click)="onSubmit()"
      [disabled]="!userAnswer.trim()"
    >
      {{ 'challenges.rebus.submit' | translate }}
    </button>
    } @else {
    <button class="btn btn-outline w-full sm:w-auto px-8" (click)="reset()">
      {{ 'ui.playAgain' | translate }}
    </button>
    }
  </div>
</div>
